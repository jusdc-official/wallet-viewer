/*! For license information please see main.4dd0da0f.js.LICENSE.txt */
(()=>{var e={49:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function w(){}function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=m.prototype;var v=b.prototype=new w;v.constructor=b,g(v,m.prototype),v.isPureReactComponent=!0;var E=Array.isArray,A=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)A.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:x.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+O(l,0):s,E(o)?(i="",null!=e&&(i=e.replace(P,"$&/")+"/"),N(o,t,i,"",function(e){return e})):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(P,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",E(e))for(var c=0;c<e.length;c++){var u=s+O(a=e[c],c);l+=N(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,u=s+O(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function C(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},_={transition:null},B={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:_,ReactCurrentOwner:x};function U(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:C,forEach:function(e,t,n){C(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return C(e,function(){t++}),t},toArray:function(e){return C(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.act=U,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=x.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)A.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.transition;_.transition={};try{e()}finally{_.transition=t}},t.unstable_act=U,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},59:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},64:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(686);r.__exportStar(n(754),t),r.__exportStar(n(59),t)},79:e=>{"use strict";function t(e){try{return JSON.stringify(e)}catch(t){return'"[Circular]"'}}e.exports=function(e,n,r){var i=r&&r.stringify||t;if("object"===typeof e&&null!==e){var s=n.length+1;if(1===s)return e;var o=new Array(s);o[0]=i(e);for(var a=1;a<s;a++)o[a]=i(n[a]);return o.join(" ")}if("string"!==typeof e)return e;var l=n.length;if(0===l)return e;for(var c="",u=0,h=-1,f=e&&e.length||0,d=0;d<f;){if(37===e.charCodeAt(d)&&d+1<f){switch(h=h>-1?h:0,e.charCodeAt(d+1)){case 100:case 102:if(u>=l)break;if(null==n[u])break;h<d&&(c+=e.slice(h,d)),c+=Number(n[u]),h=d+2,d++;break;case 105:if(u>=l)break;if(null==n[u])break;h<d&&(c+=e.slice(h,d)),c+=Math.floor(Number(n[u])),h=d+2,d++;break;case 79:case 111:case 106:if(u>=l)break;if(void 0===n[u])break;h<d&&(c+=e.slice(h,d));var p=typeof n[u];if("string"===p){c+="'"+n[u]+"'",h=d+2,d++;break}if("function"===p){c+=n[u].name||"<anonymous>",h=d+2,d++;break}c+=i(n[u]),h=d+2,d++;break;case 115:if(u>=l)break;h<d&&(c+=e.slice(h,d)),c+=String(n[u]),h=d+2,d++;break;case 37:h<d&&(c+=e.slice(h,d)),c+="%",h=d+2,d++,u--}++u}++d}if(-1===h)return e;h<f&&(c+=e.slice(h));return c}},92:(e,t,n)=>{"use strict";n.d(t,{Vw:()=>b,DO:()=>s,CC:()=>a,sd:()=>o,Fe:()=>i,Ht:()=>l,uH:()=>u,Id:()=>w,qj:()=>v,O8:()=>h,po:()=>E,Ow:()=>f,fd:()=>g,ZJ:()=>m,DH:()=>c});const r="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function i(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function s(e){if(!((t=e)instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name))throw new Error("Uint8Array expected");for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(r.length>0&&!r.includes(e.length))throw new Error("Uint8Array expected of length "+r+", got length="+e.length)}function o(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");i(e.outputLen),i(e.blockLen)}function a(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function l(e,t){s(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function c(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;r++)t[r].fill(0)}function h(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function f(e,t){return e<<32-t|e>>>t}const d=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])();function p(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const g=d?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=p(e[t]);return e};function y(e){if("string"!==typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}function m(e){return"string"===typeof e&&(e=y(e)),s(e),e}function w(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];s(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}class b{}function v(e){const t=t=>e().update(m(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function E(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(r&&"function"===typeof r.getRandomValues)return r.getRandomValues(new Uint8Array(e));if(r&&"function"===typeof r.randomBytes)return Uint8Array.from(r.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}},98:(e,t,n)=>{const r=n(135);function i(e,t,n){const r=e[t]+e[n];let i=e[t+1]+e[n+1];r>=4294967296&&i++,e[t]=r,e[t+1]=i}function s(e,t,n,r){let i=e[t]+n;n<0&&(i+=4294967296);let s=e[t+1]+r;i>=4294967296&&s++,e[t]=i,e[t+1]=s}function o(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function a(e,t,n,r,o,a){const l=h[o],c=h[o+1],f=h[a],d=h[a+1];i(u,e,t),s(u,e,l,c);let p=u[r]^u[e],g=u[r+1]^u[e+1];u[r]=g,u[r+1]=p,i(u,n,r),p=u[t]^u[n],g=u[t+1]^u[n+1],u[t]=p>>>24^g<<8,u[t+1]=g>>>24^p<<8,i(u,e,t),s(u,e,f,d),p=u[r]^u[e],g=u[r+1]^u[e+1],u[r]=p>>>16^g<<16,u[r+1]=g>>>16^p<<16,i(u,n,r),p=u[t]^u[n],g=u[t+1]^u[n+1],u[t]=g>>>31^p<<1,u[t+1]=p>>>31^g<<1}const l=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(e){return 2*e})),u=new Uint32Array(32),h=new Uint32Array(32);function f(e,t){let n=0;for(n=0;n<16;n++)u[n]=e.h[n],u[n+16]=l[n];for(u[24]=u[24]^e.t,u[25]=u[25]^e.t/4294967296,t&&(u[28]=~u[28],u[29]=~u[29]),n=0;n<32;n++)h[n]=o(e.b,4*n);for(n=0;n<12;n++)a(0,8,16,24,c[16*n+0],c[16*n+1]),a(2,10,18,26,c[16*n+2],c[16*n+3]),a(4,12,20,28,c[16*n+4],c[16*n+5]),a(6,14,22,30,c[16*n+6],c[16*n+7]),a(0,10,20,30,c[16*n+8],c[16*n+9]),a(2,12,22,24,c[16*n+10],c[16*n+11]),a(4,14,16,26,c[16*n+12],c[16*n+13]),a(6,8,18,28,c[16*n+14],c[16*n+15]);for(n=0;n<16;n++)e.h[n]=e.h[n]^u[n]^u[n+16]}const d=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function p(e,t,n,r){if(0===e||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&16!==n.length)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(r&&16!==r.length)throw new Error("Illegal personal, expected Uint8Array with length is 16");const i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};d.fill(0),d[0]=e,t&&(d[1]=t.length),d[2]=1,d[3]=1,n&&d.set(n,32),r&&d.set(r,48);for(let s=0;s<16;s++)i.h[s]=l[s]^o(d,4*s);return t&&(g(i,t),i.c=128),i}function g(e,t){for(let n=0;n<t.length;n++)128===e.c&&(e.t+=e.c,f(e,!1),e.c=0),e.b[e.c++]=t[n]}function y(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;f(e,!0);const t=new Uint8Array(e.outlen);for(let n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n);return t}function m(e,t,n,i,s){n=n||64,e=r.normalizeInput(e),i&&(i=r.normalizeInput(i)),s&&(s=r.normalizeInput(s));const o=p(n,t,i,s);return g(o,e),y(o)}e.exports={blake2b:m,blake2bHex:function(e,t,n,i,s){const o=m(e,t,n,i,s);return r.toHex(o)},blake2bInit:p,blake2bUpdate:g,blake2bFinal:y}},118:(e,t,n)=>{const r=n(135);function i(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function s(e,t,n,r,i,s){c[e]=c[e]+c[t]+i,c[r]=o(c[r]^c[e],16),c[n]=c[n]+c[r],c[t]=o(c[t]^c[n],12),c[e]=c[e]+c[t]+s,c[r]=o(c[r]^c[e],8),c[n]=c[n]+c[r],c[t]=o(c[t]^c[n],7)}function o(e,t){return e>>>t^e<<32-t}const a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),l=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),c=new Uint32Array(16),u=new Uint32Array(16);function h(e,t){let n=0;for(n=0;n<8;n++)c[n]=e.h[n],c[n+8]=a[n];for(c[12]^=e.t,c[13]^=e.t/4294967296,t&&(c[14]=~c[14]),n=0;n<16;n++)u[n]=i(e.b,4*n);for(n=0;n<10;n++)s(0,4,8,12,u[l[16*n+0]],u[l[16*n+1]]),s(1,5,9,13,u[l[16*n+2]],u[l[16*n+3]]),s(2,6,10,14,u[l[16*n+4]],u[l[16*n+5]]),s(3,7,11,15,u[l[16*n+6]],u[l[16*n+7]]),s(0,5,10,15,u[l[16*n+8]],u[l[16*n+9]]),s(1,6,11,12,u[l[16*n+10]],u[l[16*n+11]]),s(2,7,8,13,u[l[16*n+12]],u[l[16*n+13]]),s(3,4,9,14,u[l[16*n+14]],u[l[16*n+15]]);for(n=0;n<8;n++)e.h[n]^=c[n]^c[n+8]}function f(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=t?t.length:0;if(t&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(a),b:new Uint8Array(64),c:0,t:0,outlen:e};return r.h[0]^=16842752^n<<8^e,n>0&&(d(r,t),r.c=64),r}function d(e,t){for(let n=0;n<t.length;n++)64===e.c&&(e.t+=e.c,h(e,!1),e.c=0),e.b[e.c++]=t[n]}function p(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;h(e,!0);const t=new Uint8Array(e.outlen);for(let n=0;n<e.outlen;n++)t[n]=e.h[n>>2]>>8*(3&n)&255;return t}function g(e,t,n){n=n||32,e=r.normalizeInput(e);const i=f(n,t);return d(i,e),p(i)}e.exports={blake2s:g,blake2sHex:function(e,t,n){const i=g(e,t,n);return r.toHex(i)},blake2sInit:f,blake2sUpdate:d,blake2sFinal:p}},119:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(345)},135:e=>{function t(e){return(4294967296+e).toString(16).substring(1)}e.exports={normalizeInput:function(e){let t;if(e instanceof Uint8Array)t=e;else{if("string"!==typeof e)throw new Error("Input must be an string, Buffer or Uint8Array");t=(new TextEncoder).encode(e)}return t},toHex:function(e){return Array.prototype.map.call(e,function(e){return(e<16?"0":"")+e.toString(16)}).join("")},debugPrint:function(e,n,r){let i="\n"+e+" = ";for(let s=0;s<n.length;s+=2){if(32===r)i+=t(n[s]).toUpperCase(),i+=" ",i+=t(n[s+1]).toUpperCase();else{if(64!==r)throw new Error("Invalid size "+r);i+=t(n[s+1]).toUpperCase(),i+=t(n[s]).toUpperCase()}s%6===4?i+="\n"+new Array(e.length+4).join(" "):s<n.length-2&&(i+=" ")}console.log(i)},testSpeed:function(e,t,n){let r=(new Date).getTime();const i=new Uint8Array(t);for(let o=0;o<t;o++)i[o]=o%256;const s=(new Date).getTime();console.log("Generated random input in "+(s-r)+"ms"),r=s;for(let o=0;o<n;o++){const n=e(i),s=(new Date).getTime(),o=s-r;r=s,console.log("Hashed in "+o+"ms: "+n.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(o/1e3)*100)/100+" MB PER SECOND")}}}},224:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"===typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var a,l=[],c=!1,u=-1;function h(){c&&a&&(c=!1,a.length?l=a.concat(l):u=-1,l.length&&f())}function f(){if(!c){var e=o(h);c=!0;for(var t=l.length;t;){for(a=l,l=[];++u<t;)a&&a[u].run();u=-1,t=l.length}a=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new d(e,t)),1!==l.length||c||o(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},227:(e,t,n)=>{"use strict";var r=n(224);function i(){return"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product}function s(){return"undefined"!==typeof r&&"undefined"!==typeof r.versions&&"undefined"!==typeof r.versions.node}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.isNode=t.isReactNative=void 0,t.isReactNative=i,t.isNode=s,t.isBrowser=function(){return!i()&&!s()}},304:(e,t,n)=>{"use strict";n.d(t,{B4:()=>p,CQ:()=>E,CW:()=>v,Ei:()=>f,F8:()=>A,P5:()=>d,TH:()=>x,Vl:()=>w,Vr:()=>b,WM:()=>g,WQ:()=>m,im:()=>y,jm:()=>l,lD:()=>o,qh:()=>h,rE:()=>c,ry:()=>u,xn:()=>a});const r=BigInt(2**32-1),i=BigInt(32);function s(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&r),l:Number(e>>i&r)}:{h:0|Number(e>>i&r),l:0|Number(e&r)}}function o(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let o=0;o<n;o++){const{h:n,l:a}=s(e[o],t);[r[o],i[o]]=[n,a]}return[r,i]}const a=(e,t,n)=>e>>>n,l=(e,t,n)=>e<<32-n|t>>>n,c=(e,t,n)=>e>>>n|t<<32-n,u=(e,t,n)=>e<<32-n|t>>>n,h=(e,t,n)=>e<<64-n|t>>>n-32,f=(e,t,n)=>e>>>n-32|t<<64-n,d=(e,t,n)=>e<<n|t>>>32-n,p=(e,t,n)=>t<<n|e>>>32-n,g=(e,t,n)=>t<<n-32|e>>>64-n,y=(e,t,n)=>e<<n-32|t>>>64-n;function m(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}const w=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),b=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,v=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),E=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,A=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),x=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0},325:(e,t,n)=>{"use strict";const r=n(676),i=n(897),s="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=l,t.IS=50;const o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return c(e,t,n)}function c(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|g(e,t);let r=a(n);const i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(W(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(W(e,ArrayBuffer)||e&&W(e.buffer,ArrayBuffer))return d(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(W(e,SharedArrayBuffer)||e&&W(e.buffer,SharedArrayBuffer)))return d(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);const i=function(e){if(l.isBuffer(e)){const t=0|p(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||J(e.length)?a(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return u(e),a(e<0?0:0|p(e))}function f(e){const t=e.length<0?0:0|p(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function d(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function p(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function g(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||W(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(i)return r?-1:G(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return N(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function w(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),J(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){let s,o=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let r=-1;for(s=n;s<a;s++)if(c(e,s)===c(t,-1===r?0:s-r)){if(-1===r&&(r=s),s-r+1===l)return r*o}else-1!==r&&(s-=s-r),r=-1}else for(n+l>a&&(n=a-l),s=n;s>=0;s--){let n=!0;for(let r=0;r<l;r++)if(c(e,s+r)!==c(t,r)){n=!1;break}if(n)return s}return-1}function v(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const s=t.length;let o;for(r>s/2&&(r=s/2),o=0;o<r;++o){const r=parseInt(t.substr(2*o,2),16);if(J(r))return o;e[n+o]=r}return o}function E(e,t,n,r){return Q(G(t,e.length-n),e,n,r)}function A(e,t,n,r){return Q(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return Q(K(t),e,n,r)}function S(e,t,n,r){return Q(function(e,t){let n,r,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r);return s}(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=n){let n,r,a,l;switch(o){case 1:t<128&&(s=t);break;case 2:n=e[i+1],128===(192&n)&&(l=(31&t)<<6|63&n,l>127&&(s=l));break;case 3:n=e[i+1],r=e[i+2],128===(192&n)&&128===(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(s=l));break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,l>65535&&l<1114112&&(s=l))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=o}return function(e){const t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=P));return n}(r)}l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?a(e):void 0!==t?"string"===typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},l.allocUnsafe=function(e){return h(e)},l.allocUnsafeSlow=function(e){return h(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(W(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),W(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=l.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(W(t,Uint8Array))i+t.length>r.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},l.byteLength=g,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):y.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},s&&(l.prototype[s]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,i){if(W(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let s=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0);const a=Math.min(s,o),c=this.slice(r,i),u=e.slice(t,n);for(let l=0;l<a;++l)if(c[l]!==u[l]){s=c[l],o=u[l];break}return s<o?-1:o<s?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return w(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return w(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let s=!1;for(;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return E(this,e,t,n);case"ascii":case"latin1":case"binary":return A(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const P=4096;function O(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function N(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function C(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let s=t;s<n;++s)i+=Y[e[s]];return i}function T(e,t,n){const r=e.slice(t,n);let i="";for(let s=0;s<r.length-1;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function R(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function _(e,t,n,r,i,s){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r,i){V(t,r,i,e,n,7);let s=Number(t&BigInt(4294967295));e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,n}function U(e,t,n,r,i){V(t,r,i,e,n,7);let s=Number(t&BigInt(4294967295));e[n+7]=s,s>>=8,e[n+6]=s,s>>=8,e[n+5]=s,s>>=8,e[n+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=o,o>>=8,e[n+2]=o,o>>=8,e[n+1]=o,o>>=8,e[n]=o,n+8}function L(e,t,n,r,i,s){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,s){return t=+t,n>>>=0,s||L(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function M(e,t,n,r,s){return t=+t,n>>>=0,s||L(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e],i=1,s=0;for(;++s<t&&(i*=256);)r+=this[e+s]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=Z(function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))}),l.prototype.readBigUInt64BE=Z(function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)}),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e],i=1,s=0;for(;++s<t&&(i*=256);)r+=this[e+s]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=t,i=1,s=this[e+--r];for(;r>0&&(i*=256);)s+=this[e+--r]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},l.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=Z(function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),l.prototype.readBigInt64BE=Z(function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||q(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)}),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){_(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=1,s=0;for(this[t]=255&e;++s<n&&(i*=256);)this[t+s]=e/i&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){_(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=n-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=Z(function(e){return B(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Z(function(e){return U(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);_(this,e,t,n,r-1,-r)}let i=0,s=1,o=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s|0)-o&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);_(this,e,t,n,r-1,-r)}let i=n-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s|0)-o&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=Z(function(e){return B(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Z(function(e){return U(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},l.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{const s=l.isBuffer(e)?e:l.from(e,r),o=s.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=s[i%o]}return this};const F={};function z(e,t,n){F[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function j(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function V(e,t,n,r,i,s){if(e>n||e<t){const r="bigint"===typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(s+1)}${r}`:`>= -(2${r} ** ${8*(s+1)-1}${r}) and < 2 ** ${8*(s+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new F.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){H(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||q(t,e.length-(n+1))}(r,i,s)}function H(e,t){if("number"!==typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function q(e,t,n){if(Math.floor(e)!==e)throw H(e,n),new F.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}z("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),z("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),z("ERR_OUT_OF_RANGE",function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=j(String(n)):"bigint"===typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=j(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r},RangeError);const $=/[^+/0-9A-Za-z-_]/g;function G(e,t){let n;t=t||1/0;const r=e.length;let i=null;const s=[];for(let o=0;o<r;++o){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function K(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace($,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function Q(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function W(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!==e}const Y=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function Z(e){return"undefined"===typeof BigInt?X:e}function X(){throw new Error("BigInt not supported")}},340:(e,t,n)=>{"use strict";e.exports=n(761)},345:(e,t,n)=>{"use strict";var r=n(950),i=n(340);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function g(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){y[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){y[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){y[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){y[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){y[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var m=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m,w);y[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m,w);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m,w);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),A=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),P=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var _=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var B=Symbol.iterator;function U(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}var L,D=Object.assign;function M(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function z(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function j(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case A:return"Portal";case I:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case C:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function W(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]})});var me=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function we(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,xe=null,Se=null;function Ie(e){if(e=bi(e)){if("function"!==typeof Ae)throw Error(s(280));var t=e.stateNode;t&&(t=Ei(t),Ae(e.stateNode,e.type,t))}}function ke(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Pe(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Oe(e,t){return e(t)}function Ne(){}var Ce=!1;function Te(e,t,n){if(Ce)return e(t,n);Ce=!0;try{return Oe(e,t,n)}finally{Ce=!1,(null!==xe||null!==Se)&&(Ne(),Pe())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var _e=!1;if(u)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){_e=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ue){_e=!1}function Ue(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,De=null,Me=!1,Fe=null,ze={onError:function(e){Le=!0,De=e}};function je(e,t,n,r,i,s,o,a,l){Le=!1,De=null,Ue.apply(ze,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ve(e)!==e)throw Error(s(188))}function $e(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,We=i.unstable_shouldYield,Je=i.unstable_requestPaint,Ye=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function wt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,At,xt,St,It,kt=!1,Pt=[],Ot=null,Nt=null,Ct=null,Tt=new Map,Rt=new Map,_t=[],Bt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ut(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&At(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Dt(e){var t=wi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void It(e.priority,function(){xt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&At(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ve=r,n.target.dispatchEvent(r),ve=null,t.shift()}return!0}function Ft(e,t,n){Mt(e)&&n.delete(t)}function zt(){kt=!1,null!==Ot&&Mt(Ot)&&(Ot=null),null!==Nt&&Mt(Nt)&&(Nt=null),null!==Ct&&Mt(Ct)&&(Ct=null),Tt.forEach(Ft),Rt.forEach(Ft)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Vt(e){function t(t){return jt(t,e)}if(0<Pt.length){jt(Pt[0],e);for(var n=1;n<Pt.length;n++){var r=Pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ot&&jt(Ot,e),null!==Nt&&jt(Nt,e),null!==Ct&&jt(Ct,e),Tt.forEach(t),Rt.forEach(t),n=0;n<_t.length;n++)(r=_t[n]).blockedOn===e&&(r.blockedOn=null);for(;0<_t.length&&null===(n=_t[0]).blockedOn;)Dt(n),null===n.blockedOn&&_t.shift()}var Ht=v.ReactCurrentBatchConfig,qt=!0;function $t(e,t,n,r){var i=bt,s=Ht.transition;Ht.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,Ht.transition=s}}function Gt(e,t,n,r){var i=bt,s=Ht.transition;Ht.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,Ht.transition=s}}function Kt(e,t,n,r){if(qt){var i=Wt(e,t,n,r);if(null===i)qr(e,t,r,Qt,n),Ut(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ot=Lt(Ot,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return Ct=Lt(Ct,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Tt.set(s,Lt(Tt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rt.set(s,Lt(Rt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ut(e,r),4&t&&-1<Bt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&Et(s),null===(s=Wt(e,t,n,r))&&qr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Qt=null;function Wt(e,t,n,r){if(Qt=null,null!==(e=wi(e=Ee(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Zt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Zt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=D({},cn,{view:0,detail:0}),fn=sn(hn),dn=D({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(dn),gn=sn(D({},dn,{dataTransfer:0})),yn=sn(D({},hn,{relatedTarget:0})),mn=sn(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(wn),vn=sn(D({},cn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function In(){return Sn}var kn=D({},hn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?An[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=sn(kn),On=sn(D({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(D({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Cn=sn(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=D({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Tn),_n=[9,13,27,32],Bn=u&&"CompositionEvent"in window,Un=null;u&&"documentMode"in document&&(Un=document.documentMode);var Ln=u&&"TextEvent"in window&&!Un,Dn=u&&(!Bn||Un&&8<Un&&11>=Un),Mn=String.fromCharCode(32),Fn=!1;function zn(e,t){switch(e){case"keyup":return-1!==_n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function $n(e,t,n,r){ke(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Qn(e){Mr(e,0)}function Wn(e){if(K(vi(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Zn;if(u){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Zn=Xn}else Zn=!1;Yn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Wn(Kn)){var t=[];$n(t,Kn,e,Ee(e)),Te(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(Kn)}function sr(e,t){if("click"===e)return Wn(t)}function or(e,t){if("input"===e||"change"===e)return Wn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,wr=null,br=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==Q(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&lr(wr,r)||(wr=r,0<(r=Gr(mr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ar={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},xr={},Sr={};function Ir(e){if(xr[e])return xr[e];if(!Ar[e])return e;var t,n=Ar[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);var kr=Ir("animationend"),Pr=Ir("animationiteration"),Or=Ir("animationstart"),Nr=Ir("transitionend"),Cr=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Cr.set(e,t),l(t,[e])}for(var _r=0;_r<Tr.length;_r++){var Br=Tr[_r];Rr(Br.toLowerCase(),"on"+(Br[0].toUpperCase()+Br.slice(1)))}Rr(kr,"onAnimationEnd"),Rr(Pr,"onAnimationIteration"),Rr(Or,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(je.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=De;Le=!1,De=null,Me||(Me=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Dr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Dr(i,a,c),s=l}}}if(Me)throw e=Fe,Me=!1,Fe=null,e}function Fr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[jr]){e[jr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||zr(t,!1,e),zr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,zr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Jt(t)){case 1:var i=$t;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!_e||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=wi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Te(function(){var r=s,i=Ee(n),o=[];e:{var a=Cr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Pn;break;case"focusin":c="focus",l=yn;break;case"focusout":c="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case kr:case Pr:case Or:l=mn;break;case Nr:l=Cn;break;case"scroll":l=fn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var u=0!==(4&t),h=!u&&"scroll"===e,f=u?null!==a?a+"Capture":null:a;u=[];for(var d,p=r;null!==p;){var g=(d=p).stateNode;if(5===d.tag&&null!==g&&(d=g,null!==f&&(null!=(g=Re(p,f))&&u.push($r(p,g,d)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===ve||!(c=n.relatedTarget||n.fromElement)||!wi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?wi(c):null)&&(c!==(h=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=On,g="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==l?a:vi(l),d=null==c?a:vi(c),(a=new u(g,p+"leave",l,n,i)).target=h,a.relatedTarget=d,g=null,wi(i)===r&&((u=new u(f,p+"enter",c,n,i)).target=d,u.relatedTarget=h,g=u),h=g,l&&c)e:{for(f=c,p=0,d=u=l;d;d=Kr(d))p++;for(d=0,g=f;g;g=Kr(g))d++;for(;0<p-d;)u=Kr(u),p--;for(;0<d-p;)f=Kr(f),d--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=Kr(u),f=Kr(f)}u=null}else u=null;null!==l&&Qr(o,a,l,u,!1),null!==c&&null!==h&&Qr(o,h,c,u,!0)}if("select"===(l=(a=r?vi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var y=Jn;else if(qn(a))if(Yn)y=or;else{y=ir;var m=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(y=sr);switch(y&&(y=y(e,r))?$n(o,y,n,i):(m&&m(e,a,r),"focusout"===e&&(m=a._wrapperState)&&m.controlled&&"number"===a.type&&ee(a,"number",a.value)),m=r?vi(r):window,e){case"focusin":(qn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,wr=null);break;case"focusout":wr=mr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,vr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":vr(o,n,i)}var w;if(Bn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(w=en()):(Zt="value"in(Yt=i)?Yt.value:Yt.textContent,Vn=!0)),0<(m=Gr(r,b)).length&&(b=new vn(b,e,null,n,i),o.push({event:b,listeners:m}),w?b.data=w:null!==(w=jn(n))&&(b.data=w))),(w=Ln?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Bn&&zn(e,t)?(e=en(),Xt=Zt=Yt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new vn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=w))}Mr(o,t)})}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Re(e,n))&&r.unshift($r(e,s,i)),null!=(s=Re(e,t))&&r.push($r(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Re(n,s))&&o.unshift($r(n,l,a)):i||null!=(l=Re(n,s))&&o.push($r(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Wr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Wr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(s(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,yi="__reactListeners$"+hi,mi="__reactHandles$"+hi;function wi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[fi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ei(e){return e[di]||null}var Ai=[],xi=-1;function Si(e){return{current:e}}function Ii(e){0>xi||(e.current=Ai[xi],Ai[xi]=null,xi--)}function ki(e,t){xi++,Ai[xi]=e.current,e.current=t}var Pi={},Oi=Si(Pi),Ni=Si(!1),Ci=Pi;function Ti(e,t){var n=e.type.contextTypes;if(!n)return Pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function _i(){Ii(Ni),Ii(Oi)}function Bi(e,t,n){if(Oi.current!==Pi)throw Error(s(168));ki(Oi,t),ki(Ni,n)}function Ui(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,H(e)||"Unknown",i));return D({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pi,Ci=Oi.current,ki(Oi,e),ki(Ni,Ni.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ui(e,t,Ci),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ni),Ii(Oi),ki(Oi,e)):Ii(Ni),ki(Ni,n)}var Mi=null,Fi=!1,zi=!1;function ji(e){null===Mi?Mi=[e]:Mi.push(e)}function Vi(){if(!zi&&null!==Mi){zi=!0;var e=0,t=bt;try{var n=Mi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,Fi=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ke(Xe,Vi),i}finally{bt=t,zi=!1}}return null}var Hi=[],qi=0,$i=null,Gi=0,Ki=[],Qi=0,Wi=null,Ji=1,Yi="";function Zi(e,t){Hi[qi++]=Gi,Hi[qi++]=$i,$i=e,Gi=t}function Xi(e,t,n){Ki[Qi++]=Ji,Ki[Qi++]=Yi,Ki[Qi++]=Wi,Wi=e;var r=Ji;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Yi=s+e}else Ji=1<<s|n<<i|r,Yi=e}function es(e){null!==e.return&&(Zi(e,1),Xi(e,1,0))}function ts(e){for(;e===$i;)$i=Hi[--qi],Hi[qi]=null,Gi=Hi[--qi],Hi[qi]=null;for(;e===Wi;)Wi=Ki[--Qi],Ki[Qi]=null,Yi=Ki[--Qi],Ki[Qi]=null,Ji=Ki[--Qi],Ki[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Tc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Wi?{id:Ji,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw fs(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function fs(){for(var e=rs;e;)e=ci(e.nextSibling)}function ds(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var gs=v.ReactCurrentBatchConfig;function ys(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ms(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ws(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=_c(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Dc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===x?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&ws(s)===t.type)?((r=i(t,n.props)).ref=ys(e,t,n),r.return=e,r):((r=Bc(n.type,n.key,n.props,null,e.mode,r)).ref=ys(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Uc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Bc(t.type,t.key,t.props,null,e.mode,n)).ref=ys(e,null,t),n.return=e,n;case A:return(t=Mc(t,e.mode,n)).return=e,t;case R:return f(e,(0,t._init)(t._payload),n)}if(te(t)||U(t))return(t=Uc(t,e.mode,n,null)).return=e,t;ms(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?c(e,t,n,r):null;case A:return n.key===i?u(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||U(n))return null!==i?null:h(e,t,n,r,null);ms(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||U(r))return h(t,e=e.get(n)||null,r,i,null);ms(t,r)}return null}function g(i,s,a,l){for(var c=null,u=null,h=s,g=s=0,y=null;null!==h&&g<a.length;g++){h.index>g?(y=h,h=null):y=h.sibling;var m=d(i,h,a[g],l);if(null===m){null===h&&(h=y);break}e&&h&&null===m.alternate&&t(i,h),s=o(m,s,g),null===u?c=m:u.sibling=m,u=m,h=y}if(g===a.length)return n(i,h),is&&Zi(i,g),c;if(null===h){for(;g<a.length;g++)null!==(h=f(i,a[g],l))&&(s=o(h,s,g),null===u?c=h:u.sibling=h,u=h);return is&&Zi(i,g),c}for(h=r(i,h);g<a.length;g++)null!==(y=p(h,i,g,a[g],l))&&(e&&null!==y.alternate&&h.delete(null===y.key?g:y.key),s=o(y,s,g),null===u?c=y:u.sibling=y,u=y);return e&&h.forEach(function(e){return t(i,e)}),is&&Zi(i,g),c}function y(i,a,l,c){var u=U(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,g=a,y=a=0,m=null,w=l.next();null!==g&&!w.done;y++,w=l.next()){g.index>y?(m=g,g=null):m=g.sibling;var b=d(i,g,w.value,c);if(null===b){null===g&&(g=m);break}e&&g&&null===b.alternate&&t(i,g),a=o(b,a,y),null===h?u=b:h.sibling=b,h=b,g=m}if(w.done)return n(i,g),is&&Zi(i,y),u;if(null===g){for(;!w.done;y++,w=l.next())null!==(w=f(i,w.value,c))&&(a=o(w,a,y),null===h?u=w:h.sibling=w,h=w);return is&&Zi(i,y),u}for(g=r(i,g);!w.done;y++,w=l.next())null!==(w=p(g,i,y,w.value,c))&&(e&&null!==w.alternate&&g.delete(null===w.key?y:w.key),a=o(w,a,y),null===h?u=w:h.sibling=w,h=w);return e&&g.forEach(function(e){return t(i,e)}),is&&Zi(i,y),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case E:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===x){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&ws(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=ys(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===x?((s=Uc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Bc(o.type,o.key,o.props,null,r.mode,l)).ref=ys(r,s,o),l.return=r,r=l)}return a(r);case A:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Mc(o,r.mode,l)).return=r,r=s}return a(r);case R:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return g(r,s,o,l);if(U(o))return y(r,s,o,l);ms(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Dc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var vs=bs(!0),Es=bs(!1),As=Si(null),xs=null,Ss=null,Is=null;function ks(){Is=Ss=xs=null}function Ps(e){var t=As.current;Ii(As),e._currentValue=t}function Os(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){xs=e,Is=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Cs(e){var t=e._currentValue;if(Is!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===xs)throw Error(s(308));Ss=e,xs.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var Ts=null;function Rs(e){null===Ts?Ts=[e]:Ts.push(e)}function _s(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Rs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Bs(e,r)}function Bs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Us=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ds(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ol)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Bs(e,n)}return null===(i=r.interleaved)?(t.next=t,Rs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Bs(e,n)}function zs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,wt(e,n)}}function js(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vs(e,t,n,r){var i=e.updateQueue;Us=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var f=a.lane,d=a.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(f=t,d=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=g.payload)?p.call(d,h,f):p)||void 0===f)break e;h=D({},h,f);break e;case 2:Us=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=d,l=h):u=u.next=d,o|=f;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(f=a).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ll|=o,e.lanes=o,e.memoizedState=h}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var qs={},$s=Si(qs),Gs=Si(qs),Ks=Si(qs);function Qs(e){if(e===qs)throw Error(s(174));return e}function Ws(e,t){switch(ki(Ks,t),ki(Gs,e),ki($s,qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii($s),ki($s,t)}function Js(){Ii($s),Ii(Gs),Ii(Ks)}function Ys(e){Qs(Ks.current);var t=Qs($s.current),n=le(t,e.type);t!==n&&(ki(Gs,e),ki($s,n))}function Zs(e){Gs.current===e&&(Ii($s),Ii(Gs))}var Xs=Si(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=v.ReactCurrentDispatcher,io=v.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(s(321))}function go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Xo:ea,e=n(r,i),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(uo)}if(ro.current=Zo,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,co=!1,t)throw Error(s(300));return e}function mo(){var e=0!==ho;return ho=0,e}function wo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function vo(e,t){return"function"===typeof t?t(e):t}function Eo(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((so&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,a=r):c=c.next=f,oo.lanes|=h,Ll|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Ll|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xo(){}function So(e,t){var n=oo,r=bo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ba=!0),r=r.queue,Lo(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,To(9,ko.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(s(349));0!==(30&so)||Io(n,t,i)}return i}function Io(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ko(e,t,n,r){t.value=n,t.getSnapshot=r,Oo(t)&&No(e)}function Po(e,t,n){return n(function(){Oo(t)&&No(e)})}function Oo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function No(e){var t=Bs(e,1);null!==t&&nc(t,e,1,-1)}function Co(e){var t=wo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:e},t.queue=e,e=e.dispatch=Qo.bind(null,oo,e),[t.memoizedState,e]}function To(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ro(){return bo().memoizedState}function _o(e,t,n,r){var i=wo();oo.flags|=e,i.memoizedState=To(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=bo();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&go(r,o.deps))return void(i.memoizedState=To(t,n,s,r))}oo.flags|=e,i.memoizedState=To(1|t,n,s,r)}function Uo(e,t){return _o(8390656,8,e,t)}function Lo(e,t){return Bo(2048,8,e,t)}function Do(e,t){return Bo(4,2,e,t)}function Mo(e,t){return Bo(4,4,e,t)}function Fo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Fo.bind(null,t,e),n)}function jo(){}function Vo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ho(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qo(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=gt(),oo.lanes|=n,Ll|=n,e.baseState=!0),t)}function $o(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{bt=n,io.transition=r}}function Go(){return bo().memoizedState}function Ko(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Wo(e))Jo(t,n);else if(null!==(n=_s(e,t,n,r))){nc(n,e,r,ec()),Yo(n,t,r)}}function Qo(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wo(e))Jo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Rs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=_s(e,t,i,r))&&(nc(n,e,r,i=ec()),Yo(n,t,r))}}function Wo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Jo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,wt(e,n)}}var Zo={readContext:Cs,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Xo={readContext:Cs,useCallback:function(e,t){return wo().memoizedState=[e,void 0===t?null:t],e},useContext:Cs,useEffect:Uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_o(4194308,4,Fo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _o(4194308,4,e,t)},useInsertionEffect:function(e,t){return _o(4,2,e,t)},useMemo:function(e,t){var n=wo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},wo().memoizedState=e},useState:Co,useDebugValue:jo,useDeferredValue:function(e){return wo().memoizedState=e},useTransition:function(){var e=Co(!1),t=e[0];return e=$o.bind(null,e[1]),wo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=wo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Nl)throw Error(s(349));0!==(30&so)||Io(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Uo(Po.bind(null,r,o,e),[e]),r.flags|=2048,To(9,ko.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=wo(),t=Nl.identifierPrefix;if(is){var n=Yi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Cs,useCallback:Vo,useContext:Cs,useEffect:Lo,useImperativeHandle:zo,useInsertionEffect:Do,useLayoutEffect:Mo,useMemo:Ho,useReducer:Eo,useRef:Ro,useState:function(){return Eo(vo)},useDebugValue:jo,useDeferredValue:function(e){return qo(bo(),ao.memoizedState,e)},useTransition:function(){return[Eo(vo)[0],bo().memoizedState]},useMutableSource:xo,useSyncExternalStore:So,useId:Go,unstable_isNewReconciler:!1},ta={readContext:Cs,useCallback:Vo,useContext:Cs,useEffect:Lo,useImperativeHandle:zo,useInsertionEffect:Do,useLayoutEffect:Mo,useMemo:Ho,useReducer:Ao,useRef:Ro,useState:function(){return Ao(vo)},useDebugValue:jo,useDeferredValue:function(e){var t=bo();return null===ao?t.memoizedState=e:qo(t,ao.memoizedState,e)},useTransition:function(){return[Ao(vo)[0],bo().memoizedState]},useMutableSource:xo,useSyncExternalStore:So,useId:Go,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Ms(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,i))&&(nc(t,e,i,r),zs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Ms(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Fs(e,s,i))&&(nc(t,e,i,r),zs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ms(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Fs(e,i,r))&&(nc(t,e,r,n),zs(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oa(e,t,n){var r=!1,i=Pi,s=t.contextType;return"object"===typeof s&&null!==s?s=Cs(s):(i=Ri(t)?Ci:Oi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ti(e,i):Pi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Cs(s):(s=Ri(t)?Ci:Oi.current,i.context=Ti(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Vs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fa="function"===typeof WeakMap?WeakMap:Map;function da(e,t,n){(n=Ms(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,$l=r),ha(0,t)},n}function pa(e,t,n){(n=Ms(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function ya(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ma(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ms(-1,1)).tag=2,Fs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=v.ReactCurrentOwner,ba=!1;function va(e,t,n,r){t.child=null===e?Es(t,null,n,r):vs(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var s=t.ref;return Ns(t,i),r=yo(e,t,n,r,s,i),n=mo(),null===e||ba?(is&&n&&es(t),t.flags|=1,va(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Aa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Rc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Bc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,xa(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return qa(e,t,i)}return t.flags|=1,(e=_c(s,r)).ref=t.ref,e.return=t,t.child=e}function xa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,qa(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return ka(e,t,n,r,i)}function Sa(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(_l,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(_l,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(_l,Rl),Rl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(_l,Rl),Rl|=r;return va(e,t,i,n),t.child}function Ia(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,n,r,i){var s=Ri(n)?Ci:Oi.current;return s=Ti(t,s),Ns(t,i),n=yo(e,t,n,r,s,i),r=mo(),null===e||ba?(is&&r&&es(t),t.flags|=1,va(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qa(e,t,i))}function Pa(e,t,n,r,i){if(Ri(n)){var s=!0;Li(t)}else s=!1;if(Ns(t,i),null===t.stateNode)Ha(e,t),oa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Cs(c):c=Ti(t,c=Ri(n)?Ci:Oi.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,o,r,c),Us=!1;var f=t.memoizedState;o.state=f,Vs(t,r,o,i),l=t.memoizedState,a!==r||f!==l||Ni.current||Us?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Us||sa(t,n,a,r,f,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ds(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),o.props=c,h=t.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Cs(l):l=Ti(t,l=Ri(n)?Ci:Oi.current);var d=n.getDerivedStateFromProps;(u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||f!==l)&&aa(t,o,r,l),Us=!1,f=t.memoizedState,o.state=f,Vs(t,r,o,i);var p=t.memoizedState;a!==h||f!==p||Ni.current||Us?("function"===typeof d&&(ra(t,n,d,r),p=t.memoizedState),(c=Us||sa(t,n,c,r,f,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Oa(e,t,n,r,s,i)}function Oa(e,t,n,r,i,s){Ia(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Di(t,n,!1),qa(e,t,s);r=t.stateNode,wa.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=vs(t,e.child,null,s),t.child=vs(t,null,a,s)):va(e,t,a,s),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function Na(e){var t=e.stateNode;t.pendingContext?Bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Bi(0,t.context,!1),Ws(e,t.containerInfo)}function Ca(e,t,n,r,i){return ds(),ps(i),t.flags|=256,va(e,t,n,r),t.child}var Ta,Ra,_a,Ba,Ua={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function Da(e,t,n){var r,i=t.pendingProps,o=Xs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ki(Xs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Lc(l,i,0,null),e=Uc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=La(n),t.memoizedState=Ua,e):Ma(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Fa(e,t,a,r=ua(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Uc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&vs(t,e.child,null,a),t.child.memoizedState=La(a),t.memoizedState=Ua,o);if(0===(1&t.mode))return Fa(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Fa(e,t,a,r=ua(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Nl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Bs(e,i),nc(r,e,i,-1))}return gc(),Fa(e,t,a,r=ua(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Pc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Qi++]=Ji,Ki[Qi++]=Yi,Ki[Qi++]=Wi,Ji=e.id,Yi=e.overflow,Wi=t),t=Ma(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=_c(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=_c(r,a):(a=Uc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?La(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ua,i}return e=(a=e.child).sibling,i=_c(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ma(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fa(e,t,n,r){return null!==r&&ps(r),vs(t,e.child,null,n),(e=Ma(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Os(e.return,t,n)}function ja(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Va(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(va(e,t,r.children,n),0!==(2&(r=Xs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(Xs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ja(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ja(t,!0,n,null,s);break;case"together":ja(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=_c(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_c(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $a(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ka(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Ri(t.type)&&_i(),Ga(t),null;case 3:return r=t.stateNode,Js(),Ii(Ni),Ii(Oi),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Ra(e,t),Ga(t),null;case 5:Zs(t);var i=Qs(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)_a(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ga(t),null}if(e=Qs($s.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Ur.length;i++)Fr(Ur[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":J(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var l in we(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":G(r),X(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fi]=t,e[di]=r,Ta(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ur.length;i++)Fr(Ur[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":J(e,r),i=W(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=D({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in we(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ye(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Fr("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":G(e),X(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Ba(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Qs(Ks.current),Qs($s.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Ga(t),null;case 13:if(Ii(Xs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))fs(),ds(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[fi]=t}else ds(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Xs.current)?0===Bl&&(Bl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return Js(),Ra(e,t),null===e&&Vr(t.stateNode.containerInfo),Ga(t),null;case 10:return Ps(t.type._context),Ga(t),null;case 19:if(Ii(Xs),null===(o=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)$a(o,!1);else{if(0!==Bl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,$a(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(Xs,1&Xs.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Vl&&(t.flags|=128,r=!0,$a(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),$a(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ga(t),null}else 2*Ye()-o.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,$a(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=Xs.current,ki(Xs,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qa(e,t){switch(ts(t),t.tag){case 1:return Ri(t.type)&&_i(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Js(),Ii(Ni),Ii(Oi),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(Ii(Xs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ds()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(Xs),null;case 4:return Js(),null;case 10:return Ps(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ta=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ra=function(){},_a=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qs($s.current);var s,o=null;switch(n){case"input":i=W(e,i),r=W(e,r),o=[];break;case"select":i=D({},i,{value:void 0}),r=D({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(u in we(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ba=function(e,t,n,r){n!==r&&(t.flags|=4)};var Wa=!1,Ja=!1,Ya="function"===typeof WeakSet?WeakSet:Set,Za=null;function Xa(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[gi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)dl(e,t,n),n=n.sibling}function dl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ja||Xa(n,t);case 6:var r=ul,i=hl;ul=null,fl(e,t,n),hl=i,null!==(ul=r)&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=hl,ul=n.stateNode.containerInfo,hl=!0,fl(e,t,n),ul=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Ja&&(Xa(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Sc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,fl(e,t,n),Ja=r):fl(e,t,n);break;default:fl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ya),t.forEach(function(t){var r=Oc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));dl(o,a,i),ul=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Sc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),ml(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(y){Sc(e,e.return,y)}try{nl(5,e,e.return)}catch(y){Sc(e,e.return,y)}}break;case 1:gl(t,e),ml(e),512&r&&null!==n&&Xa(n,n.return);break;case 5:if(gl(t,e),ml(e),512&r&&null!==n&&Xa(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(y){Sc(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&Y(i,o),be(l,a);var u=be(l,o);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];"style"===h?ye(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):b(i,h,f,u)}switch(l){case"input":Z(i,o);break;case"textarea":se(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){Sc(e,e.return,y)}}break;case 6:if(gl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Sc(e,e.return,y)}}break;case 3:if(gl(t,e),ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(y){Sc(e,e.return,y)}break;case 4:default:gl(t,e),ml(e);break;case 13:gl(t,e),ml(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(jl=Ye())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(u=Ja)||h,gl(t,e),Ja=u):gl(t,e),ml(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(f=Za=h;null!==Za;){switch(p=(d=Za).child,d.tag){case 0:case 11:case 14:case 15:nl(4,d,d.return);break;case 1:Xa(d,d.return);var g=d.stateNode;if("function"===typeof g.componentWillUnmount){r=d,n=d.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){Sc(r,n,y)}}break;case 5:Xa(d,d.return);break;case 22:if(null!==d.memoizedState){El(f);continue}}null!==p?(p.return=d,Za=p):El(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,a=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",a))}catch(y){Sc(e,e.return,y)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Sc(e,e.return,y)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gl(t,e),ml(e),4&r&&pl(e);case 21:}}function ml(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(a){Sc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){Za=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Wa;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ja;a=Wa;var c=Ja;if(Wa=o,(Ja=l)&&!c)for(Za=i;null!==Za;)l=(o=Za).child,22===o.tag&&null!==o.memoizedState?Al(i):null!==l?(l.return=o,Za=l):Al(i);for(;null!==s;)Za=s,bl(s,t,n),s=s.sibling;Za=i,Wa=a,Ja=c}vl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Za=s):vl(e)}}function vl(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Hs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Vt(f)}}}break;default:throw Error(s(163))}Ja||512&t.flags&&il(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function El(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Al(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Sc(t,i,l)}}var s=t.return;try{il(t)}catch(l){Sc(t,s,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Sc(t,o,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var xl,Sl=Math.ceil,Il=v.ReactCurrentDispatcher,kl=v.ReactCurrentOwner,Pl=v.ReactCurrentBatchConfig,Ol=0,Nl=null,Cl=null,Tl=0,Rl=0,_l=Si(0),Bl=0,Ul=null,Ll=0,Dl=0,Ml=0,Fl=null,zl=null,jl=0,Vl=1/0,Hl=null,ql=!1,$l=null,Gl=null,Kl=!1,Ql=null,Wl=0,Jl=0,Yl=null,Zl=-1,Xl=0;function ec(){return 0!==(6&Ol)?Ye():-1!==Zl?Zl:Zl=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ol)&&0!==Tl?Tl&-Tl:null!==gs.transition?(0===Xl&&(Xl=gt()),Xl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,r){if(50<Jl)throw Jl=0,Yl=null,Error(s(185));mt(e,n,r),0!==(2&Ol)&&e===Nl||(e===Nl&&(0===(2&Ol)&&(Dl|=n),4===Bl&&ac(e,Tl)),rc(e,r),1===n&&0===Ol&&0===(1&t.mode)&&(Vl=Ye()+500,Fi&&Vi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=dt(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=ft(e,e===Nl?Tl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fi=!0,ji(e)}(lc.bind(null,e)):ji(lc.bind(null,e)),oi(function(){0===(6&Ol)&&Vi()}),n=null;else{switch(vt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zl=-1,Xl=0,0!==(6&Ol))throw Error(s(327));var n=e.callbackNode;if(Ac()&&e.callbackNode!==n)return null;var r=ft(e,e===Nl?Tl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Ol;Ol|=2;var o=pc();for(Nl===e&&Tl===t||(Hl=null,Vl=Ye()+500,fc(e,t));;)try{wc();break}catch(l){dc(e,l)}ks(),Il.current=o,Ol=i,null!==Cl?t=0:(Nl=null,Tl=0,t=Bl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ul,fc(e,0),ac(e,r),rc(e,Ye()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=sc(e,o))),1===t))throw n=Ul,fc(e,0),ac(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ec(e,zl,Hl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=jl+500-Ye())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ec.bind(null,e,zl,Hl),t);break}Ec(e,zl,Hl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(Ec.bind(null,e,zl,Hl),r);break}Ec(e,zl,Hl);break;default:throw Error(s(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=zl,zl=n,null!==t&&oc(t)),e}function oc(e){null===zl?zl=e:zl.push.apply(zl,e)}function ac(e,t){for(t&=~Ml,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Ol))throw Error(s(327));Ac();var t=ft(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ul,fc(e,0),ac(e,t),rc(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,zl,Hl),rc(e,Ye()),null}function cc(e,t){var n=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=n)&&(Vl=Ye()+500,Fi&&Vi())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&Ol)&&Ac();var t=Ol;Ol|=1;var n=Pl.transition,r=bt;try{if(Pl.transition=null,bt=1,e)return e()}finally{bt=r,Pl.transition=n,0===(6&(Ol=t))&&Vi()}}function hc(){Rl=_l.current,Ii(_l)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Cl)for(n=Cl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&_i();break;case 3:Js(),Ii(Ni),Ii(Oi),no();break;case 5:Zs(r);break;case 4:Js();break;case 13:case 19:Ii(Xs);break;case 10:Ps(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Nl=e,Cl=e=_c(e.current,null),Tl=Rl=t,Bl=0,Ul=null,Ml=Dl=Ll=0,zl=Fl=null,null!==Ts){for(t=0;t<Ts.length;t++)if(null!==(r=(n=Ts[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Ts=null}return e}function dc(e,t){for(;;){var n=Cl;try{if(ks(),ro.current=Zo,co){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(so=0,lo=ao=oo=null,uo=!1,ho=0,kl.current=null,null===n||null===n.return){Bl=1,Ul=t,Cl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Tl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,ma(p,a,l,0,t),1&p.mode&&ga(o,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var y=new Set;y.add(c),t.updateQueue=y}else g.add(c);break e}if(0===(1&t)){ga(o,u,t),gc();break e}c=Error(s(426))}else if(is&&1&l.mode){var m=ya(a);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ma(m,a,l,0,t),ps(ca(c,l));break e}}o=c=ca(c,l),4!==Bl&&(Bl=2),null===Fl?Fl=[o]:Fl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,js(o,da(0,c,t));break e;case 1:l=c;var w=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof w.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,js(o,pa(o,l,t));break e}}o=o.return}while(null!==o)}vc(n)}catch(v){t=v,Cl===n&&null!==n&&(Cl=n=n.return);continue}break}}function pc(){var e=Il.current;return Il.current=Zo,null===e?Zo:e}function gc(){0!==Bl&&3!==Bl&&2!==Bl||(Bl=4),null===Nl||0===(268435455&Ll)&&0===(268435455&Dl)||ac(Nl,Tl)}function yc(e,t){var n=Ol;Ol|=2;var r=pc();for(Nl===e&&Tl===t||(Hl=null,fc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(ks(),Ol=n,Il.current=r,null!==Cl)throw Error(s(261));return Nl=null,Tl=0,Bl}function mc(){for(;null!==Cl;)bc(Cl)}function wc(){for(;null!==Cl&&!We();)bc(Cl)}function bc(e){var t=xl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?vc(e):Cl=t,kl.current=null}function vc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ka(n,t,Rl)))return void(Cl=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Cl=n);if(null===e)return Bl=6,void(Cl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cl=t);Cl=t=e}while(null!==t);0===Bl&&(Bl=5)}function Ec(e,t,n){var r=bt,i=Pl.transition;try{Pl.transition=null,bt=1,function(e,t,n,r){do{Ac()}while(null!==Ql);if(0!==(6&Ol))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Nl&&(Cl=Nl=null,Tl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Nc(tt,function(){return Ac(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Pl.transition,Pl.transition=null;var a=bt;bt=1;var l=Ol;Ol|=4,kl.current=null,function(e,t){if(ei=qt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(E){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(l=a+i),f!==o||0!==r&&3!==f.nodeType||(c=a+r),3===f.nodeType&&(a+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++u===i&&(l=a),d===o&&++h===r&&(c=a),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var y=g.memoizedProps,m=g.memoizedState,w=t.stateNode,b=w.getSnapshotBeforeUpdate(t.elementType===t.type?y:na(t.type,y),m);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(s(163))}}catch(E){Sc(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}g=tl,tl=!1}(e,n),yl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,wl(n,e,i),Je(),Ol=l,bt=a,Pl.transition=o}else e.current=n;if(Kl&&(Kl=!1,Ql=e,Wl=i),o=e.pendingLanes,0===o&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=$l,$l=null,e;0!==(1&Wl)&&0!==e.tag&&Ac(),o=e.pendingLanes,0!==(1&o)?e===Yl?Jl++:(Jl=0,Yl=e):Jl=0,Vi()}(e,t,n,r)}finally{Pl.transition=i,bt=r}return null}function Ac(){if(null!==Ql){var e=vt(Wl),t=Pl.transition,n=bt;try{if(Pl.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Wl=0,0!==(6&Ol))throw Error(s(331));var i=Ol;for(Ol|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var f=h.child;if(null!==f)f.return=h,Za=f;else for(;null!==Za;){var d=(h=Za).sibling,p=h.return;if(sl(h),h===u){Za=null;break}if(null!==d){d.return=p,Za=d;break}Za=p}}}var g=o.alternate;if(null!==g){var y=g.child;if(null!==y){g.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var w=o.sibling;if(null!==w){w.return=o.return,Za=w;break e}Za=o.return}}var b=e.current;for(Za=b;null!==Za;){var v=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==v)v.return=a,Za=v;else e:for(a=b;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(A){Sc(l,l.return,A)}if(l===a){Za=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,Za=E;break e}Za=l.return}}if(Ol=i,Vi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(A){}r=!0}return r}finally{bt=n,Pl.transition=t}}return!1}function xc(e,t,n){e=Fs(e,t=da(0,t=ca(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Fs(t,e=pa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Tl&n)===n&&(4===Bl||3===Bl&&(130023424&Tl)===Tl&&500>Ye()-jl?fc(e,0):Ml|=n),rc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Bs(e,t))&&(mt(e,t,n),rc(e,n))}function Pc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Oc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),kc(e,n)}function Nc(e,t){return Ke(e,t)}function Cc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,n,r){return new Cc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _c(e,t){var n=e.alternate;return null===n?((n=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Bc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Rc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case x:return Uc(n.children,i,o,t);case S:a=8,i|=8;break;case I:return(e=Tc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case N:return(e=Tc(13,n,t,i)).elementType=N,e.lanes=o,e;case C:return(e=Tc(19,n,t,i)).elementType=C,e.lanes=o,e;case _:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case P:a=9;break e;case O:a=11;break e;case T:a=14;break e;case R:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Tc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Uc(e,t,n,r){return(e=Tc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Tc(22,e,r,t)).elementType=_,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Tc(6,e,null,t)).lanes=n,e}function Mc(e,t,n){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,i,s,o,a,l){return e=new Fc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Tc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function jc(e){if(!e)return Pi;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Ui(e,n,t)}return t}function Vc(e,t,n,r,i,s,o,a,l){return(e=zc(n,r,!0,e,0,s,0,a,l)).context=jc(null),n=e.current,(s=Ms(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Fs(n,s,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,s=ec(),o=tc(i);return n=jc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ms(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fs(i,t,o))&&(nc(e,i,o,s),zs(e,i,o)),o}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $c(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){$c(e,t),(e=e.alternate)&&$c(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Na(t),ds();break;case 5:Ys(t);break;case 1:Ri(t.type)&&Li(t);break;case 4:Ws(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(As,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(Xs,1&Xs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Da(e,t,n):(ki(Xs,1&Xs.current),null!==(e=qa(e,t,n))?e.sibling:null);ki(Xs,1&Xs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Va(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(Xs,Xs.current),r)break;return null;case 22:case 23:return t.lanes=0,Sa(e,t,n)}return qa(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,is&&0!==(1048576&t.flags)&&Xi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var i=Ti(t,Oi.current);Ns(t,n),i=yo(null,t,r,e,i,n);var o=mo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Oa(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),va(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===T)return 14}return 2}(r),e=na(r,e),i){case 0:t=ka(null,t,r,e,n);break e;case 1:t=Pa(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=Aa(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Pa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Na(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ds(e,t),Vs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ca(e,t,r,n,i=ca(Error(s(423)),t));break e}if(r!==i){t=Ca(e,t,r,n,i=ca(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Es(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ds(),r===i){t=qa(e,t,n);break e}va(e,t,r,n)}t=t.child}return t;case 5:return Ys(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Ia(e,t),va(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Da(e,t,n);case 4:return Ws(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=vs(t,null,r,n):va(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return va(e,t,t.pendingProps,n),t.child;case 8:case 12:return va(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ki(As,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ni.current){t=qa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ms(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Os(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Os(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}va(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ns(t,n),r=r(i=Cs(i)),t.flags|=1,va(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Aa(e,t,r,i=na(r.type,i),n);case 15:return xa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Ha(e,t),t.tag=1,Ri(r)?(e=!0,Li(t)):e=!1,Ns(t,n),oa(t,r,i),la(t,r,i,n),Oa(null,t,r,!0,e,n);case 19:return Va(e,t,n);case 22:return Sa(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Wc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function Xc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=qc(o);a.call(e)}}Hc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=qc(o);s.call(e)}}var o=Vc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Vr(8===e.nodeType?e.parentNode:e),uc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=qc(l);a.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc(function(){Hc(t,l,n,r)}),l}(n,t,e,i,r);return qc(o)}Wc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Wc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Hc(null,e,null,null)}),t[pi]=null}},Wc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_t.length&&0!==t&&t<_t[n].priority;n++);_t.splice(n,0,e),0===n&&Dt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(wt(t,1|n),rc(t,Ye()),0===(6&Ol)&&(Vl=Ye()+500,Vi()))}break;case 13:uc(function(){var t=Bs(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Gc(e,1)}},At=function(e){if(13===e.tag){var t=Bs(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Bs(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},St=function(){return bt},It=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ae=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(s(90));K(r),Z(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Oe=cc,Ne=uc;var eu={usingClientEntryPoint:!1,Events:[bi,vi,Ei,ke,Pe,cc]},tu={findFiberByHostInstance:wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(s(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Wc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(s(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){Xc(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Xc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},352:(e,t,n)=>{"use strict";var r=n(119);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},359:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}},367:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;const r=n(64);t.toMiliseconds=function(e){return e*r.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/r.ONE_THOUSAND)}},414:(e,t,n)=>{"use strict";e.exports=n(654)},493:(e,t)=>{"use strict";function n(e){let t;return"undefined"!==typeof window&&"undefined"!==typeof window[e]&&(t=window[e]),t}function r(e){const t=n(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=n,t.getFromWindowOrThrow=r,t.getDocumentOrThrow=function(){return r("document")},t.getDocument=function(){return n("document")},t.getNavigatorOrThrow=function(){return r("navigator")},t.getNavigator=function(){return n("navigator")},t.getLocationOrThrow=function(){return r("location")},t.getLocation=function(){return n("location")},t.getCryptoOrThrow=function(){return r("crypto")},t.getCrypto=function(){return n("crypto")},t.getLocalStorageOrThrow=function(){return r("localStorage")},t.getLocalStorage=function(){return n("localStorage")}},560:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(686);r.__exportStar(n(359),t),r.__exportStar(n(367),t)},569:(e,t)=>{"use strict";function n(e){let t;return"undefined"!==typeof window&&"undefined"!==typeof window[e]&&(t=window[e]),t}function r(e){const t=n(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}t.YE=void 0,t.YE=function(){return n("document")}},623:(e,t,n)=>{"use strict";function r(){return(null===n.g||void 0===n.g?void 0:n.g.crypto)||(null===n.g||void 0===n.g?void 0:n.g.msCrypto)||{}}function i(){const e=r();return e.subtle||e.webkitSubtle}Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowserCryptoAvailable=t.getSubtleCrypto=t.getBrowerCrypto=void 0,t.getBrowerCrypto=r,t.getSubtleCrypto=i,t.isBrowserCryptoAvailable=function(){return!!r()&&!!i()}},643:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0;t.IWatch=class{}},654:(e,t,n)=>{"use strict";var r=n(950),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},676:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,s=a(e),o=s[0],l=s[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,o,l)),u=0,h=l>0?o-4:o;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t);1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,s=[],o=16383,a=0,l=r-i;a<l;a+=o)s.push(c(e,a,a+o>l?l:a+o));1===i?(t=e[r-1],s.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],s.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return s.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)n[o]=s[o],r[s.charCodeAt(o)]=o;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function c(e,t,n){for(var r,i=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(l(r));return i.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},686:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>s,__asyncDelegator:()=>v,__asyncGenerator:()=>b,__asyncValues:()=>E,__await:()=>w,__awaiter:()=>u,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>k,__createBinding:()=>f,__decorate:()=>a,__exportStar:()=>d,__extends:()=>i,__generator:()=>h,__importDefault:()=>S,__importStar:()=>x,__makeTemplateObject:()=>A,__metadata:()=>c,__param:()=>l,__read:()=>g,__rest:()=>o,__spread:()=>y,__spreadArrays:()=>m,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})}function h(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function d(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){s.push([e,t,n,r])>1||a(e,t)})})}function a(e,t){try{(n=i[e](t)).value instanceof w?Promise.resolve(n.value.v).then(l,c):u(s[0][2],n)}catch(r){u(s[0][3],r)}var n}function l(e){a("next",e)}function c(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function v(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:w(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,i,(t=e[n](t)).done,t.value)})}}}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},703:(e,t,n)=>{const r=n(98),i=n(118);e.exports={blake2b:r.blake2b,blake2bHex:r.blake2bHex,blake2bInit:r.blake2bInit,blake2bUpdate:r.blake2bUpdate,blake2bFinal:r.blake2bFinal,blake2s:i.blake2s,blake2sHex:i.blake2sHex,blake2sInit:i.blake2sInit,blake2sUpdate:i.blake2sUpdate,blake2sFinal:i.blake2sFinal}},726:e=>{"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},732:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(686).__exportStar(n(643),t)},736:(e,t,n)=>{"use strict";t.g=void 0;const r=n(493);t.g=function(){let e,t;try{e=r.getDocumentOrThrow(),t=r.getLocationOrThrow()}catch(s){return null}function n(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const i=e.getElementsByTagName("meta");for(let e=0;e<i.length;e++){const t=i[e],r=["itemprop","property","name"].map(e=>t.getAttribute(e)).filter(e=>!!e&&n.includes(e));if(r.length&&r){const e=t.getAttribute("content");if(e)return e}}return""}const i=function(){let t=n("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:n("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){const n=e.getElementsByTagName("link"),r=[];for(let e=0;e<n.length;e++){const i=n[e],s=i.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){const e=i.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let n=t.protocol+"//"+t.host;if(0===e.indexOf("/"))n+=e;else{const r=t.pathname.split("/");r.pop();n+=r.join("/")+"/"+e}r.push(n)}else if(0===e.indexOf("//")){const n=t.protocol+e;r.push(n)}else r.push(e)}}return r}(),name:i}}},737:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class n{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){const t=this.get(e);if("undefined"!==typeof t.elapsed)throw new Error(`Watch already stopped for label: ${e}`);const n=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:n})}get(e){const t=this.timestamps.get(e);if("undefined"===typeof t)throw new Error(`No timestamp found for label: ${e}`);return t}elapsed(e){const t=this.get(e);return t.elapsed||Date.now()-t.started}}t.Watch=n,t.default=n},754:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},758:(e,t,n)=>{"use strict";const r=n(79);e.exports=o;const i=function(){function e(e){return"undefined"!==typeof e&&e}try{return"undefined"!==typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{},s={mapHttpRequest:f,mapHttpResponse:f,wrapRequestSerializer:d,wrapResponseSerializer:d,wrapErrorSerializer:d,req:f,res:f,err:function(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const n in e)void 0===t[n]&&(t[n]=e[n]);return t}};function o(e){(e=e||{}).browser=e.browser||{};const t=e.browser.transmit;if(t&&"function"!==typeof t.send)throw Error("pino: transmit option must have a send function");const n=e.browser.write||i;e.browser.write&&(e.browser.asObject=!0);const r=e.serializers||{},s=function(e,t){if(Array.isArray(e))return e.filter(function(e){return"!stdSerializers.err"!==e});return!0===e&&Object.keys(t)}(e.browser.serialize,r);let f=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(f=!1);"function"===typeof n&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),!1===e.enabled&&(e.level="silent");const d=e.level||"info",g=Object.create(n);g.log||(g.log=p),Object.defineProperty(g,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(g,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,a(y,g,"error","log"),a(y,g,"fatal","error"),a(y,g,"warn","error"),a(y,g,"info","log"),a(y,g,"debug","log"),a(y,g,"trace","log")}});const y={transmit:t,serialize:s,asObject:e.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:h(e)};return g.levels=o.levels,g.level=d,g.setMaxListeners=g.getMaxListeners=g.emit=g.addListener=g.on=g.prependListener=g.once=g.prependOnceListener=g.removeListener=g.removeAllListeners=g.listeners=g.listenerCount=g.eventNames=g.write=g.flush=p,g.serializers=r,g._serialize=s,g._stdErrSerialize=f,g.child=function(n,i){if(!n)throw new Error("missing bindings for child Pino");i=i||{},s&&n.serializers&&(i.serializers=n.serializers);const o=i.serializers;if(s&&o){var a=Object.assign({},r,o),h=!0===e.browser.serialize?Object.keys(a):s;delete n.serializers,l([n],h,a,this._stdErrSerialize)}function f(e){this._childLevel=1+(0|e._childLevel),this.error=c(e,n,"error"),this.fatal=c(e,n,"fatal"),this.warn=c(e,n,"warn"),this.info=c(e,n,"info"),this.debug=c(e,n,"debug"),this.trace=c(e,n,"trace"),a&&(this.serializers=a,this._serialize=h),t&&(this._logEvent=u([].concat(e._logEvent.bindings,n)))}return f.prototype=this,new f(this)},t&&(g._logEvent=u()),g}function a(e,t,n,s){const a=Object.getPrototypeOf(t);t[n]=t.levelVal>t.levels.values[n]?p:a[n]?a[n]:i[n]||i[s]||p,function(e,t,n){if(!e.transmit&&t[n]===p)return;t[n]=(s=t[n],function(){const a=e.timestamp(),c=new Array(arguments.length),h=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var f=0;f<c.length;f++)c[f]=arguments[f];if(e.serialize&&!e.asObject&&l(c,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?s.call(h,function(e,t,n,i){e._serialize&&l(n,e._serialize,e.serializers,e._stdErrSerialize);const s=n.slice();let a=s[0];const c={};i&&(c.time=i),c.level=o.levels.values[t];let u=1+(0|e._childLevel);if(u<1&&(u=1),null!==a&&"object"===typeof a){for(;u--&&"object"===typeof s[0];)Object.assign(c,s.shift());a=s.length?r(s.shift(),s):void 0}else"string"===typeof a&&(a=r(s.shift(),s));return void 0!==a&&(c.msg=a),c}(this,n,c,a)):s.apply(h,c),e.transmit){const r=e.transmit.level||t.level,i=o.levels.values[r],s=o.levels.values[n];if(s<i)return;!function(e,t,n){const r=t.send,i=t.ts,s=t.methodLevel,o=t.methodValue,a=t.val,c=e._logEvent.bindings;l(n,e._serialize||Object.keys(e.serializers),e.serializers,void 0===e._stdErrSerialize||e._stdErrSerialize),e._logEvent.ts=i,e._logEvent.messages=n.filter(function(e){return-1===c.indexOf(e)}),e._logEvent.level.label=s,e._logEvent.level.value=o,r(s,e._logEvent,a),e._logEvent=u(c)}(this,{ts:a,methodLevel:n,methodValue:s,transmitLevel:r,transmitValue:o.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},c)}});var s}(e,t,n)}function l(e,t,n,r){for(const i in e)if(r&&e[i]instanceof Error)e[i]=o.stdSerializers.err(e[i]);else if("object"===typeof e[i]&&!Array.isArray(e[i]))for(const r in e[i])t&&t.indexOf(r)>-1&&r in n&&(e[i][r]=n[r](e[i][r]))}function c(e,t,n){return function(){const r=new Array(1+arguments.length);r[0]=t;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return e[n].apply(this,r)}}function u(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function h(e){return"function"===typeof e.timestamp?e.timestamp:!1===e.timestamp?g:y}function f(){return{}}function d(e){return e}function p(){}function g(){return!1}function y(){return Date.now()}o.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},o.stdSerializers=s,o.stdTimeFunctions=Object.assign({},{nullTime:g,epochTime:y,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},761:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,f=null,d=3,p=!1,g=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,w="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function E(e){if(y=!1,v(e),!g)if(null!==r(c))g=!0,_(A);else{var t=r(u);null!==t&&B(E,t.startTime-e)}}function A(e,n){g=!1,y&&(y=!1,w(k),k=-1),p=!0;var s=d;try{for(v(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!N());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var a=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?f.callback=a:f===r(c)&&i(c),v(n)}else i(c);f=r(c)}if(null!==f)var l=!0;else{var h=r(u);null!==h&&B(E,h.startTime-n),l=!1}return l}finally{f=null,d=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,I=null,k=-1,P=5,O=-1;function N(){return!(t.unstable_now()-O<P)}function C(){if(null!==I){var e=t.unstable_now();O=e;var n=!0;try{n=I(!0,e)}finally{n?x():(S=!1,I=null)}}else S=!1}if("function"===typeof b)x=function(){b(C)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,R=T.port2;T.port1.onmessage=C,x=function(){R.postMessage(null)}}else x=function(){m(C,0)};function _(e){I=e,S||(S=!0,x())}function B(e,n){k=m(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,_(A))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(y?(w(k),k=-1):y=!0,B(E,s-o))):(e.sortIndex=a,n(c,e),g||p||(g=!0,_(A))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},776:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(900);r.__exportStar(n(623),t),r.__exportStar(n(227),t)},878:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(686);r.__exportStar(n(560),t),r.__exportStar(n(737),t),r.__exportStar(n(732),t),r.__exportStar(n(64),t)},897:(e,t)=>{t.read=function(e,t,n,r,i){var s,o,a=8*i-r-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,s=d&(1<<-u)-1,d>>=-u,u+=a;u>0;s=256*s+e[t+h],h+=f,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=256*o+e[t+h],h+=f,u-=8);if(0===s)s=1-c;else{if(s===l)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),s-=c}return(d?-1:1)*o*Math.pow(2,s-r)},t.write=function(e,t,n,r,i,s){var o,a,l,c=8*s-i-1,u=(1<<c)-1,h=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+h>=1?f/l:f*Math.pow(2,1-h))*l>=2&&(o++,l/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(t*l-1)*Math.pow(2,i),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+d]=255&a,d+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[n+d]=255&o,d+=p,o/=256,c-=8);e[n+d-p]|=128*g}},900:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__assign:()=>s,__asyncDelegator:()=>v,__asyncGenerator:()=>b,__asyncValues:()=>E,__await:()=>w,__awaiter:()=>u,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>k,__createBinding:()=>f,__decorate:()=>a,__exportStar:()=>d,__extends:()=>i,__generator:()=>h,__importDefault:()=>S,__importStar:()=>x,__makeTemplateObject:()=>A,__metadata:()=>c,__param:()=>l,__read:()=>g,__rest:()=>o,__spread:()=>y,__spreadArrays:()=>m,__values:()=>p});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}l((r=r.apply(e,t||[])).next())})}function h(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function d(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function w(e){return this instanceof w?(this.v=e,this):new w(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){s.push([e,t,n,r])>1||a(e,t)})})}function a(e,t){try{(n=i[e](t)).value instanceof w?Promise.resolve(n.value.v).then(l,c):u(s[0][2],n)}catch(r){u(s[0][3],r)}var n}function l(e){a("next",e)}function c(e){a("throw",e)}function u(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function v(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:w(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,i,(t=e[n](t)).done,t.value)})}}}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},950:(e,t,n)=>{"use strict";e.exports=n(49)},981:e=>{"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,s),r(n)}function s(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&g(e,"error",t,n)}(e,i,{once:!0})})},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,s,o,c;if(a(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),void 0===o)o=s[t]=n,++e._eventsCount;else if("function"===typeof o?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=l(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,c=u,console&&console.warn&&console.warn(c)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(s){r.once&&e.removeEventListener(t,i),n(s)})}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=s[e];if(void 0===l)return!1;if("function"===typeof l)r(l,this,t);else{var c=l.length,u=p(l,c);for(n=0;n<c;++n)r(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return c(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return c(this,e,t,!0)},s.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,s,o;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>o[e]=()=>r[e]);return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".6e88ad87.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var f=(t,n)=>{a.onerror=a.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach(e=>e(n)),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/wallet-viewer/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],c=0;if(o.some(t=>0!==e[t])){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkfrontend=self.webpackChunkfrontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{OG:()=>Eo,My:()=>ho,Ph:()=>go,lX:()=>yo,Id:()=>vo,fg:()=>So,qj:()=>bo,aT:()=>po,lq:()=>mo,z:()=>wo,Q5:()=>ko});var t={};n.r(t),n.d(t,{identity:()=>ow});var r={};n.r(r),n.d(r,{base2:()=>aw});var i={};n.r(i),n.d(i,{base8:()=>lw});var s={};n.r(s),n.d(s,{base10:()=>cw});var o={};n.r(o),n.d(o,{base16:()=>uw,base16upper:()=>hw});var a={};n.r(a),n.d(a,{base32:()=>fw,base32hex:()=>yw,base32hexpad:()=>ww,base32hexpadupper:()=>bw,base32hexupper:()=>mw,base32pad:()=>pw,base32padupper:()=>gw,base32upper:()=>dw,base32z:()=>vw});var l={};n.r(l),n.d(l,{base36:()=>Ew,base36upper:()=>Aw});var c={};n.r(c),n.d(c,{base58btc:()=>xw,base58flickr:()=>Sw});var u={};n.r(u),n.d(u,{base64:()=>Iw,base64pad:()=>kw,base64url:()=>Pw,base64urlpad:()=>Ow});var h={};n.r(h),n.d(h,{base256emoji:()=>Rw});var f={};n.r(f),n.d(f,{sha256:()=>rb,sha512:()=>ib});var d={};n.r(d),n.d(d,{identity:()=>ob});var p={};n.r(p),n.d(p,{code:()=>lb,decode:()=>ub,encode:()=>cb,name:()=>ab});var g={};n.r(g),n.d(g,{code:()=>pb,decode:()=>yb,encode:()=>gb,name:()=>db});var y=n(950),m=n.t(y,2),w=n(352);function b(e,t,n){const r=t.split("|").map(e=>e.trim());for(let s=0;s<r.length;s++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const i=new Error(`invalid value for type ${t}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=e,i}async function v(e){const t=Object.keys(e),n=await Promise.all(t.map(t=>Promise.resolve(e[t])));return n.reduce((e,n,r)=>(e[t[r]]=n,e),{})}function E(e,t,n){for(let r in t){let i=t[r];const s=n?n[r]:null;s&&b(i,s,r),Object.defineProperty(e,r,{enumerable:!0,value:i,writable:!1})}}function A(e,t){if(null==e)return"null";if(null==t&&(t=new Set),"object"===typeof e){if(t.has(e))return"[Circular]";t.add(e)}if(Array.isArray(e))return"[ "+e.map(e=>A(e,t)).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let n="0x";for(let r=0;r<e.length;r++)n+=t[e[r]>>4],n+=t[15&e[r]];return n}if("object"===typeof e&&"function"===typeof e.toJSON)return A(e.toJSON(),t);switch(typeof e){case"boolean":case"number":case"symbol":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const n=Object.keys(e);return n.sort(),"{ "+n.map(n=>`${A(n,t)}: ${A(e[n],t)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function x(e,t){return e&&e.code===t}function S(e){return x(e,"CALL_EXCEPTION")}function I(e,t,n){let r,i=e;{const r=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${A(n)}`);for(const e in n){if("shortMessage"===e)continue;const t=n[e];r.push(e+"="+A(t))}}r.push(`code=${t}`),r.push("version=6.15.0"),r.length&&(e+=" ("+r.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":r=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(e);break;default:r=new Error(e)}return E(r,{code:t}),n&&Object.assign(r,n),null==r.shortMessage&&E(r,{shortMessage:i}),r}function k(e,t,n,r){if(!e)throw I(t,n,r)}function P(e,t,n,r){k(e,t,"INVALID_ARGUMENT",{argument:n,value:r})}function O(e,t,n){null==n&&(n=""),n&&(n=": "+n),k(e>=t,"missing argument"+n,"MISSING_ARGUMENT",{count:e,expectedCount:t}),k(e<=t,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}const N=["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){const e=String.fromCharCode(233).normalize("NFD");if(e!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(n){}return e},[]);function C(e,t,n){if(null==n&&(n=""),e!==t){let e=n,t="new";n&&(e+=".",t+=" "+n),k(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}function T(e,t,n){if(e instanceof Uint8Array)return n?new Uint8Array(e):e;if("string"===typeof e&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let n=2;for(let r=0;r<t.length;r++)t[r]=parseInt(e.substring(n,n+2),16),n+=2;return t}P(!1,"invalid BytesLike value",t||"value",e)}function R(e,t){return T(e,t,!1)}function _(e,t){return T(e,t,!0)}function B(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!==typeof t||e.length===2+2*t)&&(!0!==t||e.length%2===0))}function U(e){return B(e,!0)||e instanceof Uint8Array}const L="0123456789abcdef";function D(e){const t=R(e);let n="0x";for(let r=0;r<t.length;r++){const e=t[r];n+=L[(240&e)>>4]+L[15&e]}return n}function M(e){return"0x"+e.map(e=>D(e).substring(2)).join("")}function F(e){return B(e,!0)?(e.length-2)/2:R(e).length}function z(e,t,n){const r=R(e);return null!=n&&n>r.length&&k(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),D(r.slice(null==t?0:t,null==n?r.length:n))}function j(e,t,n){const r=R(e);k(t>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:t,offset:t+1});const i=new Uint8Array(t);return i.fill(0),n?i.set(r,t-r.length):i.set(r,0),D(i)}function V(e,t){return j(e,t,!0)}const H=BigInt(0),q=BigInt(1),$=9007199254740991;function G(e,t){const n=J(e,"value"),r=BigInt(X(t,"width"));if(k(n>>r===H,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),n>>r-q){return-((~n&(q<<r)-q)+q)}return n}function K(e,t){let n=W(e,"value");const r=BigInt(X(t,"width")),i=q<<r-q;if(n<H){n=-n,k(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});return(~n&(q<<r)-q)+q}return k(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),n}function Q(e,t){const n=J(e,"value"),r=BigInt(X(t,"bits"));return n&(q<<r)-q}function W(e,t){switch(typeof e){case"bigint":return e;case"number":return P(Number.isInteger(e),"underflow",t||"value",e),P(e>=-$&&e<=$,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(ec){P(!1,`invalid BigNumberish string: ${ec.message}`,t||"value",e)}}P(!1,"invalid BigNumberish value",t||"value",e)}function J(e,t){const n=W(e,t);return k(n>=H,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),n}const Y="0123456789abcdef";function Z(e){if(e instanceof Uint8Array){let t="0x0";for(const n of e)t+=Y[n>>4],t+=Y[15&n];return BigInt(t)}return W(e)}function X(e,t){switch(typeof e){case"bigint":return P(e>=-$&&e<=$,"overflow",t||"value",e),Number(e);case"number":return P(Number.isInteger(e),"underflow",t||"value",e),P(e>=-$&&e<=$,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return X(BigInt(e),t)}catch(ec){P(!1,`invalid numeric string: ${ec.message}`,t||"value",e)}}P(!1,"invalid numeric value",t||"value",e)}function ee(e,t){let n=J(e,"value").toString(16);if(null==t)n.length%2&&(n="0"+n);else{const r=X(t,"width");for(k(2*r>=n.length,`value exceeds width (${r} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});n.length<2*r;)n="0"+n}return"0x"+n}function te(e){const t=J(e,"value");if(t===H)return new Uint8Array([]);let n=t.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const e=2*i;r[i]=parseInt(n.substring(e,e+2),16)}return r}function ne(e){let t=D(U(e)?e:te(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}const re=32,ie=new Uint8Array(re),se=["then"],oe={},ae=new WeakMap;function le(e){return ae.get(e)}function ce(e,t){ae.set(e,t)}function ue(e,t){const n=new Error(`deferred error during ABI decoding triggered accessing ${e}`);throw n.error=t,n}function he(e,t,n){return e.indexOf(null)>=0?t.map((e,t)=>e instanceof fe?he(le(e),e,n):e):e.reduce((e,r,i)=>{let s=t.getValue(r);return r in e||(n&&s instanceof fe&&(s=he(le(s),s,n)),e[r]=s),e},{})}class fe extends Array{#e;constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t[0];let i=t[1],s=(t[2]||[]).slice(),o=!0;r!==oe&&(i=t,s=[],o=!1),super(i.length),i.forEach((e,t)=>{this[t]=e});const a=s.reduce((e,t)=>("string"===typeof t&&e.set(t,(e.get(t)||0)+1),e),new Map);if(ce(this,Object.freeze(i.map((e,t)=>{const n=s[t];return null!=n&&1===a.get(n)?n:null}))),this.#e=[],null==this.#e&&this.#e,!o)return;Object.freeze(this);const l=new Proxy(this,{get:(e,t,n)=>{if("string"===typeof t){if(t.match(/^[0-9]+$/)){const n=X(t,"%index");if(n<0||n>=this.length)throw new RangeError("out of result range");const r=e[n];return r instanceof Error&&ue(`index ${n}`,r),r}if(se.indexOf(t)>=0)return Reflect.get(e,t,n);const r=e[t];if(r instanceof Function)return function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return r.apply(this===n?e:this,i)};if(!(t in e))return e.getValue.apply(this===n?e:this,[t])}return Reflect.get(e,t,n)}});return ce(l,le(this)),l}toArray(e){const t=[];return this.forEach((n,r)=>{n instanceof Error&&ue(`index ${r}`,n),e&&n instanceof fe&&(n=n.toArray(e)),t.push(n)}),t}toObject(e){const t=le(this);return t.reduce((n,r,i)=>(k(null!=r,`value at index ${i} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),he(t,this,e)),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);const n=le(this),r=[],i=[];for(let s=e;s<t;s++)r.push(this[s]),i.push(n[s]);return new fe(oe,r,i)}filter(e,t){const n=le(this),r=[],i=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&ue(`index ${s}`,o),e.call(t,o,s,this)&&(r.push(o),i.push(n[s]))}return new fe(oe,r,i)}map(e,t){const n=[];for(let r=0;r<this.length;r++){const i=this[r];i instanceof Error&&ue(`index ${r}`,i),n.push(e.call(t,i,r,this))}return n}getValue(e){const t=le(this).indexOf(e);if(-1===t)return;const n=this[t];return n instanceof Error&&ue(`property ${JSON.stringify(e)}`,n.error),n}static fromItems(e,t){return new fe(oe,e,t)}}function de(e){let t=te(e);return k(t.length<=re,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:re,offset:t.length}),t.length!==re&&(t=_(M([ie.slice(t.length%re),t]))),t}class pe{name;type;localName;dynamic;constructor(e,t,n,r){E(this,{name:e,type:t,localName:n,dynamic:r},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){P(!1,e,this.localName,t)}}class ge{#t;#n;constructor(){this.#t=[],this.#n=0}get data(){return M(this.#t)}get length(){return this.#n}#r(e){return this.#t.push(e),this.#n+=e.length,e.length}appendWriter(e){return this.#r(_(e.data))}writeBytes(e){let t=_(e);const n=t.length%re;return n&&(t=_(M([t,ie.slice(n)]))),this.#r(t)}writeValue(e){return this.#r(de(e))}writeUpdatableValue(){const e=this.#t.length;return this.#t.push(ie),this.#n+=re,t=>{this.#t[e]=de(t)}}}class ye{allowLoose;#t;#i;#s;#o;#a;constructor(e,t,n){E(this,{allowLoose:!!t}),this.#t=_(e),this.#s=0,this.#o=null,this.#a=null!=n?n:1024,this.#i=0}get data(){return D(this.#t)}get dataLength(){return this.#t.length}get consumed(){return this.#i}get bytes(){return new Uint8Array(this.#t)}#l(e){if(this.#o)return this.#o.#l(e);this.#s+=e,k(this.#a<1||this.#s<=this.#a*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#a} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:_(this.#t),offset:this.#i,length:e,info:{bytesRead:this.#s,dataLength:this.dataLength}})}#c(e,t,n){let r=Math.ceil(t/re)*re;return this.#i+r>this.#t.length&&(this.allowLoose&&n&&this.#i+t<=this.#t.length?r=t:k(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:_(this.#t),length:this.#t.length,offset:this.#i+r})),this.#t.slice(this.#i,this.#i+r)}subReader(e){const t=new ye(this.#t.slice(this.#i+e),this.allowLoose,this.#a);return t.#o=this,t}readBytes(e,t){let n=this.#c(0,e,!!t);return this.#l(e),this.#i+=n.length,n.slice(0,e)}readValue(){return Z(this.readBytes(re))}readIndex(){return X(Z(this.readBytes(re)))}}function me(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function we(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error(`Expected Uint8Array of length ${n}, not of length=${e.length}`)}function be(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");me(e.outputLen),me(e.blockLen)}function ve(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ee(e,t){we(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Ae=BigInt(2**32-1),xe=BigInt(32);function Se(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&Ae),l:Number(e>>xe&Ae)}:{h:0|Number(e>>xe&Ae),l:0|Number(e&Ae)}}function Ie(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=Se(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const ke=(e,t,n)=>e<<n|t>>>32-n,Pe=(e,t,n)=>t<<n|e>>>32-n,Oe=(e,t,n)=>t<<n-32|e>>>64-n,Ne=(e,t,n)=>e<<n-32|t>>>64-n;const Ce={fromBig:Se,split:Ie,toBig:(e,t)=>BigInt(e>>>0)<<xe|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:ke,rotlSL:Pe,rotlBH:Oe,rotlBL:Ne,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},Te=Ce,Re="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,_e=e=>e instanceof Uint8Array,Be=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ue=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function Le(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!_e(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class De{clone(){return this._cloneInto()}}function Me(e){const t=t=>e().update(Le(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(Re&&"function"===typeof Re.getRandomValues)return Re.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const[ze,je,Ve]=[[],[],[]],He=BigInt(0),qe=BigInt(1),$e=BigInt(2),Ge=BigInt(7),Ke=BigInt(256),Qe=BigInt(113);for(let n=0,D_=qe,M_=1,F_=0;n<24;n++){[M_,F_]=[F_,(2*M_+3*F_)%5],ze.push(2*(5*F_+M_)),je.push((n+1)*(n+2)/2%64);let e=He;for(let t=0;t<7;t++)D_=(D_<<qe^(D_>>Ge)*Qe)%Ke,D_&$e&&(e^=qe<<(qe<<BigInt(t))-qe);Ve.push(e)}const[We,Je]=Ie(Ve,!0),Ye=(e,t,n)=>n>32?Oe(e,t,n):ke(e,t,n),Ze=(e,t,n)=>n>32?Ne(e,t,n):Pe(e,t,n);class Xe extends De{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,me(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}keccak(){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],o=n[i+1],a=Ye(s,o,1)^n[t],l=Ze(s,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=l}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=je[n],s=Ye(t,i,r),o=Ze(t,i,r),a=ze[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=We[r],e[1]^=Je[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){ve(this);const{blockLen:t,state:n}=this,r=(e=Le(e)).length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){ve(this,!1),we(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return me(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ee(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new Xe(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const et=(e,t,n)=>Me(()=>new Xe(t,e,n)),tt=et(1,136,32);let nt=!1;const rt=function(e){return tt(e)};let it=rt;function st(e){const t=R(e,"data");return D(it(t))}st._=rt,st.lock=function(){nt=!0},st.register=function(e){if(nt)throw new TypeError("keccak256 is locked");it=e},Object.freeze(st);const ot=BigInt(0),at=BigInt(36);function lt(e){const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=t[i].charCodeAt(0);const r=R(st(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(15&r[i>>1])>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const ct={};for(let n=0;n<10;n++)ct[String(n)]=String(n);for(let n=0;n<26;n++)ct[String.fromCharCode(65+n)]=String(10+n);function ut(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>ct[e]).join("");for(;t.length>=15;){let e=t.substring(0,15);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}const ht=function(){const e={};for(let t=0;t<36;t++){e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t)}return e}();function ft(e){if(P("string"===typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=lt(e);return P(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){P(e.substring(2,4)===ut(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=ot;for(let n=0;n<e.length;n++)t=t*at+ht[e[n]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return lt("0x"+t)}P(!1,"invalid address","address",e)}const dt={};function pt(e,t){let n=!1;return t<0&&(n=!0,t*=-1),new mt(dt,`${n?"":"u"}int${t}`,e,{signed:n,width:t})}function gt(e,t){return new mt(dt,`bytes${t||""}`,e,{size:t})}const yt=Symbol.for("_ethers_typed");class mt{type;value;#u;_typedSymbol;constructor(e,t,n,r){null==r&&(r=null),C(dt,e,"Typed"),E(this,{_typedSymbol:yt,type:t,value:n}),this.#u=r,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#u}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#u?-1:!1===this.#u?this.value.length:null}static from(e,t){return new mt(dt,e,t)}static uint8(e){return pt(e,8)}static uint16(e){return pt(e,16)}static uint24(e){return pt(e,24)}static uint32(e){return pt(e,32)}static uint40(e){return pt(e,40)}static uint48(e){return pt(e,48)}static uint56(e){return pt(e,56)}static uint64(e){return pt(e,64)}static uint72(e){return pt(e,72)}static uint80(e){return pt(e,80)}static uint88(e){return pt(e,88)}static uint96(e){return pt(e,96)}static uint104(e){return pt(e,104)}static uint112(e){return pt(e,112)}static uint120(e){return pt(e,120)}static uint128(e){return pt(e,128)}static uint136(e){return pt(e,136)}static uint144(e){return pt(e,144)}static uint152(e){return pt(e,152)}static uint160(e){return pt(e,160)}static uint168(e){return pt(e,168)}static uint176(e){return pt(e,176)}static uint184(e){return pt(e,184)}static uint192(e){return pt(e,192)}static uint200(e){return pt(e,200)}static uint208(e){return pt(e,208)}static uint216(e){return pt(e,216)}static uint224(e){return pt(e,224)}static uint232(e){return pt(e,232)}static uint240(e){return pt(e,240)}static uint248(e){return pt(e,248)}static uint256(e){return pt(e,256)}static uint(e){return pt(e,256)}static int8(e){return pt(e,-8)}static int16(e){return pt(e,-16)}static int24(e){return pt(e,-24)}static int32(e){return pt(e,-32)}static int40(e){return pt(e,-40)}static int48(e){return pt(e,-48)}static int56(e){return pt(e,-56)}static int64(e){return pt(e,-64)}static int72(e){return pt(e,-72)}static int80(e){return pt(e,-80)}static int88(e){return pt(e,-88)}static int96(e){return pt(e,-96)}static int104(e){return pt(e,-104)}static int112(e){return pt(e,-112)}static int120(e){return pt(e,-120)}static int128(e){return pt(e,-128)}static int136(e){return pt(e,-136)}static int144(e){return pt(e,-144)}static int152(e){return pt(e,-152)}static int160(e){return pt(e,-160)}static int168(e){return pt(e,-168)}static int176(e){return pt(e,-176)}static int184(e){return pt(e,-184)}static int192(e){return pt(e,-192)}static int200(e){return pt(e,-200)}static int208(e){return pt(e,-208)}static int216(e){return pt(e,-216)}static int224(e){return pt(e,-224)}static int232(e){return pt(e,-232)}static int240(e){return pt(e,-240)}static int248(e){return pt(e,-248)}static int256(e){return pt(e,-256)}static int(e){return pt(e,-256)}static bytes1(e){return gt(e,1)}static bytes2(e){return gt(e,2)}static bytes3(e){return gt(e,3)}static bytes4(e){return gt(e,4)}static bytes5(e){return gt(e,5)}static bytes6(e){return gt(e,6)}static bytes7(e){return gt(e,7)}static bytes8(e){return gt(e,8)}static bytes9(e){return gt(e,9)}static bytes10(e){return gt(e,10)}static bytes11(e){return gt(e,11)}static bytes12(e){return gt(e,12)}static bytes13(e){return gt(e,13)}static bytes14(e){return gt(e,14)}static bytes15(e){return gt(e,15)}static bytes16(e){return gt(e,16)}static bytes17(e){return gt(e,17)}static bytes18(e){return gt(e,18)}static bytes19(e){return gt(e,19)}static bytes20(e){return gt(e,20)}static bytes21(e){return gt(e,21)}static bytes22(e){return gt(e,22)}static bytes23(e){return gt(e,23)}static bytes24(e){return gt(e,24)}static bytes25(e){return gt(e,25)}static bytes26(e){return gt(e,26)}static bytes27(e){return gt(e,27)}static bytes28(e){return gt(e,28)}static bytes29(e){return gt(e,29)}static bytes30(e){return gt(e,30)}static bytes31(e){return gt(e,31)}static bytes32(e){return gt(e,32)}static address(e){return new mt(dt,"address",e)}static bool(e){return new mt(dt,"bool",!!e)}static bytes(e){return new mt(dt,"bytes",e)}static string(e){return new mt(dt,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new mt(dt,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"===typeof e&&"_typedSymbol"in e&&e._typedSymbol===yt}static dereference(e,t){if(mt.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}class wt extends pe{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=mt.dereference(t,"string");try{n=ft(n)}catch(r){return this._throwError(r.message,t)}return e.writeValue(n)}decode(e){return ft(ee(e.readValue(),20))}}class bt extends pe{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function vt(e,t,n){let r=[];if(Array.isArray(n))r=n;else if(n&&"object"===typeof n){let e={};r=t.map(t=>{const r=t.localName;return k(r,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),k(!e[r],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),e[r]=!0,n[r]})}else P(!1,"invalid tuple value","tuple",n);P(t.length===r.length,"types/value length mismatch","tuple",n);let i=new ge,s=new ge,o=[];t.forEach((e,t)=>{let n=r[t];if(e.dynamic){let t=s.length;e.encode(s,n);let r=i.writeUpdatableValue();o.push(e=>{r(e+t)})}else e.encode(i,n)}),o.forEach(e=>{e(i.length)});let a=e.appendWriter(i);return a+=e.appendWriter(s),a}function Et(e,t){let n=[],r=[],i=e.subReader(0);return t.forEach(t=>{let s=null;if(t.dynamic){let n=e.readIndex(),r=i.subReader(n);try{s=t.decode(r)}catch(o){if(x(o,"BUFFER_OVERRUN"))throw o;s=o,s.baseType=t.name,s.name=t.localName,s.type=t.type}}else try{s=t.decode(e)}catch(o){if(x(o,"BUFFER_OVERRUN"))throw o;s=o,s.baseType=t.name,s.name=t.localName,s.type=t.type}if(void 0==s)throw new Error("investigate");n.push(s),r.push(t.localName||null)}),fe.fromItems(n,r)}class At extends pe{coder;length;constructor(e,t,n){super("array",e.type+"["+(t>=0?t:"")+"]",n,-1===t||e.dynamic),E(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){const n=mt.dereference(t,"array");Array.isArray(n)||this._throwError("expected array value",n);let r=this.length;-1===r&&(r=n.length,e.writeValue(n.length)),O(n.length,r,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<n.length;s++)i.push(this.coder);return vt(e,i,n)}decode(e){let t=this.length;-1===t&&(t=e.readIndex(),k(t*re<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*re,length:e.dataLength}));let n=[];for(let r=0;r<t;r++)n.push(new bt(this.coder));return Et(e,n)}}class xt extends pe{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const n=mt.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class St extends pe{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=_(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class It extends St{constructor(e){super("bytes",e)}decode(e){return D(super.decode(e))}}class kt extends pe{size;constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),E(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let n=_(mt.dereference(t,this.type));return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return D(e.readBytes(this.size))}}const Pt=new Uint8Array([]);class Ot extends pe{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(Pt)}decode(e){return e.readBytes(0),null}}const Nt=BigInt(0),Ct=BigInt(1),Tt=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Rt extends pe{size;signed;constructor(e,t,n){const r=(t?"int":"uint")+8*e;super(r,r,n,!1),E(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let n=W(mt.dereference(t,this.type)),r=Q(Tt,256);if(this.signed){let e=Q(r,8*this.size-1);(n>e||n<-(e+Ct))&&this._throwError("value out-of-bounds",t),n=K(n,256)}else(n<Nt||n>Q(r,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(n)}decode(e){let t=Q(e.readValue(),8*this.size);return this.signed&&(t=G(t,8*this.size)),t}}function _t(e,t,n,r,i){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let r=t+1;r<n.length&&n[r]>>6===2;r++)e++;return e}return"OVERRUN"===e?n.length-t-1:0}const Bt=Object.freeze({error:function(e,t,n,r,i){P(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",n)},ignore:_t,replace:function(e,t,n,r,i){return"OVERLONG"===e?(P("number"===typeof i,"invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),_t(e,t,n))}});function Ut(e,t){null==t&&(t=Bt.error);const n=R(e,"bytes"),r=[];let i=0;for(;i<n.length;){const e=n[i++];if(e>>7===0){r.push(e);continue}let s=null,o=null;if(192===(224&e))s=1,o=127;else if(224===(240&e))s=2,o=2047;else{if(240!==(248&e)){i+=t(128===(192&e)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",i-1,n,r);continue}s=3,o=65535}if(i-1+s>=n.length){i+=t("OVERRUN",i-1,n,r);continue}let a=e&(1<<8-s-1)-1;for(let l=0;l<s;l++){let e=n[i];if(128!=(192&e)){i+=t("MISSING_CONTINUE",i,n,r),a=null;break}a=a<<6|63&e,i++}null!==a&&(a>1114111?i+=t("OUT_OF_RANGE",i-1-s,n,r,a):a>=55296&&a<=57343?i+=t("UTF16_SURROGATE",i-1-s,n,r,a):a<=o?i+=t("OVERLONG",i-1-s,n,r,a):r.push(a))}return r}function Lt(e,t){P("string"===typeof e,"invalid string value","str",e),null!=t&&(!function(e){k(N.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}(t),e=e.normalize(t));let n=[];for(let r=0;r<e.length;r++){const t=e.charCodeAt(r);if(t<128)n.push(t);else if(t<2048)n.push(t>>6|192),n.push(63&t|128);else if(55296==(64512&t)){r++;const i=e.charCodeAt(r);P(r<e.length&&56320===(64512&i),"invalid surrogate pair","str",e);const s=65536+((1023&t)<<10)+(1023&i);n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(63&s|128)}else n.push(t>>12|224),n.push(t>>6&63|128),n.push(63&t|128)}return new Uint8Array(n)}function Dt(e,t){return Ut(e,t).map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e)))).join("")}class Mt extends St{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Lt(mt.dereference(t,"string")))}decode(e){return Dt(super.decode(e))}}class Ft extends pe{coders;constructor(e,t){let n=!1;const r=[];e.forEach(e=>{e.dynamic&&(n=!0),r.push(e.type)});super("tuple","tuple("+r.join(",")+")",t,n),E(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});const t=this.coders.reduce((e,t)=>{const n=t.localName;return n&&(e[n]||(e[n]=0),e[n]++),e},{});return this.coders.forEach((n,r)=>{let i=n.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[r]))}),Object.freeze(e)}encode(e,t){const n=mt.dereference(t,"tuple");return vt(e,this.coders,n)}decode(e){return Et(e,this.coders)}}function zt(e){return st(Lt(e))}function jt(e){const t=new Set;return e.forEach(e=>t.add(e)),Object.freeze(t)}const Vt=jt("external public payable override".split(" ")),Ht="constant external internal payable private public pure view override",qt=jt(Ht.split(" ")),$t="constructor error event fallback function receive struct",Gt=jt($t.split(" ")),Kt="calldata memory storage payable indexed",Qt=jt(Kt.split(" ")),Wt=jt([$t,Kt,"tuple returns",Ht].join(" ").split(" ")),Jt={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Yt=new RegExp("^(\\s*)"),Zt=new RegExp("^([0-9]+)"),Xt=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),en=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),tn=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class nn{#i;#h;get offset(){return this.#i}get length(){return this.#h.length-this.#i}constructor(e){this.#i=0,this.#h=e.slice()}clone(){return new nn(this.#h)}reset(){this.#i=0}#f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new nn(this.#h.slice(e,t).map(t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e}))))}popKeyword(e){const t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=this.#f(this.#i+1,e.match+1);return this.#i=e.match+1,t}popParams(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=[];for(;this.#i<e.match-1;){const e=this.peek().linkNext;t.push(this.#f(this.#i+1,e)),this.#i=e}return this.#i=e.match+1,t}peek(){if(this.#i>=this.#h.length)throw new Error("out-of-bounds");return this.#h[this.#i]}peekKeyword(e){const t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return this.#i++,e}toString(){const e=[];for(let t=this.#i;t<this.#h.length;t++){const n=this.#h[t];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}}function rn(e){const t=[],n=t=>{const n=s<e.length?JSON.stringify(e[s]):"$EOI";throw new Error(`invalid token ${n} at ${s}: ${t}`)};let r=[],i=[],s=0;for(;s<e.length;){let o=e.substring(s),a=o.match(Yt);a&&(s+=a[1].length,o=e.substring(s));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};t.push(l);let c=Jt[o[0]]||"";if(c){if(l.type=c,l.text=o[0],s++,"OPEN_PAREN"===c)r.push(t.length-1),i.push(t.length-1);else if("CLOSE_PAREN"==c)0===r.length&&n("no matching open bracket"),l.match=r.pop(),t[l.match].match=t.length-1,l.depth--,l.linkBack=i.pop(),t[l.linkBack].linkNext=t.length-1;else if("COMMA"===c)l.linkBack=i.pop(),t[l.linkBack].linkNext=t.length-1,i.push(t.length-1);else if("OPEN_BRACKET"===c)l.type="BRACKET";else if("CLOSE_BRACKET"===c){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){const n=t.pop().text;e=n+e,t[t.length-1].value=X(n)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw new Error("missing opening bracket");t[t.length-1].text+=e}}else if(a=o.match(Xt),a){if(l.text=a[1],s+=l.text.length,Wt.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(tn)){l.type="TYPE";continue}l.type="ID"}else{if(a=o.match(Zt),!a)throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`);l.text=a[1],l.type="NUMBER",s+=l.text.length}}return new nn(t.map(e=>Object.freeze(e)))}function sn(e,t){let n=[];for(const r in t.keys())e.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function on(e,t){if(t.peekKeyword(Gt)){const n=t.pop().text;if(n!==e)throw new Error(`expected ${e}, got ${n}`)}return t.popType("ID")}function an(e,t){const n=new Set;for(;;){const r=e.peekType("KEYWORD");if(null==r||t&&!t.has(r))break;if(e.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function ln(e){let t=an(e,qt);return sn(t,jt("constant payable nonpayable".split(" "))),sn(t,jt("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function cn(e,t){return e.popParams().map(e=>xn.from(e,t))}function un(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return W(e.pop().text);throw new Error("invalid gas")}return null}function hn(e){if(e.length)throw new Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}const fn=new RegExp(/^(.*)\[([0-9]*)\]$/);function dn(e){const t=e.match(tn);if(P(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){const n=parseInt(t[2]);P(0!==n&&n<=32,"invalid bytes length","type",e)}else if(t[3]){const n=parseInt(t[3]);P(0!==n&&n<=256&&n%8===0,"invalid numeric width","type",e)}return e}const pn={},gn=Symbol.for("_ethers_internal"),yn="_ParamTypeInternal",mn="_ErrorInternal",wn="_EventInternal",bn="_ConstructorInternal",vn="_FallbackInternal",En="_FunctionInternal",An="_StructInternal";class xn{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,n,r,i,s,o,a){if(C(e,pn,"ParamType"),Object.defineProperty(this,gn,{value:yn}),s&&(s=Object.freeze(s.slice())),"array"===r){if(null==o||null==a)throw new Error("")}else if(null!=o||null!=a)throw new Error("");if("tuple"===r){if(null==s)throw new Error("")}else if(null!=s)throw new Error("");E(this,{name:t,type:n,baseType:r,indexed:i,components:s,arrayLength:o,arrayChildren:a})}format(e){if(null==e&&(e="sighash"),"json"===e){const t=this.name||"";if(this.isArray()){const e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}const n={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"===typeof this.indexed&&(n.indexed=this.indexed),this.isTuple()&&(n.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(n)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(t=>t.format(e)).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(e=>n.arrayChildren.walk(e,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((e,r)=>n.components[r].walk(e,t))}return t(this.type,e)}#d(e,t,n,r){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const i=this.arrayChildren,s=t.slice();return s.forEach((t,r)=>{i.#d(e,t,n,e=>{s[r]=e})}),void r(s)}if(this.isTuple()){const i=this.components;let s;if(Array.isArray(t))s=t.slice();else{if(null==t||"object"!==typeof t)throw new Error("invalid tuple value");s=i.map(e=>{if(!e.name)throw new Error("cannot use object value with unnamed components");if(!(e.name in t))throw new Error(`missing value for component ${e.name}`);return t[e.name]})}if(s.length!==this.components.length)throw new Error("array is wrong length");return s.forEach((t,r)=>{i[r].#d(e,t,n,e=>{s[r]=e})}),void r(s)}const i=n(this.type,t);i.then?e.push(async function(){r(await i)}()):r(i)}async walkAsync(e,t){const n=[],r=[e];return this.#d(n,e,t,e=>{r[0]=e}),n.length&&await Promise.all(n),r[0]}static from(e,t){if(xn.isParamType(e))return e;if("string"===typeof e)try{return xn.from(rn(e),t)}catch(o){P(!1,"invalid param type","obj",e)}else if(e instanceof nn){let n="",r="",i=null;an(e,jt(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(r="tuple",i=e.popParams().map(e=>xn.from(e)),n=`tuple(${i.map(e=>e.format()).join(",")})`):(n=dn(e.popType("TYPE")),r=n);let s=null,o=null;for(;e.length&&e.peekType("BRACKET");){const t=e.pop();s=new xn(pn,"",n,r,null,i,o,s),o=t.value,n+=t.text,r="array",i=null}let a=null;if(an(e,Qt).has("indexed")){if(!t)throw new Error("");a=!0}const l=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new xn(pn,l,n,r,a,i,o,s)}const n=e.name;P(!n||"string"===typeof n&&n.match(en),"invalid name","obj.name",n);let r=e.indexed;null!=r&&(P(t,"parameter cannot be indexed","obj.indexed",e.indexed),r=!!r);let i=e.type,s=i.match(fn);if(s){const t=parseInt(s[2]||"-1"),o=xn.from({type:s[1],components:e.components});return new xn(pn,n||"",i,"array",r,null,t,o)}if("tuple"===i||i.startsWith("tuple(")||i.startsWith("(")){const t=null!=e.components?e.components.map(e=>xn.from(e)):null;return new xn(pn,n||"",i,"tuple",r,t,null,null)}return i=dn(e.type),new xn(pn,n||"",i,i,r,null,null,null)}static isParamType(e){return e&&e[gn]===yn}}class Sn{type;inputs;constructor(e,t,n){C(e,pn,"Fragment"),E(this,{type:t,inputs:n=Object.freeze(n.slice())})}static from(e){if("string"===typeof e){try{Sn.from(JSON.parse(e))}catch(ec){}return Sn.from(rn(e))}if(e instanceof nn){switch(e.peekKeyword(Gt)){case"constructor":return Nn.from(e);case"error":return Pn.from(e);case"event":return On.from(e);case"fallback":case"receive":return Cn.from(e);case"function":return Tn.from(e);case"struct":return Rn.from(e)}}else if("object"===typeof e){switch(e.type){case"constructor":return Nn.from(e);case"error":return Pn.from(e);case"event":return On.from(e);case"fallback":case"receive":return Cn.from(e);case"function":return Tn.from(e);case"struct":return Rn.from(e)}k(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}P(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Nn.isFragment(e)}static isError(e){return Pn.isFragment(e)}static isEvent(e){return On.isFragment(e)}static isFunction(e){return Tn.isFragment(e)}static isStruct(e){return Rn.isFragment(e)}}class In extends Sn{name;constructor(e,t,n,r){super(e,t,r),P("string"===typeof n&&n.match(en),"invalid identifier","name",n),r=Object.freeze(r.slice()),E(this,{name:n})}}function kn(e,t){return"("+t.map(t=>t.format(e)).join("full"===e?", ":",")+")"}class Pn extends In{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,gn,{value:mn})}get selector(){return zt(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});const t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+kn(e,this.inputs)),t.join(" ")}static from(e){if(Pn.isFragment(e))return e;if("string"===typeof e)return Pn.from(rn(e));if(e instanceof nn){const t=on("error",e),n=cn(e);return hn(e),new Pn(pn,t,n)}return new Pn(pn,e.name,e.inputs?e.inputs.map(xn.from):[])}static isFragment(e){return e&&e[gn]===mn}}class On extends In{anonymous;constructor(e,t,n,r){super(e,"event",t,n),Object.defineProperty(this,gn,{value:wn}),E(this,{anonymous:r})}get topicHash(){return zt(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});const t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+kn(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){t=(t||[]).map(e=>xn.from(e));return new On(pn,e,t,!1).topicHash}static from(e){if(On.isFragment(e))return e;if("string"===typeof e)try{return On.from(rn(e))}catch(t){P(!1,"invalid event fragment","obj",e)}else if(e instanceof nn){const t=on("event",e),n=cn(e,!0),r=!!an(e,jt(["anonymous"])).has("anonymous");return hn(e),new On(pn,t,n,r)}return new On(pn,e.name,e.inputs?e.inputs.map(e=>xn.from(e,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[gn]===wn}}class Nn extends Sn{payable;gas;constructor(e,t,n,r,i){super(e,t,n),Object.defineProperty(this,gn,{value:bn}),E(this,{payable:r,gas:i})}format(e){if(k(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});const t=[`constructor${kn(e,this.inputs)}`];return this.payable&&t.push("payable"),null!=this.gas&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(Nn.isFragment(e))return e;if("string"===typeof e)try{return Nn.from(rn(e))}catch(t){P(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof nn){an(e,jt(["constructor"]));const t=cn(e),n=!!an(e,Vt).has("payable"),r=un(e);return hn(e),new Nn(pn,"constructor",t,n,r)}return new Nn(pn,"constructor",e.inputs?e.inputs.map(xn.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[gn]===bn}}class Cn extends Sn{payable;constructor(e,t,n){super(e,"fallback",t),Object.defineProperty(this,gn,{value:vn}),E(this,{payable:n})}format(e){const t=0===this.inputs.length?"receive":"fallback";if("json"===e){const e=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:e})}return`${t}()${this.payable?" payable":""}`}static from(e){if(Cn.isFragment(e))return e;if("string"===typeof e)try{return Cn.from(rn(e))}catch(t){P(!1,"invalid fallback fragment","obj",e)}else if(e instanceof nn){const t=e.toString();P(e.peekKeyword(jt(["fallback","receive"])),"type must be fallback or receive","obj",t);if("receive"===e.popKeyword(jt(["fallback","receive"]))){const t=cn(e);return P(0===t.length,"receive cannot have arguments","obj.inputs",t),an(e,jt(["payable"])),hn(e),new Cn(pn,[],!0)}let n=cn(e);n.length?P(1===n.length&&"bytes"===n[0].type,"invalid fallback inputs","obj.inputs",n.map(e=>e.format("minimal")).join(", ")):n=[xn.from("bytes")];const r=ln(e);if(P("nonpayable"===r||"payable"===r,"fallback cannot be constants","obj.stateMutability",r),an(e,jt(["returns"])).has("returns")){const t=cn(e);P(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map(e=>e.format("minimal")).join(", "))}return hn(e),new Cn(pn,n,"payable"===r)}if("receive"===e.type)return new Cn(pn,[],!0);if("fallback"===e.type){const t=[xn.from("bytes")],n="payable"===e.stateMutability;return new Cn(pn,t,n)}P(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[gn]===vn}}class Tn extends In{constant;outputs;stateMutability;payable;gas;constructor(e,t,n,r,i,s){super(e,"function",t,r),Object.defineProperty(this,gn,{value:En});E(this,{constant:"view"===n||"pure"===n,gas:s,outputs:i=Object.freeze(i.slice()),payable:"payable"===n,stateMutability:n})}get selector(){return zt(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});const t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+kn(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(kn(e,this.outputs))),null!=this.gas&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){t=(t||[]).map(e=>xn.from(e));return new Tn(pn,e,"view",t,[],null).selector}static from(e){if(Tn.isFragment(e))return e;if("string"===typeof e)try{return Tn.from(rn(e))}catch(n){P(!1,"invalid function fragment","obj",e)}else if(e instanceof nn){const t=on("function",e),n=cn(e),r=ln(e);let i=[];an(e,jt(["returns"])).has("returns")&&(i=cn(e));const s=un(e);return hn(e),new Tn(pn,t,r,n,i,s)}let t=e.stateMutability;return null==t&&(t="payable","boolean"===typeof e.constant?(t="view",e.constant||(t="payable","boolean"!==typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!==typeof e.payable||e.payable||(t="nonpayable")),new Tn(pn,e.name,t,e.inputs?e.inputs.map(xn.from):[],e.outputs?e.outputs.map(xn.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[gn]===En}}class Rn extends In{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,gn,{value:An})}format(){throw new Error("@TODO")}static from(e){if("string"===typeof e)try{return Rn.from(rn(e))}catch(t){P(!1,"invalid struct fragment","obj",e)}else if(e instanceof nn){const t=on("struct",e),n=cn(e);return hn(e),new Rn(pn,t,n)}return new Rn(pn,e.name,e.inputs?e.inputs.map(xn.from):[])}static isFragment(e){return e&&e[gn]===An}}const _n=new Map;_n.set(0,"GENERIC_PANIC"),_n.set(1,"ASSERT_FALSE"),_n.set(17,"OVERFLOW"),_n.set(18,"DIVIDE_BY_ZERO"),_n.set(33,"ENUM_RANGE_ERROR"),_n.set(34,"BAD_STORAGE_DATA"),_n.set(49,"STACK_UNDERFLOW"),_n.set(50,"ARRAY_RANGE_ERROR"),_n.set(65,"OUT_OF_MEMORY"),_n.set(81,"UNINITIALIZED_FUNCTION_CALL");const Bn=new RegExp(/^bytes([0-9]*)$/),Un=new RegExp(/^(u?int)([0-9]*)$/);let Ln=null,Dn=1024;class Mn{#p(e){if(e.isArray())return new At(this.#p(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Ft(e.components.map(e=>this.#p(e)),e.name);switch(e.baseType){case"address":return new wt(e.name);case"bool":return new xt(e.name);case"string":return new Mt(e.name);case"bytes":return new It(e.name);case"":return new Ot(e.name)}let t=e.type.match(Un);if(t){let n=parseInt(t[2]||"256");return P(0!==n&&n<=256&&n%8===0,"invalid "+t[1]+" bit length","param",e),new Rt(n/8,"int"===t[1],e.name)}if(t=e.type.match(Bn),t){let n=parseInt(t[1]);return P(0!==n&&n<=32,"invalid bytes length","param",e),new kt(n,e.name)}P(!1,"invalid type","type",e.type)}getDefaultValue(e){const t=e.map(e=>this.#p(xn.from(e)));return new Ft(t,"_").defaultValue()}encode(e,t){O(t.length,e.length,"types/values length mismatch");const n=e.map(e=>this.#p(xn.from(e))),r=new Ft(n,"_"),i=new ge;return r.encode(i,t),i.data}decode(e,t,n){const r=e.map(e=>this.#p(xn.from(e)));return new Ft(r,"_").decode(new ye(t,n,Dn))}static _setDefaultMaxInflation(e){P("number"===typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Dn=e}static defaultAbiCoder(){return null==Ln&&(Ln=new Mn),Ln}static getBuiltinCallException(e,t,n){return function(e,t,n,r){let i="missing revert data",s=null,o=null;if(n){i="execution reverted";const e=R(n);if(n=D(n),0===e.length)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(e.length%32!==4)i+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===D(e.slice(0,4)))try{s=r.decode(["string"],e.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch(l){i+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===D(e.slice(0,4)))try{const t=Number(r.decode(["uint256"],e.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[t]},s=`Panic due to ${_n.get(t)||"UNKNOWN"}(${t})`,i+=`: ${s}`}catch(l){i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const a={to:t.to?ft(t.to):null,data:t.data||"0x"};return t.from&&(a.from=ft(t.from)),I(i,"CALL_EXCEPTION",{action:e,data:n,reason:s,transaction:a,invocation:null,revert:o})}(e,t,n,Mn.defaultAbiCoder())}}function Fn(e){return e&&"function"===typeof e.getAddress}async function zn(e,t){const n=await t;return null!=n&&"0x0000000000000000000000000000000000000000"!==n||(k("string"!==typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),P(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),ft(n)}function jn(e,t){return"string"===typeof e?e.match(/^0x[0-9a-f]{40}$/i)?ft(e):(k(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),zn(e,t.resolveName(e))):Fn(e)?zn(e,e.getAddress()):e&&"function"===typeof e.then?zn(e,e):void P(!1,"unsupported addressable value","target",e)}const Vn=new Uint8Array(32);Vn.fill(0);const Hn=BigInt(-1),qn=BigInt(0),$n=BigInt(1),Gn=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Kn=ee($n,32),Qn=ee(qn,32),Wn={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Jn=["name","version","chainId","verifyingContract","salt"];function Yn(e){return function(t){return P("string"===typeof t,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const Zn={name:Yn("name"),version:Yn("version"),chainId:function(e){const t=W(e,"domain.chainId");return P(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):ne(t)},verifyingContract:function(e){try{return ft(e).toLowerCase()}catch(t){}P(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=R(e,"domain.salt");return P(32===t.length,'invalid domain value "salt"',"domain.salt",e),D(t)}};function Xn(e){{const t=e.match(/^(u?)int(\d+)$/);if(t){const n=""===t[1],r=parseInt(t[2]);P(r%8===0&&0!==r&&r<=256&&t[2]===String(r),"invalid numeric width","type",e);const i=Q(Gn,n?r-1:r),s=n?(i+$n)*Hn:qn;return function(t){const r=W(t,"value");return P(r>=s&&r<=i,`value out-of-bounds for ${e}`,"value",r),ee(n?K(r,256):r,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const n=parseInt(t[1]);return P(0!==n&&n<=32&&t[1]===String(n),"invalid bytes width","type",e),function(t){return P(R(t).length===n,`invalid length for ${e}`,"value",t),function(e){const t=R(e),n=t.length%32;return n?M([t,Vn.slice(n)]):D(t)}(t)}}}switch(e){case"address":return function(e){return V(ft(e),32)};case"bool":return function(e){return e?Kn:Qn};case"bytes":return function(e){return st(e)};case"string":return function(e){return zt(e)}}return null}function er(e,t){return`${e}(${t.map(e=>{let{name:t,type:n}=e;return n+" "+t}).join(",")})`}function tr(e){const t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}class nr{primaryType;#g;get types(){return JSON.parse(this.#g)}#y;#m;constructor(e){this.#y=new Map,this.#m=new Map;const t=new Map,n=new Map,r=new Map,i={};Object.keys(e).forEach(s=>{i[s]=e[s].map(t=>{let{name:n,type:r}=t,{base:i,index:s}=tr(r);return"int"!==i||e.int||(i="int256"),"uint"!==i||e.uint||(i="uint256"),{name:n,type:i+(s||"")}}),t.set(s,new Set),n.set(s,[]),r.set(s,new Set)}),this.#g=JSON.stringify(i);for(const o in i){const r=new Set;for(const s of i[o]){P(!r.has(s.name),`duplicate variable name ${JSON.stringify(s.name)} in ${JSON.stringify(o)}`,"types",e),r.add(s.name);const i=tr(s.type).base;P(i!==o,`circular type reference to ${JSON.stringify(i)}`,"types",e);Xn(i)||(P(n.has(i),`unknown type ${JSON.stringify(i)}`,"types",e),n.get(i).push(o),t.get(o).add(i))}}const s=Array.from(n.keys()).filter(e=>0===n.get(e).length);P(0!==s.length,"missing primary type","types",e),P(1===s.length,`ambiguous primary types or unused types: ${s.map(e=>JSON.stringify(e)).join(", ")}`,"types",e),E(this,{primaryType:s[0]}),function i(s,o){P(!o.has(s),`circular type reference to ${JSON.stringify(s)}`,"types",e),o.add(s);for(const e of t.get(s))if(n.has(e)){i(e,o);for(const t of o)r.get(t).add(e)}o.delete(s)}(this.primaryType,new Set);for(const[o,a]of r){const e=Array.from(a);e.sort(),this.#y.set(o,er(o,i[o])+e.map(e=>er(e,i[e])).join(""))}}getEncoder(e){let t=this.#m.get(e);return t||(t=this.#w(e),this.#m.set(e,t)),t}#w(e){{const t=Xn(e);if(t)return t}const t=tr(e).array;if(t){const e=t.prefix,n=this.getEncoder(e);return r=>{P(-1===t.count||t.count===r.length,`array length mismatch; expected length ${t.count}`,"value",r);let i=r.map(n);return this.#y.has(e)&&(i=i.map(st)),st(M(i))}}const n=this.types[e];if(n){const t=zt(this.#y.get(e));return e=>{const r=n.map(t=>{let{name:n,type:r}=t;const i=this.getEncoder(r)(e[n]);return this.#y.has(r)?st(i):i});return r.unshift(t),M(r)}}P(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const t=this.#y.get(e);return P(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return st(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(Xn(e))return n(e,t);const r=tr(e).array;if(r)return P(-1===r.count||r.count===t.length,`array length mismatch; expected length ${r.count}`,"value",t),t.map(e=>this._visit(r.prefix,e,n));const i=this.types[e];if(i)return i.reduce((e,r)=>{let{name:i,type:s}=r;return e[i]=this._visit(s,t[i],n),e},{});P(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new nr(e)}static getPrimaryType(e){return nr.from(e).primaryType}static hashStruct(e,t,n){return nr.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){if(null==e[n])continue;const r=Wn[n];P(r,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:r})}return t.sort((e,t)=>Jn.indexOf(e.name)-Jn.indexOf(t.name)),nr.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return M(["0x1901",nr.hashDomain(e),nr.from(t).hash(n)])}static hash(e,t,n){return st(nr.encode(e,t,n))}static async resolveNames(e,t,n,r){e=Object.assign({},e);for(const o in e)null==e[o]&&delete e[o];const i={};e.verifyingContract&&!B(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const s=nr.from(t);s.visit(n,(e,t)=>("address"!==e||B(t,20)||(i[t]="0x"),t));for(const o in i)i[o]=await r(o);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),{domain:e,value:n=s.visit(n,(e,t)=>"address"===e&&i[t]?i[t]:t)}}static getPayload(e,t,n){nr.hashDomain(e);const r={},i=[];Jn.forEach(t=>{const n=e[t];null!=n&&(r[t]=Zn[t](n),i.push({name:t,type:Wn[t]}))});const s=nr.from(t);t=s.types;const o=Object.assign({},t);return P(null==o.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),o.EIP712Domain=i,s.encode(n),{types:o,domain:r,primaryType:s.primaryType,message:s.visit(n,(e,t)=>{if(e.match(/^bytes(\d*)/))return D(R(t));if(e.match(/^u?int/))return W(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return P("string"===typeof t,"invalid string","value",t),t}P(!1,"unsupported type","type",e)})}}}function rr(e,t){return{address:ft(e),storageKeys:t.map((e,t)=>(P(B(e,32),"invalid slot",`storageKeys[${t}]`,e),e.toLowerCase()))}}function ir(e){if(Array.isArray(e))return e.map((t,n)=>Array.isArray(t)?(P(2===t.length,"invalid slot set",`value[${n}]`,t),rr(t[0],t[1])):(P(null!=t&&"object"===typeof t,"invalid address-slot set","value",e),rr(t.address,t.storageKeys)));P(null!=e&&"object"===typeof e,"invalid access list","value",e);const t=Object.keys(e).map(t=>{const n=e[t].reduce((e,t)=>(e[t]=!0,e),{});return rr(t,Object.keys(n).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}const sr="0x0000000000000000000000000000000000000000000000000000000000000000",or=BigInt(0),ar=BigInt(1),lr=BigInt(2),cr=BigInt(27),ur=BigInt(28),hr=BigInt(35),fr={};function dr(e){return V(te(e),32)}class pr{#b;#v;#E;#A;get r(){return this.#b}set r(e){P(32===F(e),"invalid r","value",e),this.#b=D(e)}get s(){return P(parseInt(this.#v.substring(0,3))<8,"non-canonical s; use ._s","s",this.#v),this.#v}set s(e){P(32===F(e),"invalid s","value",e),this.#v=D(e)}get _s(){return this.#v}isValid(){return parseInt(this.#v.substring(0,3))<8}get v(){return this.#E}set v(e){const t=X(e,"value");P(27===t||28===t,"invalid v","v",e),this.#E=t}get networkV(){return this.#A}get legacyChainId(){const e=this.networkV;return null==e?null:pr.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=R(this.s);return this.yParity&&(e[0]|=128),D(e)}get compactSerialized(){return M([this.r,this.yParityAndS])}get serialized(){return M([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,n,r){C(e,fr,"Signature"),this.#b=t,this.#v=n,this.#E=r,this.#A=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new pr(fr,this.r,this._s,this.v);return this.networkV&&(e.#A=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const t=W(e,"v");return t==cr||t==ur?or:(P(t>=hr,"invalid EIP-155 v","v",e),(t-hr)/lr)}static getChainIdV(e,t){return W(e)*lr+BigInt(35+t-27)}static getNormalizedV(e){const t=W(e);return t===or||t===cr?27:t===ar||t===ur?28:(P(t>=hr,"invalid v","v",e),t&ar?27:28)}static from(e){function t(t,n){P(t,n,"signature",e)}if(null==e)return new pr(fr,sr,sr,27);if("string"===typeof e){const n=R(e,"signature");if(64===n.length){const e=D(n.slice(0,32)),t=n.slice(32,64),r=128&t[0]?28:27;return t[0]&=127,new pr(fr,e,D(t),r)}if(65===n.length){const e=D(n.slice(0,32)),t=D(n.slice(32,64)),r=pr.getNormalizedV(n[64]);return new pr(fr,e,t,r)}t(!1,"invalid raw signature length")}if(e instanceof pr)return e.clone();const n=e.r;t(null!=n,"missing r");const r=dr(n),i=function(e,n){if(null!=e)return dr(e);if(null!=n){t(B(n,32),"invalid yParityAndS");const e=R(n);return e[0]&=127,D(e)}t(!1,"missing s")}(e.s,e.yParityAndS),{networkV:s,v:o}=function(e,n,r){if(null!=e){const t=W(e);return{networkV:t>=hr?t:void 0,v:pr.getNormalizedV(t)}}if(null!=n)return t(B(n,32),"invalid yParityAndS"),{v:128&R(n)[0]?28:27};if(null!=r){switch(X(r,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),a=new pr(fr,r,i,o);return s&&(a.#A=s),t(null==e.yParity||X(e.yParity,"sig.yParity")===a.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===a.yParityAndS,"yParityAndS mismatch"),a}}function gr(e){return{address:ft(e.address),nonce:W(null!=e.nonce?e.nonce:0),chainId:W(null!=e.chainId?e.chainId:0),signature:pr.from(e.signature)}}function yr(e){return async function(t,n){k(null==n||!n.cancelled,"request cancelled before sending","CANCELLED");const r=t.url.split(":")[0].toLowerCase();k("http"===r||"https"===r,`unsupported protocol ${r}`,"UNSUPPORTED_OPERATION",{info:{protocol:r},operation:"request"}),k("https"===r||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const s=new AbortController,o=setTimeout(()=>{i=I("request timeout","TIMEOUT"),s.abort()},t.timeout);n&&n.addListener(()=>{i=I("request cancelled","CANCELLED"),s.abort()});const a=Object.assign({},e,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:s.signal});let l;try{l=await fetch(t.url,a)}catch(f){if(clearTimeout(o),i)throw i;throw f}clearTimeout(o);const c={};l.headers.forEach((e,t)=>{c[t.toLowerCase()]=e});const u=await l.arrayBuffer(),h=null==u?null:new Uint8Array(u);return{statusCode:l.status,statusMessage:l.statusText,headers:c,body:h}}}yr({});let mr=yr();const wr=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),br=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let vr=!1;async function Er(e,t){try{const t=e.match(wr);if(!t)throw new Error("invalid data");return new Or(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?function(e){e=atob(e);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return R(t)}(t[3]):Lt(t[3].replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16)))))}catch(n){return new Or(599,"BAD REQUEST (invalid data: URI)",{},null,new Pr(e))}}function Ar(e){return async function(t,n){try{const n=t.match(br);if(!n)throw new Error("invalid link");return new Pr(`${e}${n[2]}`)}catch(r){return new Or(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Pr(t))}}}const xr={data:Er,ipfs:Ar("https://gateway.ipfs.io/ipfs/")},Sr=new WeakMap;class Ir{#x;#S;constructor(e){this.#x=[],this.#S=!1,Sr.set(e,()=>{if(!this.#S){this.#S=!0;for(const e of this.#x)setTimeout(()=>{e()},0);this.#x=[]}})}addListener(e){k(!this.#S,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#x.push(e)}get cancelled(){return this.#S}checkSignal(){k(!this.cancelled,"cancelled","CANCELLED",{})}}function kr(e){if(null==e)throw new Error("missing signal; should not happen");return e.checkSignal(),e}class Pr{#I;#k;#P;#O;#N;#C;#T;#R;#_;#B;#U;#L;#D;#M;#F;get url(){return this.#C}set url(e){this.#C=String(e)}get body(){return null==this.#T?null:new Uint8Array(this.#T)}set body(e){if(null==e)this.#T=void 0,this.#R=void 0;else if("string"===typeof e)this.#T=Lt(e),this.#R="text/plain";else if(e instanceof Uint8Array)this.#T=e,this.#R="application/octet-stream";else{if("object"!==typeof e)throw new Error("invalid body");this.#T=Lt(JSON.stringify(e)),this.#R="application/json"}}hasBody(){return null!=this.#T}get method(){return this.#O?this.#O:this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),this.#O=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#P);return this.#_&&(e.authorization=`Basic ${function(e){const t=R(e);let n="";for(let r=0;r<t.length;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(Lt(this.#_))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&this.#R&&(e["content-type"]=this.#R),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#P[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#P={}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#_||null}setCredentials(e,t){P(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#_=`${e}:${t}`}get allowGzip(){return this.#k}set allowGzip(e){this.#k=!!e}get allowInsecureAuthentication(){return!!this.#I}set allowInsecureAuthentication(e){this.#I=!!e}get timeout(){return this.#N}set timeout(e){P(e>=0,"timeout must be non-zero","timeout",e),this.#N=e}get preflightFunc(){return this.#B||null}set preflightFunc(e){this.#B=e}get processFunc(){return this.#U||null}set processFunc(e){this.#U=e}get retryFunc(){return this.#L||null}set retryFunc(e){this.#L=e}get getUrlFunc(){return this.#F||mr}set getUrlFunc(e){this.#F=e}constructor(e){this.#C=String(e),this.#I=!1,this.#k=!0,this.#P={},this.#O="",this.#N=3e5,this.#M={slotInterval:250,maxAttempts:12},this.#F=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#T?D(this.#T):"null"}>`}setThrottleParams(e){null!=e.slotInterval&&(this.#M.slotInterval=e.slotInterval),null!=e.maxAttempts&&(this.#M.maxAttempts=e.maxAttempts)}async#z(e,t,n,r,i){if(e>=this.#M.maxAttempts)return i.makeServerError("exceeded maximum retry limit");k(Nr()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:r}),n>0&&await function(e){return new Promise(t=>setTimeout(t,e))}(n);let s=this.clone();const o=(s.url.split(":")[0]||"").toLowerCase();if(o in xr){const e=await xr[o](s.url,kr(r.#D));if(e instanceof Or){let t=e;if(this.processFunc){kr(r.#D);try{t=await this.processFunc(s,t)}catch(c){null!=c.throttle&&"number"===typeof c.stall||t.makeServerError("error in post-processing function",c).assertOk()}}return t}s=e}this.preflightFunc&&(s=await this.preflightFunc(s));const a=await this.getUrlFunc(s,kr(r.#D));let l=new Or(a.statusCode,a.statusMessage,a.headers,a.body,r);if(301===l.statusCode||302===l.statusCode){try{const n=l.headers.location||"";return s.redirect(n).#z(e+1,t,0,r,l)}catch(c){}return l}if(429===l.statusCode&&(null==this.retryFunc||await this.retryFunc(s,l,e))){const n=l.headers["retry-after"];let i=this.#M.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"===typeof n&&n.match(/^[1-9][0-9]*$/)&&(i=parseInt(n)),s.clone().#z(e+1,t,i,r,l)}if(this.processFunc){kr(r.#D);try{l=await this.processFunc(s,l)}catch(c){null!=c.throttle&&"number"===typeof c.stall||l.makeServerError("error in post-processing function",c).assertOk();let n=this.#M.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return c.stall>=0&&(n=c.stall),s.clone().#z(e+1,t,n,r,l)}}return l}send(){return k(null==this.#D,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#D=new Ir(this),this.#z(0,Nr()+this.timeout,0,this,new Or(0,"",{},null,this))}cancel(){k(null!=this.#D,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=Sr.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();k("GET"===this.method&&("https"!==t||"http"!==n)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const r=new Pr(e);return r.method="GET",r.allowGzip=this.allowGzip,r.timeout=this.timeout,r.#P=Object.assign({},this.#P),this.#T&&(r.#T=new Uint8Array(this.#T)),r.#R=this.#R,r}clone(){const e=new Pr(this.url);return e.#O=this.#O,this.#T&&(e.#T=this.#T),e.#R=this.#R,e.#P=Object.assign({},this.#P),e.#_=this.#_,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#B=this.#B,e.#U=this.#U,e.#L=this.#L,e.#M=Object.assign({},this.#M),e.#F=this.#F,e}static lockConfig(){vr=!0}static getGateway(e){return xr[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(vr)throw new Error("gateways locked");xr[e]=t}static registerGetUrl(e){if(vr)throw new Error("gateways locked");mr=e}static createGetUrlFunc(e){return yr(e)}static createDataGateway(){return Er}static createIpfsGatewayFunc(e){return Ar(e)}}class Or{#j;#V;#P;#T;#H;#q;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#T?D(this.#T):"null"}>`}get statusCode(){return this.#j}get statusMessage(){return this.#V}get headers(){return Object.assign({},this.#P)}get body(){return null==this.#T?null:new Uint8Array(this.#T)}get bodyText(){try{return null==this.#T?"":Dt(this.#T)}catch(e){k(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){k(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const r=t[n++];return{value:[r,e[r]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,n,r,i){this.#j=e,this.#V=t,this.#P=Object.keys(n).reduce((e,t)=>(e[t.toLowerCase()]=String(n[t]),e),{}),this.#T=null==r?null:new Uint8Array(r),this.#H=i||null,this.#q={message:""}}makeServerError(e,t){let n;n=e?`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:`CLIENT ESCALATED SERVER ERROR (${e=`${this.statusCode} ${this.statusMessage}`})`;const r=new Or(599,n,this.headers,this.body,this.#H||void 0);return r.#q={message:e,error:t},r}throwThrottleError(e,t){null==t?t=-1:P(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const n=new Error(e||"throttling requests");throw E(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=this.#T}get request(){return this.#H}ok(){return""===this.#q.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#q;""===e&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let r=null;try{this.#T&&(r=Dt(this.#T))}catch(ec){}k(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:n,responseBody:r,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function Nr(){return(new Date).getTime()}const Cr="0x0000000000000000000000000000000000000000";class Tr{fragment;name;signature;topic;args;constructor(e,t,n){const r=e.name,i=e.format();E(this,{fragment:e,name:r,signature:i,topic:t,args:n})}}class Rr{fragment;name;args;signature;selector;value;constructor(e,t,n,r){const i=e.name,s=e.format();E(this,{fragment:e,name:i,args:n,signature:s,selector:t,value:r})}}class _r{fragment;name;args;signature;selector;constructor(e,t,n){const r=e.name,i=e.format();E(this,{fragment:e,name:r,args:n,signature:i,selector:t})}}class Br{hash;_isIndexed;static isIndexed(e){return!(!e||!e._isIndexed)}constructor(e){E(this,{hash:e,_isIndexed:!0})}}const Ur={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Lr={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&Ur[e.toString()]&&(t=Ur[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class Dr{fragments;deploy;fallback;receive;#$;#G;#K;#Q;constructor(e){let t=[];t="string"===typeof e?JSON.parse(e):e,this.#K=new Map,this.#$=new Map,this.#G=new Map;const n=[];for(const o of t)try{n.push(Sn.from(o))}catch(s){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,s.message)}E(this,{fragments:Object.freeze(n)});let r=null,i=!1;this.#Q=this.getAbiCoder(),this.fragments.forEach((e,t)=>{let n;switch(e.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void E(this,{deploy:e});case"fallback":return void(0===e.inputs.length?i=!0:(P(!r||e.payable!==r.payable,"conflicting fallback fragments",`fragments[${t}]`,e),r=e,i=r.payable));case"function":n=this.#K;break;case"event":n=this.#G;break;case"error":n=this.#$;break;default:return}const s=e.format();n.has(s)||n.set(s,e)}),this.deploy||E(this,{deploy:Nn.from("constructor()")}),E(this,{fallback:r,receive:i})}format(e){const t=e?"minimal":"full",n=this.fragments.map(e=>e.format(t));return n}formatJson(){const e=this.fragments.map(e=>e.format("json"));return JSON.stringify(e.map(e=>JSON.parse(e)))}getAbiCoder(){return Mn.defaultAbiCoder()}#W(e,t,n){if(B(e)){const t=e.toLowerCase();for(const e of this.#K.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of this.#K)t.split("(")[0]===e&&r.push(n);if(t){const e=t.length>0?t[t.length-1]:null;let n=t.length,i=!0;mt.isTyped(e)&&"overrides"===e.type&&(i=!1,n--);for(let t=r.length-1;t>=0;t--){const e=r[t].inputs.length;e===n||i&&e===n-1||r.splice(t,1)}for(let s=r.length-1;s>=0;s--){const e=r[s].inputs;for(let n=0;n<t.length;n++)if(mt.isTyped(t[n])){if(n>=e.length){if("overrides"===t[n].type)continue;r.splice(s,1);break}if(t[n].type!==e[n].baseType){r.splice(s,1);break}}}}if(1===r.length&&t&&t.length!==r[0].inputs.length){const e=t[t.length-1];(null==e||Array.isArray(e)||"object"!==typeof e)&&r.splice(0,1)}if(0===r.length)return null;if(r.length>1&&n){const t=r.map(e=>JSON.stringify(e.format())).join(", ");P(!1,`ambiguous function description (i.e. matches ${t})`,"key",e)}return r[0]}const r=this.#K.get(Tn.from(e).format());return r||null}getFunctionName(e){const t=this.#W(e,null,!1);return P(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#W(e,null,!1)}getFunction(e,t){return this.#W(e,t||null,!0)}forEachFunction(e){const t=Array.from(this.#K.keys());t.sort((e,t)=>e.localeCompare(t));for(let n=0;n<t.length;n++){const r=t[n];e(this.#K.get(r),n)}}#J(e,t,n){if(B(e)){const t=e.toLowerCase();for(const e of this.#G.values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){const r=[];for(const[t,n]of this.#G)t.split("(")[0]===e&&r.push(n);if(t){for(let e=r.length-1;e>=0;e--)r[e].inputs.length<t.length&&r.splice(e,1);for(let e=r.length-1;e>=0;e--){const n=r[e].inputs;for(let i=0;i<t.length;i++)if(mt.isTyped(t[i])&&t[i].type!==n[i].baseType){r.splice(e,1);break}}}if(0===r.length)return null;if(r.length>1&&n){const t=r.map(e=>JSON.stringify(e.format())).join(", ");P(!1,`ambiguous event description (i.e. matches ${t})`,"key",e)}return r[0]}const r=this.#G.get(On.from(e).format());return r||null}getEventName(e){const t=this.#J(e,null,!1);return P(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#J(e,null,!1)}getEvent(e,t){return this.#J(e,t||null,!0)}forEachEvent(e){const t=Array.from(this.#G.keys());t.sort((e,t)=>e.localeCompare(t));for(let n=0;n<t.length;n++){const r=t[n];e(this.#G.get(r),n)}}getError(e,t){if(B(e)){const t=e.toLowerCase();if(Lr[t])return Pn.from(Lr[t].signature);for(const e of this.#$.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const t=[];for(const[n,r]of this.#$)n.split("(")[0]===e&&t.push(r);if(0===t.length)return"Error"===e?Pn.from("error Error(string)"):"Panic"===e?Pn.from("error Panic(uint256)"):null;if(t.length>1){const n=t.map(e=>JSON.stringify(e.format())).join(", ");P(!1,`ambiguous error description (i.e. ${n})`,"name",e)}return t[0]}if("Error(string)"===(e=Pn.from(e).format()))return Pn.from("error Error(string)");if("Panic(uint256)"===e)return Pn.from("error Panic(uint256)");const n=this.#$.get(e);return n||null}forEachError(e){const t=Array.from(this.#$.keys());t.sort((e,t)=>e.localeCompare(t));for(let n=0;n<t.length;n++){const r=t[n];e(this.#$.get(r),n)}}_decodeParams(e,t){return this.#Q.decode(e,t)}_encodeParams(e,t){return this.#Q.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"===typeof e){const t=this.getError(e);P(t,"unknown error","fragment",e),e=t}return P(z(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,z(t,4))}encodeErrorResult(e,t){if("string"===typeof e){const t=this.getError(e);P(t,"unknown error","fragment",e),e=t}return M([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"===typeof e){const t=this.getFunction(e);P(t,"unknown function","fragment",e),e=t}return P(z(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,z(t,4))}encodeFunctionData(e,t){if("string"===typeof e){const t=this.getFunction(e);P(t,"unknown function","fragment",e),e=t}return M([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"===typeof e){const t=this.getFunction(e);P(t,"unknown function","fragment",e),e=t}let n="invalid length for result data";const r=_(t);if(r.length%32===0)try{return this.#Q.decode(e.outputs,r)}catch(i){n="could not decode result data"}k(!1,n,"BAD_DATA",{value:D(r),info:{method:e.name,signature:e.format()}})}makeError(e,t){const n=R(e,"data"),r=Mn.getBuiltinCallException("call",t,n);if(r.message.startsWith("execution reverted (unknown custom error)")){const e=D(n.slice(0,4)),t=this.getError(e);if(t)try{const e=this.#Q.decode(t.inputs,n.slice(4));r.revert={name:t.name,signature:t.format(),args:e},r.reason=r.revert.signature,r.message=`execution reverted: ${r.reason}`}catch(ec){r.message="execution reverted (coult not decode custom error)"}}const i=this.parseTransaction(t);return i&&(r.invocation={method:i.name,signature:i.signature,args:i.args}),r}encodeFunctionResult(e,t){if("string"===typeof e){const t=this.getFunction(e);P(t,"unknown function","fragment",e),e=t}return D(this.#Q.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"===typeof e){const t=this.getEvent(e);P(t,"unknown event","eventFragment",e),e=t}k(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const r=(e,t)=>"string"===e.type?zt(t):"bytes"===e.type?st(D(t)):("bool"===e.type&&"boolean"===typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=ee(t):e.type.match(/^bytes/)?t=function(e,t){return j(e,t,!1)}(t,32):"address"===e.type&&this.#Q.encode(["address"],[t]),V(D(t),32));for(t.forEach((t,i)=>{const s=e.inputs[i];s.indexed?null==t?n.push(null):"array"===s.baseType||"tuple"===s.baseType?P(!1,"filtering with tuples or arrays not supported","contract."+s.name,t):Array.isArray(t)?n.push(t.map(e=>r(s,e))):n.push(r(s,t)):P(null==t,"cannot filter non-indexed parameters; must be null","contract."+s.name,t)});n.length&&null===n[n.length-1];)n.pop();return n}encodeEventLog(e,t){if("string"===typeof e){const t=this.getEvent(e);P(t,"unknown event","eventFragment",e),e=t}const n=[],r=[],i=[];return e.anonymous||n.push(e.topicHash),P(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((e,s)=>{const o=t[s];if(e.indexed)if("string"===e.type)n.push(zt(o));else if("bytes"===e.type)n.push(st(o));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");n.push(this.#Q.encode([e.type],[o]))}else r.push(e),i.push(o)}),{data:this.#Q.encode(r,i),topics:n}}decodeEventLog(e,t,n){if("string"===typeof e){const t=this.getEvent(e);P(t,"unknown event","eventFragment",e),e=t}if(null!=n&&!e.anonymous){const t=e.topicHash;P(B(n[0],32)&&n[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const r=[],i=[],s=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(r.push(xn.from({type:"bytes32",name:e.name})),s.push(!0)):(r.push(e),s.push(!1)):(i.push(e),s.push(!1))});const o=null!=n?this.#Q.decode(r,M(n)):null,a=this.#Q.decode(i,t,!0),l=[],c=[];let u=0,h=0;return e.inputs.forEach((e,t)=>{let n=null;if(e.indexed)if(null==o)n=new Br(null);else if(s[t])n=new Br(o[h++]);else try{n=o[h++]}catch(r){n=r}else try{n=a[u++]}catch(r){n=r}l.push(n),c.push(e.name||null)}),fe.fromItems(l,c)}parseTransaction(e){const t=R(e.data,"tx.data"),n=W(null!=e.value?e.value:0,"tx.value"),r=this.getFunction(D(t.slice(0,4)));if(!r)return null;const i=this.#Q.decode(r.inputs,t.slice(4));return new Rr(r,r.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Tr(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=D(e),n=this.getError(z(t,0,4));if(!n)return null;const r=this.#Q.decode(n.inputs,z(t,4));return new _r(n,n.selector,r)}static from(e){return e instanceof Dr?e:"string"===typeof e?new Dr(JSON.parse(e)):"function"===typeof e.formatJson?new Dr(e.formatJson()):"function"===typeof e.format?new Dr(e.format("json")):new Dr(e)}}const Mr=BigInt(0);function Fr(e){return null==e?null:e}function zr(e){return null==e?null:e.toString()}class jr{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,n){E(this,{gasPrice:Fr(e),maxFeePerGas:Fr(t),maxPriorityFeePerGas:Fr(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:zr(e),maxFeePerGas:zr(t),maxPriorityFeePerGas:zr(n)}}}function Vr(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=D(e.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)i in e&&null!=e[i]&&(t[i]=W(e[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)i in e&&null!=e[i]&&(t[i]=X(e[i],`request.${i}`));return e.accessList&&(t.accessList=ir(e.accessList)),e.authorizationList&&(t.authorizationList=e.authorizationList.slice()),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map(e=>U(e)?D(e):Object.assign({},e))),t}class Hr{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#Y;constructor(e,t){this.#Y=e.transactions.map(e=>"string"!==typeof e?new Gr(e,t):e),E(this,{provider:t,hash:Fr(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Fr(e.prevRandao),extraData:e.extraData,baseFeePerGas:Fr(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#Y.map(e=>"string"===typeof e?e:e.hash)}get prefetchedTransactions(){const e=this.#Y.slice();return 0===e.length?[]:(k("object"===typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:r,gasUsed:i,hash:s,miner:o,prevRandao:a,nonce:l,number:c,parentHash:u,parentBeaconBlockRoot:h,stateRoot:f,receiptsRoot:d,timestamp:p,transactions:g}=this;return{_type:"Block",baseFeePerGas:zr(e),difficulty:zr(t),extraData:n,gasLimit:zr(r),gasUsed:zr(i),blobGasUsed:zr(this.blobGasUsed),excessBlobGas:zr(this.excessBlobGas),hash:s,miner:o,prevRandao:a,nonce:l,number:c,parentHash:u,timestamp:p,parentBeaconBlockRoot:h,stateRoot:f,receiptsRoot:d,transactions:g}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#Y.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"===typeof e)t=this.#Y[e];else{const n=e.toLowerCase();for(const e of this.#Y){if("string"===typeof e){if(e!==n)continue;t=e;break}if(e.hash===n){t=e;break}}}if(null==t)throw new Error("no such tx");return"string"===typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if("number"===typeof e)return t[e];e=e.toLowerCase();for(const n of t)if(n.hash===e)return n;P(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:(e=this).hash,number:e.number};var e}}class qr{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const n=Object.freeze(e.topics.slice());E(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:n,data:r,index:i,removed:s,topics:o,transactionHash:a,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:r,index:i,removed:s,topics:o,transactionHash:a,transactionIndex:l}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return k(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return k(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return k(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(e=this).transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}};var e}}class $r{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#Z;constructor(e,t){this.#Z=Object.freeze(e.logs.map(e=>new qr(e,t)));let n=Mr;null!=e.effectiveGasPrice?n=e.effectiveGasPrice:null!=e.gasPrice&&(n=e.gasPrice),E(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#Z}toJSON(){const{to:e,from:t,contractAddress:n,hash:r,index:i,blockHash:s,blockNumber:o,logsBloom:a,logs:l,status:c,root:u}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:o,contractAddress:n,cumulativeGasUsed:zr(this.cumulativeGasUsed),from:t,gasPrice:zr(this.gasPrice),blobGasUsed:zr(this.blobGasUsed),blobGasPrice:zr(this.blobGasPrice),gasUsed:zr(this.gasUsed),hash:r,index:i,logs:l,logsBloom:a,root:u,status:c,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(null==e)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(null==e)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Qr(this)}reorderedEvent(e){return k(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Kr(this,e)}}class Gr{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#X;constructor(e,t){this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.authorizationList=null!=e.authorizationList?e.authorizationList:null,this.#X=-1}toJSON(){const{blockNumber:e,blockHash:t,index:n,hash:r,type:i,to:s,from:o,nonce:a,data:l,signature:c,accessList:u,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:u,blockNumber:e,blockHash:t,blobVersionedHashes:h,chainId:zr(this.chainId),data:l,from:o,gasLimit:zr(this.gasLimit),gasPrice:zr(this.gasPrice),hash:r,maxFeePerGas:zr(this.maxFeePerGas),maxPriorityFeePerGas:zr(this.maxPriorityFeePerGas),maxFeePerBlobGas:zr(this.maxFeePerBlobGas),nonce:a,signature:c,to:s,index:n,type:i,value:zr(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const t=this.provider.getBlock(e);if(null==t)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:e,blockNumber:t}=await v({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const n=null==e?1:e,r=null==t?0:t;let i=this.#X,s=-1,o=-1===i;const a=async()=>{if(o)return null;const{blockNumber:e,nonce:t}=await v({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce)return void(i=e);if(o)return null;const r=await this.getTransaction();if(!r||null==r.blockNumber)for(-1===s&&(s=i-3,s<this.#X&&(s=this.#X));s<=e;){if(o)return null;const t=await this.provider.getBlock(s,!0);if(null==t)return;for(const e of t)if(e===this.hash)return;for(let r=0;r<t.length;r++){const s=await t.getTransaction(r);if(s.from===this.from&&s.nonce===this.nonce){if(o)return null;const t=await this.provider.getTransactionReceipt(s.hash);if(null==t)return;if(e-t.blockNumber+1<n)return;let r="replaced";s.data===this.data&&s.to===this.to&&s.value===this.value?r="repriced":"0x"===s.data&&s.from===s.to&&s.value===Mr&&(r="cancelled"),k(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===r||"cancelled"===r,reason:r,replacement:s.replaceableTransaction(i),hash:s.hash,receipt:t})}}s++}},l=e=>{if(null==e||0!==e.status)return e;k(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},c=await this.provider.getTransactionReceipt(this.hash);if(0===n)return l(c);if(c){if(1===n||await c.confirmations()>=n)return l(c)}else if(await a(),0===n)return null;const u=new Promise((e,t)=>{const s=[],c=()=>{s.forEach(e=>e())};if(s.push(()=>{o=!0}),r>0){const e=setTimeout(()=>{c(),t(I("wait for transaction timeout","TIMEOUT"))},r);s.push(()=>{clearTimeout(e)})}const u=async r=>{if(await r.confirmations()>=n){c();try{e(l(r))}catch(i){t(i)}}};if(s.push(()=>{this.provider.off(this.hash,u)}),this.provider.on(this.hash,u),i>=0){const e=async()=>{try{await a()}catch(n){if(x(n,"TRANSACTION_REPLACED"))return c(),void t(n)}o||this.provider.once("block",e)};s.push(()=>{this.provider.off("block",e)}),this.provider.once("block",e)}});return await u}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return k(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Qr(this)}reorderedEvent(e){return k(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),k(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Kr(this,e)}replaceableTransaction(e){P(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new Gr(this,this.provider);return t.#X=e,t}}function Kr(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function Qr(e){return{orphan:"drop-transaction",tx:e}}class Wr{filter;emitter;#ee;constructor(e,t,n){this.#ee=t,E(this,{emitter:e,filter:n})}async removeListener(){null!=this.#ee&&await this.emitter.off(this.filter,this.#ee)}}class Jr extends qr{interface;fragment;args;constructor(e,t,n){super(e,e.provider);E(this,{args:t.decodeEventLog(n,e.data,e.topics),fragment:n,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Yr extends qr{error;constructor(e,t){super(e,e.provider),E(this,{error:t})}}class Zr extends $r{#te;constructor(e,t,n){super(n,t),this.#te=e}get logs(){return super.logs.map(e=>{const t=e.topics.length?this.#te.getEvent(e.topics[0]):null;if(t)try{return new Jr(e,this.#te,t)}catch(n){return new Yr(e,n)}return e})}}class Xr extends Gr{#te;constructor(e,t,n){super(n,t),this.#te=e}async wait(e,t){const n=await super.wait(e,t);return null==n?null:new Zr(this.#te,this.provider,n)}}class ei extends Wr{log;constructor(e,t,n,r){super(e,t,n),E(this,{log:r})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class ti extends ei{constructor(e,t,n,r,i){super(e,t,n,new Jr(i,e.interface,r));E(this,{args:e.interface.decodeEventLog(r,this.log.data,this.log.topics),fragment:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const ni=BigInt(0);function ri(e){return e&&"function"===typeof e.call}function ii(e){return e&&"function"===typeof e.estimateGas}function si(e){return e&&"function"===typeof e.resolveName}function oi(e){return e&&"function"===typeof e.sendTransaction}function ai(e){if(null!=e){if(si(e))return e;if(e.provider)return e.provider}}class li{#ne;fragment;constructor(e,t,n){if(E(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");const r=ci(e.runner,"resolveName"),i=si(r)?r:null;this.#ne=async function(){const r=await Promise.all(t.inputs.map((e,t)=>null==n[t]?null:e.walkAsync(n[t],(e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map(e=>jn(e,i))):jn(t,i):t)));return e.interface.encodeFilterTopics(t,r)}()}getTopicFilter(){return this.#ne}}function ci(e,t){return null==e?null:"function"===typeof e[t]?e:e.provider&&"function"===typeof e.provider[t]?e.provider:null}function ui(e){return null==e?null:e.provider||null}async function hi(e,t){const n=mt.dereference(e,"overrides");P("object"===typeof n,"invalid overrides parameter","overrides",e);const r=Vr(n);return P(null==r.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),P(null==r.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}function fi(e){const t=async function(t){const n=await hi(t,["data"]);n.to=await e.getAddress(),n.from&&(n.from=await jn(n.from,ai(e.runner)));const r=e.interface,i=W(n.value||ni,"overrides.value")===ni,s="0x"===(n.data||"0x");!r.fallback||r.fallback.payable||!r.receive||s||i||P(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),P(r.fallback||s,"cannot send data to receive-only contract","overrides.data",n.data);return P(r.receive||r.fallback&&r.fallback.payable||i,"cannot send value to non-payable fallback","overrides.value",n.value),P(r.fallback||s,"cannot send data to receive-only contract","overrides.data",n.data),n},n=async function(n){const r=e.runner;k(oi(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const i=await r.sendTransaction(await t(n)),s=ui(e.runner);return new Xr(e.interface,s,i)},r=async e=>await n(e);return E(r,{_contract:e,estimateGas:async function(n){const r=ci(e.runner,"estimateGas");return k(ii(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await t(n))},populateTransaction:t,send:n,staticCall:async function(n){const r=ci(e.runner,"call");k(ri(r),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await t(n);try{return await r.call(i)}catch(s){if(S(s)&&s.data)throw e.interface.makeError(s.data,i);throw s}}}),r}function di(e,t){const n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const s=e.interface.getFunction(t,r);return k(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),s},r=async function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];const s=n(...r);let o={};if(s.inputs.length+1===r.length&&(o=await hi(r.pop()),o.from&&(o.from=await jn(o.from,ai(e.runner)))),s.inputs.length!==r.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const a=await async function(e,t,n){const r=ci(e,"resolveName"),i=si(r)?r:null;return await Promise.all(t.map((e,t)=>e.walkAsync(n[t],(e,t)=>(t=mt.dereference(t,e),"address"===e?jn(t,i):t))))}(e.runner,s.inputs,r);return Object.assign({},o,await v({to:e.getAddress(),data:e.interface.encodeFunctionData(s,a)}))},i=async function(){const e=await o(...arguments);return 1===e.length?e[0]:e},s=async function(){const t=e.runner;k(oi(t),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const n=await t.sendTransaction(await r(...arguments)),i=ui(e.runner);return new Xr(e.interface,i,n)},o=async function(){const t=ci(e.runner,"call");k(ri(t),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await r(...arguments);let s="0x";try{s=await t.call(i)}catch(a){if(S(a)&&a.data)throw e.interface.makeError(a.data,i);throw a}const o=n(...arguments);return e.interface.decodeFunctionResult(o,s)},a=async function(){return n(...arguments).constant?await i(...arguments):await s(...arguments)};return E(a,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:n,estimateGas:async function(){const t=ci(e.runner,"estimateGas");return k(ii(t),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await t.estimateGas(await r(...arguments))},populateTransaction:r,send:s,staticCall:i,staticCallResult:o}),Object.defineProperty(a,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getFunction(t);return k(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),a}const pi=Symbol.for("_ethersInternal_contract"),gi=new WeakMap;function yi(e){return gi.get(e[pi])}async function mi(e,t){let n,r=null;if(Array.isArray(t)){const r=function(t){if(B(t,32))return t;const n=e.interface.getEvent(t);return P(n,"unknown fragment","name",t),n.topicHash};n=t.map(e=>null==e?null:Array.isArray(e)?e.map(r):r(e))}else"*"===t?n=[null]:"string"===typeof t?B(t,32)?n=[t]:(r=e.interface.getEvent(t),P(r,"unknown fragment","event",t),n=[r.topicHash]):(i=t)&&"object"===typeof i&&"getTopicFilter"in i&&"function"===typeof i.getTopicFilter&&i.fragment?n=await t.getTopicFilter():"fragment"in t?(r=t.fragment,n=[r.topicHash]):P(!1,"unknown event name","event",t);var i;n=n.map(e=>{if(null==e)return null;if(Array.isArray(e)){const t=Array.from(new Set(e.map(e=>e.toLowerCase())).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()});const s=n.map(e=>null==e?"null":Array.isArray(e)?e.join("|"):e).join("&");return{fragment:r,tag:s,topics:n}}async function wi(e,t){const{subs:n}=yi(e);return n.get((await mi(e,t)).tag)||null}async function bi(e,t,n){const r=ui(e.runner);k(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:i,tag:s,topics:o}=await mi(e,n),{addr:a,subs:l}=yi(e);let c=l.get(s);if(!c){const t={address:a||e,topics:o},u=t=>{let r=i;if(null==r)try{r=e.interface.getEvent(t.topics[0])}catch(s){}if(r){const s=r,o=i?e.interface.decodeEventLog(i,t.data,t.topics):[];Ei(e,n,o,r=>new ti(e,r,n,s,t))}else Ei(e,n,[],r=>new ei(e,r,n,t))};let h=[];c={tag:s,listeners:[],start:()=>{h.length||h.push(r.on(t,u))},stop:async()=>{if(0==h.length)return;let e=h;h=[],await Promise.all(e),r.off(t,u)}},l.set(s,c)}return c}let vi=Promise.resolve();async function Ei(e,t,n,r){try{await vi}catch(s){}const i=async function(e,t,n,r){await vi;const i=await wi(e,t);if(!i)return!1;const o=i.listeners.length;return i.listeners=i.listeners.filter(t=>{let{listener:i,once:o}=t;const a=Array.from(n);r&&a.push(r(o?null:i));try{i.call(e,...a)}catch(s){}return!o}),0===i.listeners.length&&(i.stop(),yi(e).subs.delete(i.tag)),o>0}(e,t,n,r);return vi=i,await i}const Ai=["then"];class xi{target;interface;runner;filters;[pi];fallback;constructor(e,t,n,r){P("string"===typeof e||Fn(e),"invalid value for Contract target","target",e),null==n&&(n=null);const i=Dr.from(t);let s;E(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,pi,{value:{}});let o=null,a=null;if(r){const e=ui(n);a=new Xr(this.interface,e,r)}let l=new Map;if("string"===typeof e)if(B(e))o=e,s=Promise.resolve(e);else{const t=ci(n,"resolveName");if(!si(t))throw I("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=t.resolveName(e).then(t=>{if(null==t)throw I("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return yi(this).addr=t,t})}else s=e.getAddress().then(e=>{if(null==e)throw new Error("TODO");return yi(this).addr=e,e});!function(e,t){gi.set(e[pi],t)}(this,{addrPromise:s,addr:o,deployTx:a,subs:l});const c=new Proxy({},{get:(e,t,n)=>{if("symbol"===typeof t||Ai.indexOf(t)>=0)return Reflect.get(e,t,n);try{return this.getEvent(t)}catch(r){if(!x(r,"INVALID_ARGUMENT")||"key"!==r.argument)throw r}},has:(e,t)=>Ai.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))});return E(this,{filters:c}),E(this,{fallback:i.receive||i.fallback?fi(this):null}),new Proxy(this,{get:(e,t,n)=>{if("symbol"===typeof t||t in e||Ai.indexOf(t)>=0)return Reflect.get(e,t,n);try{return e.getFunction(t)}catch(r){if(!x(r,"INVALID_ARGUMENT")||"key"!==r.argument)throw r}},has:(e,t)=>"symbol"===typeof t||t in e||Ai.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new xi(this.target,this.interface,e)}attach(e){return new xi(e,this.interface,this.runner)}async getAddress(){return await yi(this).addrPromise}async getDeployedCode(){const e=ui(this.runner);k(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;const t=ui(this.runner);return k(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((e,n)=>{const r=async()=>{try{if(null!=await this.getDeployedCode())return e(this);t.once("block",r)}catch(i){n(i)}};r()})}deploymentTransaction(){return yi(this).deployTx}getFunction(e){"string"!==typeof e&&(e=e.format());return di(this,e)}getEvent(e){return"string"!==typeof e&&(e=e.format()),function(e,t){const n=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const s=e.interface.getEvent(t,r);return k(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),s},r=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return new li(e,n(...r),r)};return E(r,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const n=e.interface.getEvent(t);return k(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),n}}),r}(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){null==t&&(t=0),null==n&&(n="latest");const{addr:r,addrPromise:i}=yi(this),s=r||await i,{fragment:o,topics:a}=await mi(this,e),l={address:s,topics:a,fromBlock:t,toBlock:n},c=ui(this.runner);return k(c,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await c.getLogs(l)).map(e=>{let t=o;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(n){}if(t)try{return new Jr(e,this.interface,t)}catch(n){return new Yr(e,n)}return new qr(e,c)})}async on(e,t){const n=await bi(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){const n=await bi(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return await Ei(this,e,n,null)}async listenerCount(e){if(e){const t=await wi(this,e);return t?t.listeners.length:0}const{subs:t}=yi(this);let n=0;for(const{listeners:r}of t.values())n+=r.length;return n}async listeners(e){if(e){const t=await wi(this,e);return t?t.listeners.map(e=>{let{listener:t}=e;return t}):[]}const{subs:t}=yi(this);let n=[];for(const{listeners:r}of t.values())n=n.concat(r.map(e=>{let{listener:t}=e;return t}));return n}async off(e,t){const n=await wi(this,e);if(!n)return this;if(t){const e=n.listeners.map(e=>{let{listener:t}=e;return t}).indexOf(t);e>=0&&n.listeners.splice(e,1)}return null!=t&&0!==n.listeners.length||(n.stop(),yi(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const t=await wi(this,e);if(!t)return this;t.stop(),yi(this).subs.delete(t.tag)}else{const{subs:e}=yi(this);for(const{tag:t,stop:n}of e.values())n(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends xi{constructor(t){super(t,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}}}static from(e,t,n){null==n&&(n=null);return new this(e,t,n)}}class Si extends(function(){return xi}()){}const Ii=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function ki(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function n(){return e[t++]<<8|e[t++]}let r=n(),i=1,s=[0,1];for(let v=1;v<r;v++)s.push(i+=n());let o=n(),a=t;t+=o;let l=0,c=0;function u(){return 0==l&&(c=c<<8|e[t++],l=8),c>>--l&1}const h=2**31,f=h>>>1,d=f>>1,p=h-1;let g=0;for(let v=0;v<31;v++)g=g<<1|u();let y=[],m=0,w=h;for(;;){let e=Math.floor(((g-m+1)*i-1)/w),t=0,n=r;for(;n-t>1;){let r=t+n>>>1;e<s[r]?n=r:t=r}if(0==t)break;y.push(t);let o=m+Math.floor(w*s[t]/i),a=m+Math.floor(w*s[t+1]/i)-1;for(;0==((o^a)&f);)g=g<<1&p|u(),o=o<<1&p,a=a<<1&p|1;for(;o&~a&d;)g=g&f|g<<1&p>>>1|u(),o=o<<1^f,a=(a^f)<<1|f|1;m=o,w=1+a-o}let b=r-4;return y.map(t=>{switch(t-b){case 3:return b+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return b+256+(e[a++]<<8|e[a++]);case 1:return b+e[a++];default:return t-1}})}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((e,n)=>t[e.charCodeAt(0)]=n);let n=e.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|t[e.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}(e)))}function Pi(e){return 1&e?~e>>1:e>>1}function Oi(e,t){let n=Array(e);for(let r=0,i=0;r<e;r++)n[r]=i+=Pi(t());return n}function Ni(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];for(;;){let r=e(),i=e();if(!i)break;t+=r;for(let e=0;e<i;e++)n.push(t+e);t+=i+1}return n}function Ci(e){return Ri(()=>{let t=Ni(e);if(t.length)return t})}function Ti(e){let t=[];for(;;){let n=e();if(0==n)break;t.push(Bi(n,e))}for(;;){let n=e()-1;if(n<0)break;t.push(Ui(n,e))}return t.flat()}function Ri(e){let t=[];for(;;){let n=e(t.length);if(!n)break;t.push(n)}return t}function _i(e,t,n){let r=Array(e).fill().map(()=>[]);for(let i=0;i<t;i++)Oi(e,n).forEach((e,t)=>r[t].push(e));return r}function Bi(e,t){let n=1+t(),r=t(),i=Ri(t);return _i(i.length,1+e,t).flatMap((e,t)=>{let[s,...o]=e;return Array(i[t]).fill().map((e,t)=>{let i=t*r;return[s+t*n,o.map(e=>e+i)]})})}function Ui(e,t){return _i(1+t(),1+e,t).map(e=>[e[0],e.slice(1)])}function Li(e){return`{${function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e)}}`}function Di(e){let t=[];for(let n=0,r=e.length;n<r;){let r=e.codePointAt(n);n+=r<65536?1:2,t.push(r)}return t}function Mi(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let n=[];for(let r=0;r<t;)n.push(String.fromCodePoint(...e.slice(r,r+=4096)));return n.join("")}function Fi(e,t){let n=e.length,r=n-t.length;for(let i=0;0==r&&i<n;i++)r=e[i]-t[i];return r}const zi=44032,ji=4352,Vi=4449,Hi=4519,qi=28,$i=588;function Gi(e){return e>>24&255}function Ki(e){return 16777215&e}let Qi,Wi,Ji,Yi;function Zi(e){return e>=zi&&e<55204}function Xi(e,t){if(e>=ji&&e<4371&&t>=Vi&&t<4470)return zi+(e-ji)*$i+(t-Vi)*qi;if(Zi(e)&&t>Hi&&t<4547&&(e-zi)%qi==0)return e+(t-Hi);{let n=Yi.get(e);return n&&(n=n.get(t),n)?n:-1}}function es(e){Qi||function(){let e=ki("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");Qi=new Map(Ci(e).flatMap((e,t)=>e.map(e=>[e,t+1<<24]))),Wi=new Set(Ni(e)),Ji=new Map,Yi=new Map;for(let[t,n]of Ti(e)){if(!Wi.has(t)&&2==n.length){let[e,r]=n,i=Yi.get(e);i||(i=new Map,Yi.set(e,i)),i.set(r,t)}Ji.set(t,n.reverse())}}();let t=[],n=[],r=!1;function i(e){let n=Qi.get(e);n&&(r=!0,e|=n),t.push(e)}for(let s of e)for(;;){if(s<128)t.push(s);else if(Zi(s)){let e=s-zi,t=e%$i/qi|0,n=e%qi;i(ji+(e/$i|0)),i(Vi+t),n>0&&i(Hi+n)}else{let e=Ji.get(s);e?n.push(...e):i(s)}if(!n.length)break;s=n.pop()}if(r&&t.length>1){let e=Gi(t[0]);for(let n=1;n<t.length;n++){let r=Gi(t[n]);if(0==r||e<=r){e=r;continue}let i=n-1;for(;;){let n=t[i+1];if(t[i+1]=t[i],t[i]=n,!i)break;if(e=Gi(t[--i]),e<=r)break}e=Gi(t[n])}}return t}function ts(e){return es(e).map(Ki)}function ns(e){return function(e){let t=[],n=[],r=-1,i=0;for(let s of e){let e=Gi(s),o=Ki(s);if(-1==r)0==e?r=o:t.push(o);else if(i>0&&i>=e)0==e?(t.push(r,...n),n.length=0,r=o):n.push(o),i=e;else{let s=Xi(r,o);s>=0?r=s:0==i&&0==e?(t.push(r),r=o):(n.push(o),i=e)}}return r>=0&&t.push(r,...n),t}(es(e))}const rs=".",is=e=>Array.from(e);function ss(e,t){return e.P.has(t)||e.Q.has(t)}class os extends Array{get is_emoji(){return!0}}let as,ls,cs,us,hs,fs,ds,ps,gs,ys,ms,ws;function bs(){if(as)return;let e=ki("AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI");const t=()=>Ni(e),n=()=>new Set(t()),r=(e,t)=>t.forEach(t=>e.add(t));as=new Map(Ti(e)),ls=n(),cs=t(),us=new Set(t().map(e=>cs[e])),cs=new Set(cs),hs=n(),fs=n();let i=Ci(e),s=e();const o=()=>{let e=new Set;return t().forEach(t=>r(e,i[t])),r(e,t()),e};ds=Ri(t=>{let n=Ri(e).map(e=>e+96);if(n.length){let r=t>=s;return n[0]-=32,n=Mi(n),r&&(n=`Restricted[${n}]`),{N:n,P:o(),Q:o(),M:!e(),R:r}}}),ps=n(),gs=new Map;let a=t().concat(is(ps)).sort((e,t)=>e-t);a.forEach((t,n)=>{let r=e(),i=a[n]=r?a[n-r]:{V:[],M:new Map};i.V.push(t),ps.has(t)||gs.set(t,i)});for(let{V:u,M:h}of new Set(gs.values())){let e=[];for(let n of u){let t=ds.filter(e=>ss(e,n)),i=e.find(e=>{let{G:n}=e;return t.some(e=>n.has(e))});i||(i={G:new Set,V:[]},e.push(i)),i.V.push(n),r(i.G,t)}let t=e.flatMap(e=>is(e.G));for(let{G:n,V:r}of e){let e=new Set(t.filter(e=>!n.has(e)));for(let t of r)h.set(t,e)}}ys=new Set;let l=new Set;const c=e=>ys.has(e)?l.add(e):ys.add(e);for(let u of ds){for(let e of u.P)c(e);for(let e of u.Q)c(e)}for(let u of ys)gs.has(u)||l.has(u)||gs.set(u,1);r(ys,ts(ys)),ms=function(e){let t=[],n=Ni(e);return function e(n,r,i){let{S:s,B:o}=n;if(!(4&s&&i===r[r.length-1])){2&s&&(i=r[r.length-1]),1&s&&t.push(r);for(let t of o)for(let n of t.Q)e(t,[...r,n],i)}}(function t(r){let i=e(),s=Ri(()=>{let r=Ni(e).map(e=>n[e]);if(r.length)return t(r)});return{S:i,B:s,Q:r}}([]),[]),t}(e).map(e=>os.from(e)).sort(Fi),ws=new Map;for(let u of ms){let e=[ws];for(let t of u){let n=e.map(e=>{let n=e.get(t);return n||(n=new Map,e.set(t,n)),n});65039===t?e.push(...n):e=n}for(let t of e)t.V=u}}function vs(e){return(xs(e)?"":`${Es(As([e]))} `)+Li(e)}function Es(e){return`"${e}"\u200e`}function As(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Li,r=[];var i;i=e[0],bs(),cs.has(i)&&r.push("\u25cc"),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let s=0,o=e.length;for(let a=0;a<o;a++){let t=e[a];xs(t)&&(r.push(Mi(e.slice(s,a))),r.push(n(t)),s=a+1)}return r.push(Mi(e.slice(s,o))),r.join("")}function xs(e){return bs(),hs.has(e)}function Ss(e,t,n){if(!e)return[];bs();let r=0;return e.split(rs).map(e=>{let i=Di(e),s={input:i,offset:r};r+=i.length+1;try{let e,r=s.tokens=Ns(i,t,n),o=r.length;if(!o)throw new Error("empty label");let a=s.output=r.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}(a),!(s.emoji=o>1||r[0].is_emoji)&&a.every(e=>e<128))!function(e){if(e.length>=4&&45==e[2]&&45==e[3])throw new Error(`invalid label extension: "${Mi(e.slice(0,4))}"`)}(a),e="ASCII";else{let t=r.flatMap(e=>e.is_emoji?[]:e);if(t.length){if(cs.has(a[0]))throw Os("leading combining mark");for(let e=1;e<o;e++){let t=r[e];if(!t.is_emoji&&cs.has(t[0]))throw Os(`emoji + combining mark: "${Mi(r[e-1])} + ${As([t[0]])}"`)}!function(e){let t=e[0],n=Ii.get(t);if(n)throw Os(`leading ${n}`);let r=e.length,i=-1;for(let s=1;s<r;s++){t=e[s];let r=Ii.get(t);if(r){if(i==s)throw Os(`${n} + ${r}`);i=s+1,n=r}}if(i==r)throw Os(`trailing ${n}`)}(a);let n=is(new Set(t)),[i]=function(e){let t=ds;for(let n of e){let e=t.filter(e=>ss(e,n));if(!e.length)throw ds.some(e=>ss(e,n))?Ps(t[0],n):ks(n);if(t=e,1==e.length)break}return t}(n);!function(e,t){for(let n of t)if(!ss(e,n))throw Ps(e,n);if(e.M){let e=ts(t);for(let t=1,n=e.length;t<n;t++)if(us.has(e[t])){let r=t+1;for(let i;r<n&&us.has(i=e[r]);r++)for(let n=t;n<r;n++)if(e[n]==i)throw new Error(`duplicate non-spacing marks: ${vs(i)}`);if(r-t>4)throw new Error(`excessive non-spacing marks: ${Es(As(e.slice(t-1,r)))} (${r-t}/4)`);t=r}}}(i,t),function(e,t){let n,r=[];for(let i of t){let e=gs.get(i);if(1===e)return;if(e){let t=e.M.get(i);if(n=n?n.filter(e=>t.has(e)):is(t),!n.length)return}else r.push(i)}if(n)for(let i of n)if(r.every(e=>ss(i,e)))throw new Error(`whole-script confusable: ${e.N}/${i.N}`)}(i,n),e=i.N}else e="Emoji"}s.type=e}catch(o){s.error=o}return s})}function Is(e){return e.map(t=>{let{input:n,error:r,output:i}=t;if(r){let t=r.message;throw new Error(1==e.length?t:`Invalid label ${Es(As(n,63))}: ${t}`)}return Mi(i)}).join(rs)}function ks(e){return new Error(`disallowed character: ${vs(e)}`)}function Ps(e,t){let n=vs(t),r=ds.find(e=>e.P.has(t));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${e.N} + ${n}`)}function Os(e){return new Error(`illegal placement: ${e}`)}function Ns(e,t,n){let r=[],i=[];for(e=e.slice().reverse();e.length;){let s=Ts(e);if(s)i.length&&(r.push(t(i)),i=[]),r.push(n(s));else{let t=e.pop();if(ys.has(t))i.push(t);else{let e=as.get(t);if(e)i.push(...e);else if(!ls.has(t))throw ks(t)}}}return i.length&&r.push(t(i)),r}function Cs(e){return e.filter(e=>65039!=e)}function Ts(e,t){let n,r=ws,i=e.length;for(;i&&(r=r.get(e[--i]),r);){let{V:s}=r;s&&(n=s,t&&t.push(...e.slice(i).reverse()),e.length=i)}return n}const Rs=new Uint8Array(32);function _s(e){return P(0!==e.length,"invalid ENS name; empty component","comp",e),e}function Bs(e){const t=Lt(function(e){try{if(0===e.length)throw new Error("empty label");return function(e){return Is(Ss(e,ns,Cs))}(e)}catch(t){P(!1,`invalid ENS name (${t.message})`,"name",e)}}(e)),n=[];if(0===e.length)return n;let r=0;for(let i=0;i<t.length;i++){46===t[i]&&(n.push(_s(t.slice(r,i))),r=i+1)}return P(r<t.length,"invalid ENS name; empty component","name",e),n.push(_s(t.slice(r))),n}function Us(e){P("string"===typeof e,"invalid ENS name; not a string","name",e),P(e.length,"invalid ENS name (empty label)","name",e);let t=Rs;const n=Bs(e);for(;n.length;)t=st(M([t,st(n.pop())]));return D(t)}function Ls(e,t){const n=null!=t?t:63;return P(n<=255,"DNS encoded label cannot exceed 255","length",n),D(M(Bs(e).map(t=>{P(t.length<=n,`label ${JSON.stringify(e)} exceeds ${n} bytes`,"name",e);const r=new Uint8Array(t.length+1);return r.set(t,1),r[0]=r.length-1,r})))+"00"}Rs.fill(0);class Ds extends De{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Be(this.buffer)}update(e){ve(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=Le(e)).length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){const t=Be(e);for(;r<=i-s;s+=r)this.process(t,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ve(this),Ee(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(n,0),s=0);for(let u=s;u<r;u++)t[u]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;e.setUint32(t+l,o,r),e.setUint32(t+c,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=Be(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)o.setUint32(4*u,c[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.length=r,e.pos=o,e.finished=i,e.destroyed=s,r%t&&e.buffer.set(n),e}}const Ms=(e,t,n)=>e&t^~e&n,Fs=(e,t,n)=>e&t^e&n^t&n,zs=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),js=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Vs=new Uint32Array(64);class Hs extends Ds{constructor(){super(64,32,8,!1),this.A=0|js[0],this.B=0|js[1],this.C=0|js[2],this.D=0|js[3],this.E=0|js[4],this.F=0|js[5],this.G=0|js[6],this.H=0|js[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:s,G:o,H:a}=this;return[e,t,n,r,i,s,o,a]}set(e,t,n,r,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let u=0;u<16;u++,t+=4)Vs[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=Vs[u-15],t=Vs[u-2],n=Ue(e,7)^Ue(e,18)^e>>>3,r=Ue(t,17)^Ue(t,19)^t>>>10;Vs[u]=r+Vs[u-7]+n+Vs[u-16]|0}let{A:n,B:r,C:i,D:s,E:o,F:a,G:l,H:c}=this;for(let u=0;u<64;u++){const e=c+(Ue(o,6)^Ue(o,11)^Ue(o,25))+Ms(o,a,l)+zs[u]+Vs[u]|0,t=(Ue(n,2)^Ue(n,13)^Ue(n,22))+Fs(n,r,i)|0;c=l,l=a,a=o,o=s+e|0,s=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,r,i,s,o,a,l,c)}roundClean(){Vs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const qs=Me(()=>new Hs),[$s,Gs]=(()=>Te.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),Ks=new Uint32Array(80),Qs=new Uint32Array(80);class Ws extends Ds{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:l,El:c,Fh:u,Fl:h,Gh:f,Gl:d,Hh:p,Hl:g}=this;return[e,t,n,r,i,s,o,a,l,c,u,h,f,d,p,g]}set(e,t,n,r,i,s,o,a,l,c,u,h,f,d,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|h,this.Gh=0|f,this.Gl=0|d,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let w=0;w<16;w++,t+=4)Ks[w]=e.getUint32(t),Qs[w]=e.getUint32(t+=4);for(let w=16;w<80;w++){const e=0|Ks[w-15],t=0|Qs[w-15],n=Te.rotrSH(e,t,1)^Te.rotrSH(e,t,8)^Te.shrSH(e,t,7),r=Te.rotrSL(e,t,1)^Te.rotrSL(e,t,8)^Te.shrSL(e,t,7),i=0|Ks[w-2],s=0|Qs[w-2],o=Te.rotrSH(i,s,19)^Te.rotrBH(i,s,61)^Te.shrSH(i,s,6),a=Te.rotrSL(i,s,19)^Te.rotrBL(i,s,61)^Te.shrSL(i,s,6),l=Te.add4L(r,a,Qs[w-7],Qs[w-16]),c=Te.add4H(l,n,o,Ks[w-7],Ks[w-16]);Ks[w]=0|c,Qs[w]=0|l}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:l,Dl:c,Eh:u,El:h,Fh:f,Fl:d,Gh:p,Gl:g,Hh:y,Hl:m}=this;for(let w=0;w<80;w++){const e=Te.rotrSH(u,h,14)^Te.rotrSH(u,h,18)^Te.rotrBH(u,h,41),t=Te.rotrSL(u,h,14)^Te.rotrSL(u,h,18)^Te.rotrBL(u,h,41),b=u&f^~u&p,v=h&d^~h&g,E=Te.add5L(m,t,v,Gs[w],Qs[w]),A=Te.add5H(E,y,e,b,$s[w],Ks[w]),x=0|E,S=Te.rotrSH(n,r,28)^Te.rotrBH(n,r,34)^Te.rotrBH(n,r,39),I=Te.rotrSL(n,r,28)^Te.rotrBL(n,r,34)^Te.rotrBL(n,r,39),k=n&i^n&o^i&o,P=r&s^r&a^s&a;y=0|p,m=0|g,p=0|f,g=0|d,f=0|u,d=0|h,({h:u,l:h}=Te.add(0|l,0|c,0|A,0|x)),l=0|o,c=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const O=Te.add3L(x,I,P);n=Te.add3H(O,A,S,k),r=0|O}({h:n,l:r}=Te.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=Te.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=Te.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:l,l:c}=Te.add(0|this.Dh,0|this.Dl,0|l,0|c)),({h:u,l:h}=Te.add(0|this.Eh,0|this.El,0|u,0|h)),({h:f,l:d}=Te.add(0|this.Fh,0|this.Fl,0|f,0|d)),({h:p,l:g}=Te.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:y,l:m}=Te.add(0|this.Hh,0|this.Hl,0|y,0|m)),this.set(n,r,i,s,o,a,l,c,u,h,f,d,p,g,y,m)}roundClean(){Ks.fill(0),Qs.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Js=Me(()=>new Ws);const Ys=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global;throw new Error("unable to locate global object")}();Ys.crypto||Ys.msCrypto;function Zs(e){switch(e){case"sha256":return qs.create();case"sha512":return Js.create()}P(!1,"invalid hashing algorithm name","algorithm",e)}const Xs=function(e){return Zs("sha256").update(e).digest()},eo=function(e){return Zs("sha512").update(e).digest()};let to=Xs,no=eo,ro=!1,io=!1;function so(e){const t=R(e,"data");return D(to(t))}function oo(e){const t=R(e,"data");return D(no(t))}so._=Xs,so.lock=function(){ro=!0},so.register=function(e){if(ro)throw new Error("sha256 is locked");to=e},Object.freeze(so),oo._=eo,oo.lock=function(){io=!0},oo.register=function(e){if(io)throw new Error("sha512 is locked");no=e},Object.freeze(so);BigInt(0);const ao=BigInt(1),lo=BigInt(2),co=e=>e instanceof Uint8Array,uo=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ho(e){if(!co(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=uo[e[n]];return t}function fo(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function po(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const t=2*r,i=e.slice(t,t+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}function go(e){return fo(ho(e))}function yo(e){if(!co(e))throw new Error("Uint8Array expected");return fo(ho(Uint8Array.from(e).reverse()))}function mo(e,t){return po(e.toString(16).padStart(2*t,"0"))}function wo(e,t){return mo(e,t).reverse()}function bo(e,t,n){let r;if("string"===typeof t)try{r=po(t)}catch(ec){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${ec}`)}else{if(!co(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function vo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce((e,t)=>e+t.length,0));let i=0;return t.forEach(e=>{if(!co(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length}),r}const Eo=e=>(lo<<BigInt(e-1))-ao,Ao=e=>new Uint8Array(e),xo=e=>Uint8Array.from(e);function So(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=Ao(e),i=Ao(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return n(i,r,...t)},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ao();i=a(xo([0]),e),r=a(),0!==e.length&&(i=a(xo([1]),e),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return vo(...n)};return(e,t)=>{let n;for(o(),l(e);!(n=t(c()));)l();return o(),n}}const Io={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function ko(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=Io[n];if("function"!==typeof i)throw new Error(`Invalid validator "${n}", expected function`);const s=e[t];if((!r||void 0!==s)&&!i(s,e))throw new Error(`Invalid param ${String(t)}=${s} (${typeof s}), expected ${n}`)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}const Po=BigInt(0),Oo=BigInt(1),No=BigInt(2),Co=BigInt(3),To=BigInt(4),Ro=BigInt(5),_o=BigInt(8);BigInt(9),BigInt(16);function Bo(e,t){const n=e%t;return n>=Po?n:t+n}function Uo(e,t,n){if(n<=Po||t<Po)throw new Error("Expected power/modulo > 0");if(n===Oo)return Po;let r=Oo;for(;t>Po;)t&Oo&&(r=r*e%n),e=e*e%n,t>>=Oo;return r}function Lo(e,t,n){let r=e;for(;t-- >Po;)r*=r,r%=n;return r}function Do(e,t){if(e===Po||t<=Po)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Bo(e,t),r=t,i=Po,s=Oo,o=Oo,a=Po;for(;n!==Po;){const e=r/n,t=r%n,l=i-o*e,c=s-a*e;r=n,n=t,i=o,s=a,o=l,a=c}if(r!==Oo)throw new Error("invert: does not exist");return Bo(i,t)}function Mo(e){if(e%To===Co){const t=(e+Oo)/To;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%_o===Ro){const t=(e-Ro)/_o;return function(e,n){const r=e.mul(n,No),i=e.pow(r,t),s=e.mul(n,i),o=e.mul(e.mul(s,No),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-Oo)/No;let n,r,i;for(n=e-Oo,r=0;n%No===Po;n/=No,r++);for(i=No;i<e&&Uo(i,t,e)!==e-Oo;i++);if(1===r){const t=(e+Oo)/To;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const s=(n+Oo)/No;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,l=e.pow(e.mul(e.ONE,i),n),c=e.pow(o,s),u=e.pow(o,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(l,Oo<<BigInt(a-t-1));l=e.sqr(n),c=e.mul(c,n),u=e.mul(u,l),a=t}return c}}(e)}const Fo=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function zo(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function jo(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Vo(e){const t=jo(e);return t+Math.ceil(t/2)}class Ho extends De{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,be(e);const n=Le(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return ve(this),this.iHash.update(e),this}digestInto(e){ve(this),we(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=r,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const qo=(e,t,n)=>new Ho(e,t).update(n).digest();qo.create=(e,t)=>new Ho(e,t);const $o=BigInt(0),Go=BigInt(1);function Ko(e){return ko(e.Fp,Fo.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),ko(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...zo(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{Ph:Qo,aT:Wo}=e,Jo={Err:class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},_parseInt(e){const{Err:t}=Jo;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Qo(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Jo,n="string"===typeof e?Wo(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:s}=Jo._parseInt(n.subarray(2)),{d:o,l:a}=Jo._parseInt(s);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},r=t(n(e.s)),i=t(n(e.r)),s=r.length/2,o=i.length/2,a=n(s),l=n(o);return`30${n(o+s+4)}02${l}${i}02${a}${r}`}},Yo=BigInt(0),Zo=BigInt(1),Xo=(BigInt(2),BigInt(3));BigInt(4);function ea(e){const t=function(e){const t=Ko(e);ko(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const i=t.toAffine();return vo(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function s(e){const{a:r,b:i}=t,s=n.sqr(e),o=n.mul(s,e);return n.add(n.add(o,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function o(e){return"bigint"===typeof e&&Yo<e&&e<t.n}function a(e){if(!o(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:s}=t;if(n&&"bigint"!==typeof e){if(e instanceof Uint8Array&&(e=ho(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let o;try{o="bigint"===typeof e?e:go(bo("private key",e,r))}catch(l){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return i&&(o=Bo(o,s)),a(o),o}const c=new Map;function u(e){if(!(e instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof h)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?h.ZERO:new h(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(h.fromAffine)}static fromHex(e){const t=h.fromAffine(i(bo("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(l(e))}_setWindowSize(e){this._WINDOW_SIZE=e,c.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const i=n.sqr(r),o=s(e);if(!n.eql(i,o))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:t,py:r,pz:i}=this,{px:s,py:o,pz:a}=e,l=n.eql(n.mul(t,a),n.mul(s,i)),c=n.eql(n.mul(r,a),n.mul(o,i));return l&&c}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,Xo),{px:s,py:o,pz:a}=this;let l=n.ZERO,c=n.ZERO,u=n.ZERO,f=n.mul(s,s),d=n.mul(o,o),p=n.mul(a,a),g=n.mul(s,o);return g=n.add(g,g),u=n.mul(s,a),u=n.add(u,u),l=n.mul(e,u),c=n.mul(i,p),c=n.add(l,c),l=n.sub(d,c),c=n.add(d,c),c=n.mul(l,c),l=n.mul(g,l),u=n.mul(i,u),p=n.mul(e,p),g=n.sub(f,p),g=n.mul(e,g),g=n.add(g,u),u=n.add(f,f),f=n.add(u,f),f=n.add(f,p),f=n.mul(f,g),c=n.add(c,f),p=n.mul(o,a),p=n.add(p,p),f=n.mul(p,g),l=n.sub(l,f),u=n.mul(p,d),u=n.add(u,u),u=n.add(u,u),new h(l,c,u)}add(e){u(e);const{px:r,py:i,pz:s}=this,{px:o,py:a,pz:l}=e;let c=n.ZERO,f=n.ZERO,d=n.ZERO;const p=t.a,g=n.mul(t.b,Xo);let y=n.mul(r,o),m=n.mul(i,a),w=n.mul(s,l),b=n.add(r,i),v=n.add(o,a);b=n.mul(b,v),v=n.add(y,m),b=n.sub(b,v),v=n.add(r,s);let E=n.add(o,l);return v=n.mul(v,E),E=n.add(y,w),v=n.sub(v,E),E=n.add(i,s),c=n.add(a,l),E=n.mul(E,c),c=n.add(m,w),E=n.sub(E,c),d=n.mul(p,v),c=n.mul(g,w),d=n.add(c,d),c=n.sub(m,d),d=n.add(m,d),f=n.mul(c,d),m=n.add(y,y),m=n.add(m,y),w=n.mul(p,w),v=n.mul(g,v),m=n.add(m,w),w=n.sub(y,w),w=n.mul(p,w),v=n.add(v,w),y=n.mul(m,v),f=n.add(f,y),y=n.mul(E,v),c=n.mul(b,c),c=n.sub(c,y),y=n.mul(b,m),d=n.mul(E,d),d=n.add(d,y),new h(c,f,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return d.wNAFCached(this,c,e,e=>{const t=n.invertBatch(e.map(e=>e.pz));return e.map((e,n)=>e.toAffine(t[n])).map(h.fromAffine)})}multiplyUnsafe(e){const r=h.ZERO;if(e===Yo)return r;if(a(e),e===Zo)return this;const{endo:i}=t;if(!i)return d.unsafeLadder(this,e);let{k1neg:s,k1:o,k2neg:l,k2:c}=i.splitScalar(e),u=r,f=r,p=this;for(;o>Yo||c>Yo;)o&Zo&&(u=u.add(p)),c&Zo&&(f=f.add(p)),p=p.double(),o>>=Zo,c>>=Zo;return s&&(u=u.negate()),l&&(f=f.negate()),f=new h(n.mul(f.px,i.beta),f.py,f.pz),u.add(f)}multiply(e){a(e);let r,i,s=e;const{endo:o}=t;if(o){const{k1neg:e,k1:t,k2neg:a,k2:l}=o.splitScalar(s);let{p:c,f:u}=this.wNAF(t),{p:f,f:p}=this.wNAF(l);c=d.constTimeNegate(e,c),f=d.constTimeNegate(a,f),f=new h(n.mul(f.px,o.beta),f.py,f.pz),r=c.add(f),i=u.add(p)}else{const{p:e,f:t}=this.wNAF(s);r=e,i=t}return h.normalizeZ([r,i])[0]}multiplyAndAddUnsafe(e,t,n){const r=h.BASE,i=(e,t)=>t!==Yo&&t!==Zo&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,n));return s.is0()?void 0:s}toAffine(e){const{px:t,py:r,pz:i}=this,s=this.is0();null==e&&(e=s?n.ONE:n.inv(i));const o=n.mul(t,e),a=n.mul(r,e),l=n.mul(i,e);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(l,n.ONE))throw new Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Zo)return!0;if(n)return n(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Zo?this:n?n(h,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertValidity(),r(h,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return ho(this.toRawBytes(e))}}h.BASE=new h(t.Gx,t.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const f=t.nBitLength,d=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>$o;)n&Go&&(r=r.add(i)),i=i.double(),n>>=Go;return r},precomputeWindow(e,t){const{windows:n,windowSize:i}=r(t),s=[];let o=e,a=o;for(let r=0;r<n;r++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(t,i,s){const{windows:o,windowSize:a}=r(t);let l=e.ZERO,c=e.BASE;const u=BigInt(2**t-1),h=2**t,f=BigInt(t);for(let e=0;e<o;e++){const t=e*a;let r=Number(s&u);s>>=f,r>a&&(r-=h,s+=Go);const o=t,d=t+Math.abs(r)-1,p=e%2!==0,g=r<0;0===r?c=c.add(n(p,i[o])):l=l.add(n(g,i[d]))}return{p:l,f:c}},wNAFCached(e,t,n,r){const i=e._WINDOW_SIZE||1;let s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,r(s))),this.wNAF(i,s,n)}}}(h,t.endo?Math.ceil(f/2):f);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:o}}function ta(e){const t=function(e){const t=Ko(e);return ko(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,i=n.BYTES+1,s=2*n.BYTES+1;function o(e){return Bo(e,r)}function a(e){return Do(e,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:u,isWithinCurveOrder:h}=ea({...t,toBytes(e,t,r){const i=t.toAffine(),s=n.toBytes(i.x),o=vo;return r?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],o=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===s&&4===r){return{x:n.fromBytes(o.subarray(0,n.BYTES)),y:n.fromBytes(o.subarray(n.BYTES,2*n.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}{const e=go(o);if(!(Yo<(a=e)&&a<n.ORDER))throw new Error("Point is not on curve");const t=u(e);let i=n.sqrt(t);return 1===(1&r)!==((i&Zo)===Zo)&&(i=n.neg(i)),{x:e,y:i}}var a}}),f=e=>ho(mo(e,t.nByteLength));function d(e){return e>r>>Zo}const p=(e,t,n)=>go(e.slice(t,n));class g{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=bo("compactSignature",e,2*n),new g(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=Jo.toSig(bo("DER",e));return new g(t,n)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new g(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:s}=this,c=b(bo("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const u=2===s||3===s?r+t.n:r;if(u>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const h=0===(1&s)?"02":"03",d=l.fromHex(h+f(u)),p=a(u),g=o(-c*p),y=o(i*p),m=l.BASE.multiplyAndAddUnsafe(d,g,y);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return po(this.toDERHex())}toDERHex(){return Jo.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return po(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const y={isValidPrivateKey(e){try{return c(e),!0}catch(t){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const e=Vo(t.n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=jo(t),s=Vo(t);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=Bo(n?go(e):yo(e),t-Oo)+Oo;return n?wo(o,i):mo(o,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function m(e){const t=e instanceof Uint8Array,n="string"===typeof e,r=(t||n)&&e.length;return t?r===i||r===s:n?r===2*i||r===2*s:e instanceof l}const w=t.bits2int||function(e){const n=go(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},b=t.bits2int_modN||function(e){return o(w(e))},v=Eo(t.nBitLength);function E(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(Yo<=e&&e<v))throw new Error(`bigint expected < 2^${t.nBitLength}`);return mo(e,t.nByteLength)}function A(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:u}=t;let{lowS:f,prehash:p,extraEntropy:y}=i;null==f&&(f=!0),e=bo("msgHash",e),p&&(e=bo("prehashed msgHash",s(e)));const m=b(e),v=c(r),A=[E(v),E(m)];if(null!=y){const e=!0===y?u(n.BYTES):y;A.push(bo("extraEntropy",e))}const S=vo(...A),I=m;return{seed:S,k2sig:function(e){const t=w(e);if(!h(t))return;const n=a(t),r=l.BASE.multiply(t).toAffine(),i=o(r.x);if(i===Yo)return;const s=o(n*o(I+i*v));if(s===Yo)return;let c=(r.x===i?0:2)|Number(r.y&Zo),u=s;return f&&d(s)&&(u=function(e){return d(e)?o(-e):e}(s),c^=1),new g(i,u,c)}}}const x={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(m(e))throw new Error("first arg must be private key");if(!m(t))throw new Error("second arg must be public key");return l.fromHex(t).multiply(c(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;const{seed:i,k2sig:s}=A(e,n,r),o=t;return So(o.hash.outputLen,o.nByteLength,o.hmac)(i,s)},verify:function(e,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;const s=e;if(n=bo("msgHash",n),r=bo("publicKey",r),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:c,prehash:u}=i;let h,f;try{if("string"===typeof s||s instanceof Uint8Array)try{h=g.fromDER(s)}catch(A){if(!(A instanceof Jo.Err))throw A;h=g.fromCompact(s)}else{if("object"!==typeof s||"bigint"!==typeof s.r||"bigint"!==typeof s.s)throw new Error("PARSE");{const{r:e,s:t}=s;h=new g(e,t)}}f=l.fromHex(r)}catch(x){if("PARSE"===x.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(c&&h.hasHighS())return!1;u&&(n=t.hash(n));const{r:d,s:p}=h,y=b(n),m=a(p),w=o(y*m),v=o(d*m),E=l.BASE.multiplyAndAddUnsafe(f,w,v)?.toAffine();return!!E&&o(E.x)===d},ProjectivePoint:l,Signature:g,utils:y}}function na(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return qo(e,t,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new Uint8Array(t.reduce((e,t)=>e+t.length,0));let i=0;return t.forEach(e=>{if(!_e(e))throw new Error("Uint8Array expected");r.set(e,i),i+=e.length}),r}(...r))},randomBytes:Fe}}const ra=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ia=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),sa=BigInt(1),oa=BigInt(2),aa=(e,t)=>(e+t/oa)/t;function la(e){const t=ra,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,h=Lo(u,n,t)*u%t,f=Lo(h,n,t)*u%t,d=Lo(f,oa,t)*c%t,p=Lo(d,i,t)*d%t,g=Lo(p,s,t)*p%t,y=Lo(g,a,t)*g%t,m=Lo(y,l,t)*y%t,w=Lo(m,a,t)*g%t,b=Lo(w,n,t)*u%t,v=Lo(b,o,t)*p%t,E=Lo(v,r,t)*c%t,A=Lo(E,oa,t);if(!ca.eql(ca.sqr(A),e))throw new Error("Cannot find square root");return A}const ca=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=Po)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:s}=zo(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=Mo(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:Eo(i),ZERO:Po,ONE:Oo,create:t=>Bo(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return Po<=t&&t<e},is0:e=>e===Po,isOdd:e=>(e&Oo)===Oo,neg:t=>Bo(-t,e),eql:(e,t)=>e===t,sqr:t=>Bo(t*t,e),add:(t,n)=>Bo(t+n,e),sub:(t,n)=>Bo(t-n,e),mul:(t,n)=>Bo(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Po)throw new Error("Expected power > 0");if(n===Po)return e.ONE;if(n===Oo)return t;let r=e.ONE,i=t;for(;n>Po;)n&Oo&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Oo;return r}(a,e,t),div:(t,n)=>Bo(t*Do(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Do(t,e),sqrt:r.sqrt||(e=>o(a,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),i=e.inv(r);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),i),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?wo(e,s):mo(e,s),fromBytes:e=>{if(e.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${e.length}`);return n?yo(e):go(e)}});return Object.freeze(a)}(ra,void 0,void 0,{sqrt:la}),ua=function(e,t){const n=t=>ta({...e,...na(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:ca,n:ia,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=ia,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-sa*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=aa(s*e,t),l=aa(-r*e,t);let c=Bo(e-a*n-l*i,t),u=Bo(-a*r-l*s,t);const h=c>o,f=u>o;if(h&&(c=t-c),f&&(u=t-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:c,k2neg:f,k2:u}}}},qs);BigInt(0);ua.ProjectivePoint;class ha{#re;constructor(e){P(32===F(e),"invalid private key","privateKey","[REDACTED]"),this.#re=D(e)}get privateKey(){return this.#re}get publicKey(){return ha.computePublicKey(this.#re)}get compressedPublicKey(){return ha.computePublicKey(this.#re,!0)}sign(e){P(32===F(e),"invalid digest length","digest",e);const t=ua.sign(_(e),_(this.#re),{lowS:!0});return pr.from({r:ee(t.r,32),s:ee(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=ha.computePublicKey(e);return D(ua.getSharedSecret(_(this.#re),R(t),!1))}static computePublicKey(e,t){let n=R(e,"key");if(32===n.length){return D(ua.getPublicKey(n,!!t))}if(64===n.length){const e=new Uint8Array(65);e[0]=4,e.set(n,1),n=e}return D(ua.ProjectivePoint.fromHex(n).toRawBytes(t))}static recoverPublicKey(e,t){P(32===F(e),"invalid digest length","digest",e);const n=pr.from(t);let r=ua.Signature.fromCompact(_(M([n.r,n.s])));r=r.addRecoveryBit(n.yParity);const i=r.recoverPublicKey(_(e));return P(null!=i,"invalid signature for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,n){const r=ua.ProjectivePoint.fromHex(ha.computePublicKey(e).substring(2)),i=ua.ProjectivePoint.fromHex(ha.computePublicKey(t).substring(2));return"0x"+r.add(i).toHex(!!n)}}function fa(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function da(e,t,n){let r=0;for(let i=0;i<n;i++)r=256*r+e[t+i];return r}function pa(e,t,n,r){const i=[];for(;n<t+1+r;){const s=ga(e,n);i.push(s.result),k((n+=s.consumed)<=t+1+r,"child data too short","BUFFER_OVERRUN",{buffer:e,length:r,offset:t})}return{consumed:1+r,result:i}}function ga(e,t){k(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const n=t=>{k(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){const r=e[t]-247;n(t+1+r);const i=da(e,t+1,r);return n(t+1+r+i),pa(e,t,t+1+r,r+i)}if(e[t]>=192){const r=e[t]-192;return n(t+1+r),pa(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;n(t+1+r);const i=da(e,t+1,r);n(t+1+r+i);return{consumed:1+r+i,result:D(e.slice(t+1+r,t+1+r+i))}}if(e[t]>=128){const r=e[t]-128;n(t+1+r);return{consumed:1+r,result:D(e.slice(t+1,t+1+r))}}return{consumed:1,result:fa(e[t])}}function ya(e){const t=R(e,"data"),n=ga(t,0);return P(n.consumed===t.length,"unexpected junk after rlp payload","data",e),n.result}function ma(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function wa(e){if(Array.isArray(e)){let t=[];if(e.forEach(function(e){t=t.concat(wa(e))}),t.length<=55)return t.unshift(192+t.length),t;const n=ma(t.length);return n.unshift(247+n.length),n.concat(t)}const t=Array.prototype.slice.call(R(e,"object"));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const n=ma(t.length);return n.unshift(183+n.length),n.concat(t)}const ba="0123456789abcdef";function va(e){let t="0x";for(const n of wa(e))t+=ba[n>>4],t+=ba[15&n];return t}function Ea(e,t){return function(e){let t;return t="string"===typeof e?ha.computePublicKey(e,!1):e.publicKey,ft(st("0x"+t.substring(4)).substring(26))}(ha.recoverPublicKey(e,t))}const Aa=BigInt(0),xa=BigInt(2),Sa=BigInt(27),Ia=BigInt(28),ka=BigInt(35),Pa=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Oa=131072;function Na(e,t){let n=e.toString(16);for(;n.length<2;)n="0"+n;return n+=so(t).substring(4),"0x"+n}function Ca(e){return"0x"===e?null:ft(e)}function Ta(e,t){try{return ir(e)}catch(n){P(!1,n.message,t,e)}}function Ra(e,t){try{if(!Array.isArray(e))throw new Error("authorizationList: invalid array");const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(!Array.isArray(r))throw new Error(`authorization[${n}]: invalid array`);if(6!==r.length)throw new Error(`authorization[${n}]: wrong length`);if(!r[1])throw new Error(`authorization[${n}]: null address`);t.push({address:Ca(r[1]),nonce:Ba(r[2],"nonce"),chainId:Ba(r[0],"chainId"),signature:pr.from({yParity:_a(r[3],"yParity"),r:V(r[4],32),s:V(r[5],32)})})}return t}catch(n){P(!1,n.message,t,e)}}function _a(e,t){return"0x"===e?0:X(e,t)}function Ba(e,t){if("0x"===e)return Aa;const n=W(e,t);return P(n<=Pa,"value exceeds uint size",t,n),n}function Ua(e,t){const n=W(e,"value"),r=te(n);return P(r.length<=32,"value too large",`tx.${t}`,n),r}function La(e){return ir(e).map(e=>[e.address,e.storageKeys])}function Da(e,t){P(Array.isArray(e),`invalid ${t}`,"value",e);for(let n=0;n<e.length;n++)P(B(e[n],32),"invalid ${ param } hash",`value[${n}]`,e[n]);return e}function Ma(e,t){let n;try{if(n=_a(t[0],"yParity"),0!==n&&1!==n)throw new Error("bad yParity")}catch(o){P(!1,"invalid yParity","yParity",t[0])}const r=V(t[1],32),i=V(t[2],32),s=pr.from({r:r,s:i,yParity:n});e.signature=s}class Fa{#ie;#se;#t;#oe;#ae;#le;#ce;#ue;#he;#fe;#de;#pe;#ge;#ye;#me;#we;#be;get type(){return this.#ie}set type(e){switch(e){case null:this.#ie=null;break;case 0:case"legacy":this.#ie=0;break;case 1:case"berlin":case"eip-2930":this.#ie=1;break;case 2:case"london":case"eip-1559":this.#ie=2;break;case 3:case"cancun":case"eip-4844":this.#ie=3;break;case 4:case"pectra":case"eip-7702":this.#ie=4;break;default:P(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=this.#se;return null==e&&3===this.type?Cr:e}set to(e){this.#se=null==e?null:ft(e)}get nonce(){return this.#oe}set nonce(e){this.#oe=X(e,"value")}get gasLimit(){return this.#ae}set gasLimit(e){this.#ae=W(e)}get gasPrice(){const e=this.#le;return null!=e||0!==this.type&&1!==this.type?e:Aa}set gasPrice(e){this.#le=null==e?null:W(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#ce;return null==e?2===this.type||3===this.type?Aa:null:e}set maxPriorityFeePerGas(e){this.#ce=null==e?null:W(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#ue;return null==e?2===this.type||3===this.type?Aa:null:e}set maxFeePerGas(e){this.#ue=null==e?null:W(e,"maxFeePerGas")}get data(){return this.#t}set data(e){this.#t=D(e)}get value(){return this.#he}set value(e){this.#he=W(e,"value")}get chainId(){return this.#fe}set chainId(e){this.#fe=W(e)}get signature(){return this.#de||null}set signature(e){this.#de=null==e?null:pr.from(e)}get accessList(){const e=this.#pe||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){this.#pe=null==e?null:ir(e)}get authorizationList(){const e=this.#be||null;return null==e&&4===this.type?[]:e}set authorizationList(e){this.#be=null==e?null:e.map(e=>gr(e))}get maxFeePerBlobGas(){const e=this.#ge;return null==e&&3===this.type?Aa:e}set maxFeePerBlobGas(e){this.#ge=null==e?null:W(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#ye;return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){P(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)P(B(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#ye=e}get blobs(){return null==this.#we?null:this.#we.map(e=>Object.assign({},e))}set blobs(e){if(null==e)return void(this.#we=null);const t=[],n=[];for(let r=0;r<e.length;r++){const i=e[r];if(U(i)){k(this.#me,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=R(i);if(P(e.length<=Oa,"blob is too large",`blobs[${r}]`,i),e.length!==Oa){const t=new Uint8Array(Oa);t.set(e),e=t}const s=this.#me.blobToKzgCommitment(e),o=D(this.#me.computeBlobKzgProof(e,s));t.push({data:D(e),commitment:D(s),proof:o}),n.push(Na(1,s))}else{const e=D(i.commitment);t.push({data:D(i.data),commitment:e,proof:D(i.proof)}),n.push(Na(1,e))}}this.#we=t,this.#ye=n}get kzg(){return this.#me}set kzg(e){this.#me=null==e?null:function(e){return{blobToKzgCommitment:t=>{if("computeBlobProof"in e){if("blobToKzgCommitment"in e&&"function"===typeof e.blobToKzgCommitment)return R(e.blobToKzgCommitment(D(t)))}else if("blobToKzgCommitment"in e&&"function"===typeof e.blobToKzgCommitment)return R(e.blobToKzgCommitment(t));if("blobToKZGCommitment"in e&&"function"===typeof e.blobToKZGCommitment)return R(e.blobToKZGCommitment(D(t)));P(!1,"unsupported KZG library","kzg",e)},computeBlobKzgProof:(t,n)=>"computeBlobProof"in e&&"function"===typeof e.computeBlobProof?R(e.computeBlobProof(D(t),D(n))):"computeBlobKzgProof"in e&&"function"===typeof e.computeBlobKzgProof?e.computeBlobKzgProof(t,n):"computeBlobKZGProof"in e&&"function"===typeof e.computeBlobKZGProof?R(e.computeBlobKZGProof(D(t),D(n))):void P(!1,"unsupported KZG library","kzg",e)}}(e)}constructor(){this.#ie=null,this.#se=null,this.#oe=0,this.#ae=Aa,this.#le=null,this.#ce=null,this.#ue=null,this.#t="0x",this.#he=Aa,this.#fe=Aa,this.#de=null,this.#pe=null,this.#ge=null,this.#ye=null,this.#me=null,this.#we=null,this.#be=null}get hash(){return null==this.signature?null:st(this.#ve(!0,!1))}get unsignedHash(){return st(this.unsignedSerialized)}get from(){return null==this.signature?null:Ea(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:ha.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}#ve(e,t){k(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return function(e,t){const n=[Ua(e.nonce,"nonce"),Ua(e.gasPrice||0,"gasPrice"),Ua(e.gasLimit,"gasLimit"),e.to||"0x",Ua(e.value,"value"),e.data];let r=Aa;if(e.chainId!=Aa)r=W(e.chainId,"tx.chainId"),P(!t||null==t.networkV||t.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const t=e.signature.legacyChainId;null!=t&&(r=t)}if(!t)return r!==Aa&&(n.push(te(r)),n.push("0x"),n.push("0x")),va(n);let i=BigInt(27+t.yParity);return r!==Aa?i=pr.getChainIdV(r,t.v):BigInt(t.v)!==i&&P(!1,"tx.chainId/sig.v mismatch","sig",t),n.push(te(i)),n.push(te(t.r)),n.push(te(t.s)),va(n)}(this,n);case 1:return function(e,t){const n=[Ua(e.chainId,"chainId"),Ua(e.nonce,"nonce"),Ua(e.gasPrice||0,"gasPrice"),Ua(e.gasLimit,"gasLimit"),e.to||"0x",Ua(e.value,"value"),e.data,La(e.accessList||[])];return t&&(n.push(Ua(t.yParity,"recoveryParam")),n.push(te(t.r)),n.push(te(t.s))),M(["0x01",va(n)])}(this,n);case 2:return function(e,t){const n=[Ua(e.chainId,"chainId"),Ua(e.nonce,"nonce"),Ua(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ua(e.maxFeePerGas||0,"maxFeePerGas"),Ua(e.gasLimit,"gasLimit"),e.to||"0x",Ua(e.value,"value"),e.data,La(e.accessList||[])];return t&&(n.push(Ua(t.yParity,"yParity")),n.push(te(t.r)),n.push(te(t.s))),M(["0x02",va(n)])}(this,n);case 3:return function(e,t,n){const r=[Ua(e.chainId,"chainId"),Ua(e.nonce,"nonce"),Ua(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ua(e.maxFeePerGas||0,"maxFeePerGas"),Ua(e.gasLimit,"gasLimit"),e.to||Cr,Ua(e.value,"value"),e.data,La(e.accessList||[]),Ua(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),Da(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(r.push(Ua(t.yParity,"yParity")),r.push(te(t.r)),r.push(te(t.s)),n)?M(["0x03",va([r,n.map(e=>e.data),n.map(e=>e.commitment),n.map(e=>e.proof)])]):M(["0x03",va(r)])}(this,n,t?this.blobs:null);case 4:return function(e,t){const n=[Ua(e.chainId,"chainId"),Ua(e.nonce,"nonce"),Ua(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ua(e.maxFeePerGas||0,"maxFeePerGas"),Ua(e.gasLimit,"gasLimit"),e.to||"0x",Ua(e.value,"value"),e.data,La(e.accessList||[]),(r=e.authorizationList||[],r.map(e=>[Ua(e.chainId,"chainId"),e.address,Ua(e.nonce,"nonce"),Ua(e.signature.yParity,"yParity"),te(e.signature.r),te(e.signature.s)]))];var r;return t&&(n.push(Ua(t.yParity,"yParity")),n.push(te(t.r)),n.push(te(t.s))),M(["0x04",va(n)])}(this,n)}k(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#ve(!0,!0)}get unsignedSerialized(){return this.#ve(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,n=null!=this.accessList,r=null!=this.#ge||this.#ye;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&k(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),k(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),k(0!==this.type||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return null!=this.type?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):t?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(r&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return Fa.from(this)}toJSON(){const e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new Fa;if("string"===typeof e){const t=R(e);if(t[0]>=127)return Fa.from(function(e){const t=ya(e);P(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);const n={type:0,nonce:_a(t[0],"nonce"),gasPrice:Ba(t[1],"gasPrice"),gasLimit:Ba(t[2],"gasLimit"),to:Ca(t[3]),value:Ba(t[4],"value"),data:D(t[5]),chainId:Aa};if(6===t.length)return n;const r=Ba(t[6],"v"),i=Ba(t[7],"r"),s=Ba(t[8],"s");if(i===Aa&&s===Aa)n.chainId=r;else{let e=(r-ka)/xa;e<Aa&&(e=Aa),n.chainId=e,P(e!==Aa||r===Sa||r===Ia,"non-canonical legacy v","v",t[6]),n.signature=pr.from({r:V(t[7],32),s:V(t[8],32),v:r})}return n}(t));switch(t[0]){case 1:return Fa.from(function(e){const t=ya(R(e).slice(1));P(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",D(e));const n={type:1,chainId:Ba(t[0],"chainId"),nonce:_a(t[1],"nonce"),gasPrice:Ba(t[2],"gasPrice"),gasLimit:Ba(t[3],"gasLimit"),to:Ca(t[4]),value:Ba(t[5],"value"),data:D(t[6]),accessList:Ta(t[7],"accessList")};return 8===t.length||Ma(n,t.slice(8)),n}(t));case 2:return Fa.from(function(e){const t=ya(R(e).slice(1));P(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",D(e));const n={type:2,chainId:Ba(t[0],"chainId"),nonce:_a(t[1],"nonce"),maxPriorityFeePerGas:Ba(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Ba(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ba(t[4],"gasLimit"),to:Ca(t[5]),value:Ba(t[6],"value"),data:D(t[7]),accessList:Ta(t[8],"accessList")};return 9===t.length||Ma(n,t.slice(9)),n}(t));case 3:return Fa.from(function(e){let t=ya(R(e).slice(1)),n="3",r=null;if(4===t.length&&Array.isArray(t[0])){n="3 (network format)";const e=t[1],i=t[2],s=t[3];P(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),P(Array.isArray(i),"invalid network format: commitments not an array","fields[2]",i),P(Array.isArray(s),"invalid network format: proofs not an array","fields[3]",s),P(e.length===i.length,"invalid network format: blobs/commitments length mismatch","fields",t),P(e.length===s.length,"invalid network format: blobs/proofs length mismatch","fields",t),r=[];for(let n=0;n<t[1].length;n++)r.push({data:e[n],commitment:i[n],proof:s[n]});t=t[0]}P(Array.isArray(t)&&(11===t.length||14===t.length),`invalid field count for transaction type: ${n}`,"data",D(e));const i={type:3,chainId:Ba(t[0],"chainId"),nonce:_a(t[1],"nonce"),maxPriorityFeePerGas:Ba(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Ba(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ba(t[4],"gasLimit"),to:Ca(t[5]),value:Ba(t[6],"value"),data:D(t[7]),accessList:Ta(t[8],"accessList"),maxFeePerBlobGas:Ba(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};r&&(i.blobs=r),P(null!=i.to,`invalid address for transaction type: ${n}`,"data",e),P(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let s=0;s<i.blobVersionedHashes.length;s++)P(B(i.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",e);return 11===t.length||Ma(i,t.slice(11)),i}(t));case 4:return Fa.from(function(e){const t=ya(R(e).slice(1));P(Array.isArray(t)&&(10===t.length||13===t.length),"invalid field count for transaction type: 4","data",D(e));const n={type:4,chainId:Ba(t[0],"chainId"),nonce:_a(t[1],"nonce"),maxPriorityFeePerGas:Ba(t[2],"maxPriorityFeePerGas"),maxFeePerGas:Ba(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ba(t[4],"gasLimit"),to:Ca(t[5]),value:Ba(t[6],"value"),data:D(t[7]),accessList:Ta(t[8],"accessList"),authorizationList:Ra(t[9],"authorizationList")};return 10===t.length||Ma(n,t.slice(10)),n}(t))}k(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Fa;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=pr.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.authorizationList&&(t.authorizationList=e.authorizationList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(t.kzg=e.kzg),null!=e.blobs&&(t.blobs=e.blobs),null!=e.hash&&(P(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),P(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(P(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),P(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}const za="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const ja=BigInt(58);function Va(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):P(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}class Ha{name;constructor(e){E(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const qa=new RegExp("^(ipfs)://(.*)$","i"),$a=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),qa,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class Ga{provider;address;name;#Ee;#Ae;constructor(e,t,n){E(this,{provider:e,address:t,name:n}),this.#Ee=null,this.#Ae=new Si(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return null==this.#Ee&&(this.#Ee=(async()=>{try{return await this.#Ae.supportsInterface("0x9061b923")}catch(e){if(x(e,"CALL_EXCEPTION"))return!1;throw this.#Ee=null,e}})()),await this.#Ee}async#xe(e,t){t=(t||[]).slice();const n=this.#Ae.interface;t.unshift(Us(this.name));let r=null;await this.supportsWildcard()&&(r=n.getFunction(e),k(r,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[Ls(this.name,255),n.encodeFunctionData(r,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const i=await this.#Ae[e](...t);return r?n.decodeFunctionResult(r,i)[0]:i}catch(i){if(!x(i,"CALL_EXCEPTION"))throw i}return null}async getAddress(e){if(null==e&&(e=60),60===e)try{const e=await this.#xe("addr(bytes32)");return null==e||e===Cr?null:e}catch(i){if(x(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let t=e+2147483648;const n=await this.#xe("addr(bytes32,uint)",[t]);if(B(n,20))return ft(n)}let t=null;for(const s of this.provider.plugins)if(s instanceof Ha&&s.supportsCoinType(e)){t=s;break}if(null==t)return null;const n=await this.#xe("addr(bytes32,uint)",[e]);if(null==n||"0x"===n)return null;const r=await t.decodeAddress(e,n);if(null!=r)return r;k(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const t=await this.#xe("text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){const e=await this.#xe("contenthash(bytes32)");if(null==e||"0x"===e)return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e="e3010170"===t[1]?"ipfs":"ipns",n=parseInt(t[4],16);if(t[5].length===2*n)return`${e}://${function(e){const t=R(e);let n=Z(t),r="";for(;n;)r=za[Number(n%ja)]+r,n/=ja;for(let i=0;i<t.length&&!t[i];i++)r=za[0]+r;return r}("0x"+t[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return`bzz://${n[1]}`;k(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(null==n)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<$a.length;r++){const i=n.match($a[r]);if(null==i)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const t=Va(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:t}),{linkage:e,url:t}}case"erc721":case"erc1155":{const r="erc721"===s?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});const o=await this.getAddress();if(null==o)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const a=(i[2]||"").split("/");if(2!==a.length)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const l=a[1],c=new Si(a[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===s){const t=await c.ownerOf(l);if(o!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===s){const t=await c.balanceOf(o,l);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let u=await c[r](l);if(null==u||"0x"===u)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:u}),"erc1155"===s&&(u=u.replace("{id}",ee(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:u})),u.match(/^ipfs:/i)&&(u=Va(u)),e.push({type:"metadata-url",value:u});let h={};const f=await new Pr(u).send();f.assertOk();try{h=f.bodyJson}catch(t){try{e.push({type:"!metadata",value:f.bodyText})}catch(t){const n=f.body;return n&&e.push({type:"!metadata",value:D(n)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let d=h.image;if("string"!==typeof d)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(d.match(/^(https:\/\/|data:)/i));else{if(null==d.match(qa))return e.push({type:"!imageUrl-ipfs",value:d}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:d}),d=Va(d)}return e.push({type:"url",value:d}),{linkage:e,url:d}}}}}catch(t){}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return k(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async#Se(e,t){const n=await Ga.getEnsAddress(e);try{const r=new Si(n,["function resolver(bytes32) view returns (address)"],e),i=await r.resolver(Us(t),{enableCcipRead:!0});return i===Cr?null:i}catch(r){throw r}}static async fromName(e,t){let n=t;for(;;){if(""===n||"."===n)return null;if("eth"!==t&&"eth"===n)return null;const r=await Ga.#Se(e,n);if(null!=r){const i=new Ga(e,r,t);return n===t||await i.supportsWildcard()?i:null}n=n.split(".").slice(1).join(".")}}}const Ka=BigInt(0);function Qa(e,t){return function(n){return null==n?t:e(n)}}function Wa(e,t){return n=>{if(t&&null==n)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(t=>e(t))}}function Ja(e,t){return n=>{const r={};for(const s in e){let o=s;if(t&&s in t&&!(o in n))for(const e of t[s])if(e in n){o=e;break}try{const t=e[s](n[o]);void 0!==t&&(r[s]=t)}catch(i){k(!1,`invalid value for value.${s} (${i instanceof Error?i.message:"not-an-error"})`,"BAD_DATA",{value:n})}}return r}}function Ya(e){return P(B(e,!0),"invalid data","value",e),e}function Za(e){return P(B(e,32),"invalid hash","value",e),e}const Xa=Ja({address:ft,blockHash:Za,blockNumber:X,data:Ya,index:X,removed:Qa(function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}P(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)},!1),topics:Wa(Za),transactionHash:Za,transactionIndex:X},{index:["logIndex"]});const el=Ja({hash:Qa(Za),parentHash:Za,parentBeaconBlockRoot:Qa(Za,null),number:X,timestamp:X,nonce:Qa(Ya),difficulty:W,gasLimit:W,gasUsed:W,stateRoot:Qa(Za,null),receiptsRoot:Qa(Za,null),blobGasUsed:Qa(W,null),excessBlobGas:Qa(W,null),miner:Qa(ft),prevRandao:Qa(Za,null),extraData:Ya,baseFeePerGas:Qa(W)},{prevRandao:["mixHash"]});const tl=Ja({transactionIndex:X,blockNumber:X,transactionHash:Za,address:ft,topics:Wa(Za),data:Ya,index:X,blockHash:Za},{index:["logIndex"]});const nl=Ja({to:Qa(ft,null),from:Qa(ft,null),contractAddress:Qa(ft,null),index:X,root:Qa(D),gasUsed:W,blobGasUsed:Qa(W,null),logsBloom:Qa(Ya),blockHash:Za,hash:Za,logs:Wa(function(e){return tl(e)}),blockNumber:X,cumulativeGasUsed:W,effectiveGasPrice:Qa(W),blobGasPrice:Qa(W,null),status:Qa(X),type:Qa(X,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function rl(e){e.to&&W(e.to)===Ka&&(e.to="0x0000000000000000000000000000000000000000");const t=Ja({hash:Za,index:Qa(X,void 0),type:e=>"0x"===e||null==e?0:X(e),accessList:Qa(ir,null),blobVersionedHashes:Qa(Wa(Za,!0),null),authorizationList:Qa(Wa(e=>{let t;if(e.signature)t=e.signature;else{let n=e.yParity;"0x1b"===n?n=0:"0x1c"===n&&(n=1),t=Object.assign({},e,{yParity:n})}return{address:ft(e.address),chainId:W(e.chainId),nonce:W(e.nonce),signature:pr.from(t)}},!1),null),blockHash:Qa(Za,null),blockNumber:Qa(X,null),transactionIndex:Qa(X,null),from:ft,gasPrice:Qa(W),maxPriorityFeePerGas:Qa(W),maxFeePerGas:Qa(W),maxFeePerBlobGas:Qa(W,null),gasLimit:W,to:Qa(ft,null),value:W,nonce:X,data:Ya,creates:Qa(ft,null),chainId:Qa(W,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==t.to&&null==t.creates&&(t.creates=function(e){const t=ft(e.from);let n=W(e.nonce,"tx.nonce").toString(16);return n="0"===n?"0x":n.length%2?"0x0"+n:"0x"+n,ft(z(st(va([t,n])),12))}(t)),1!==e.type&&2!==e.type||null!=e.accessList||(t.accessList=[]),e.signature?t.signature=pr.from(e.signature):t.signature=pr.from(e),null==t.chainId){const e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&W(t.blockHash)===Ka&&(t.blockHash=null),t}class il{name;constructor(e){E(this,{name:e})}clone(){return new il(this.name)}}class sl extends il{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){null==e&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const n={effectiveBlock:e};function r(e,r){let i=(t||{})[e];null==i&&(i=r),P("number"===typeof i,`invalud value for ${e}`,"costs",t),n[e]=i}r("txBase",21e3),r("txCreate",32e3),r("txDataZero",4),r("txDataNonzero",16),r("txAccessListStorageKey",1900),r("txAccessListAddress",2400),E(this,n)}clone(){return new sl(this.effectiveBlock,this)}}class ol extends il{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),E(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new ol(this.address,this.targetNetwork)}}class al extends il{#C;#Ie;get url(){return this.#C}get processFunc(){return this.#Ie}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#C=e,this.#Ie=t}clone(){return this}}const ll=new Map;class cl{#ke;#fe;#Pe;constructor(e,t){this.#ke=e,this.#fe=W(t),this.#Pe=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#ke}set name(e){this.#ke=e}get chainId(){return this.#fe}set chainId(e){this.#fe=W(e,"chainId")}matches(e){if(null==e)return!1;if("string"===typeof e){try{return this.chainId===W(e)}catch(t){}return this.name===e}if("number"===typeof e||"bigint"===typeof e){try{return this.chainId===W(e)}catch(t){}return!1}if("object"===typeof e){if(null!=e.chainId){try{return this.chainId===W(e.chainId)}catch(t){}return!1}return null!=e.name&&this.name===e.name}return!1}get plugins(){return Array.from(this.#Pe.values())}attachPlugin(e){if(this.#Pe.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#Pe.set(e.name,e.clone()),this}getPlugin(e){return this.#Pe.get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){const e=new cl(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new sl;let n=t.txBase;if(null==e.to&&(n+=t.txCreate),e.data)for(let r=2;r<e.data.length;r+=2)"00"===e.data.substring(r,r+2)?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){const r=ir(e.accessList);for(const e in r)n+=t.txAccessListAddress+t.txAccessListStorageKey*r[e].storageKeys.length}return n}static from(e){if(function(){if(fl)return;function e(e,t,n){const r=function(){const r=new cl(e,t);return null!=n.ensNetwork&&r.attachPlugin(new ol(null,n.ensNetwork)),r.attachPlugin(new sl),(n.plugins||[]).forEach(e=>{r.attachPlugin(e)}),r};cl.register(e,r),cl.register(t,r),n.altNames&&n.altNames.forEach(e=>{cl.register(e,r)})}fl=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[hl("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[hl("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1})}(),null==e)return cl.from("mainnet");if("number"===typeof e&&(e=BigInt(e)),"string"===typeof e||"bigint"===typeof e){const t=ll.get(e);if(t)return t();if("bigint"===typeof e)return new cl("unknown",e);P(!1,"unknown network","network",e)}if("function"===typeof e.clone){return e.clone()}if("object"===typeof e){P("string"===typeof e.name&&"number"===typeof e.chainId,"invalid network object name or chainId","network",e);const t=new cl(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new ol(e.ensAddress,e.ensNetwork)),t}P(!1,"invalid network","network",e)}static register(e,t){"number"===typeof e&&(e=BigInt(e));const n=ll.get(e);n&&P(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),ll.set(e,t)}}function ul(e,t){const n=String(e);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${e}`);const r=n.split(".");if(1===r.length&&r.push(""),2!==r.length)throw new Error(`invalid gwei value: ${e}`);for(;r[1].length<t;)r[1]+="0";if(r[1].length>9){let e=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||e++,r[1]=e.toString()}return BigInt(r[0]+r[1])}function hl(e){return new al(e,async(e,t,n)=>{let r;n.setHeader("User-Agent","ethers");try{const[t,i]=await Promise.all([n.send(),e()]);r=t;const s=r.bodyJson.standard;return{gasPrice:i.gasPrice,maxFeePerGas:ul(s.maxFee,9),maxPriorityFeePerGas:ul(s.maxPriorityFee,9)}}catch(i){k(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:r,error:i})}})}let fl=!1;function dl(e){return JSON.parse(JSON.stringify(e))}class pl{#Oe;#Ne;#Ce;#Te;constructor(e){this.#Oe=e,this.#Ne=null,this.#Ce=4e3,this.#Te=-2}get pollingInterval(){return this.#Ce}set pollingInterval(e){this.#Ce=e}async#Re(){try{const e=await this.#Oe.getBlockNumber();if(-2===this.#Te)return void(this.#Te=e);if(e!==this.#Te){for(let t=this.#Te+1;t<=e;t++){if(null==this.#Ne)return;await this.#Oe.emit("block",t)}this.#Te=e}}catch(e){}null!=this.#Ne&&(this.#Ne=this.#Oe._setTimeout(this.#Re.bind(this),this.#Ce))}start(){this.#Ne||(this.#Ne=this.#Oe._setTimeout(this.#Re.bind(this),this.#Ce),this.#Re())}stop(){this.#Ne&&(this.#Oe._clearTimeout(this.#Ne),this.#Ne=null)}pause(e){this.stop(),e&&(this.#Te=-2)}resume(){this.start()}}class gl{#Oe;#Re;#_e;constructor(e){this.#Oe=e,this.#_e=!1,this.#Re=e=>{this._poll(e,this.#Oe)}}async _poll(e,t){throw new Error("sub-classes must override this")}start(){this.#_e||(this.#_e=!0,this.#Re(-2),this.#Oe.on("block",this.#Re))}stop(){this.#_e&&(this.#_e=!1,this.#Oe.off("block",this.#Re))}pause(e){this.stop()}resume(){this.start()}}class yl extends gl{#Be;#Ue;constructor(e,t){super(e),this.#Be=t,this.#Ue=-2}pause(e){e&&(this.#Ue=-2),super.pause(e)}async _poll(e,t){const n=await t.getBlock(this.#Be);null!=n&&(-2===this.#Ue?this.#Ue=n.number:n.number>this.#Ue&&(t.emit(this.#Be,n.number),this.#Ue=n.number))}}class ml extends gl{#ne;constructor(e,t){super(e),this.#ne=dl(t)}async _poll(e,t){throw new Error("@TODO")}}class wl extends gl{#Le;constructor(e,t){super(e),this.#Le=t}async _poll(e,t){const n=await t.getTransactionReceipt(this.#Le);n&&t.emit(this.#Le,n)}}class bl{#Oe;#ne;#Ne;#_e;#Te;constructor(e,t){this.#Oe=e,this.#ne=dl(t),this.#Ne=this.#Re.bind(this),this.#_e=!1,this.#Te=-2}async#Re(e){if(-2===this.#Te)return;const t=dl(this.#ne);t.fromBlock=this.#Te+1,t.toBlock=e;const n=await this.#Oe.getLogs(t);if(0!==n.length)for(const r of n)this.#Oe.emit(this.#ne,r),this.#Te=r.blockNumber;else this.#Te<e-60&&(this.#Te=e-60)}start(){this.#_e||(this.#_e=!0,-2===this.#Te&&this.#Oe.getBlockNumber().then(e=>{this.#Te=e}),this.#Oe.on("block",this.#Ne))}stop(){this.#_e&&(this.#_e=!1,this.#Oe.off("block",this.#Ne))}pause(e){this.stop(),e&&(this.#Te=-2)}resume(){this.start()}}const vl=BigInt(2);function El(e){return e&&"function"===typeof e.then}function Al(e,t){return e+":"+JSON.stringify(t,(e,t)=>{if(null==t)return"null";if("bigint"===typeof t)return`bigint:${t.toString()}`;if("string"===typeof t)return t.toLowerCase();if("object"===typeof t&&!Array.isArray(t)){const e=Object.keys(t);return e.sort(),e.reduce((e,n)=>(e[n]=t[n],e),{})}return t})}class xl{name;constructor(e){E(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function Sl(e){return(e=Array.from(new Set(e).values())).sort(),e}async function Il(e,t){if(null==e)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"===typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if(B(e,32)){const t=e.toLowerCase();return{type:"transaction",tag:Al("tx",{hash:t}),hash:t}}if(e.orphan){const t=e;return{type:"orphan",tag:Al("orphan",t),filter:(n=t,JSON.parse(JSON.stringify(n)))}}var n;if(e.address||e.topics){const n=e,r={topics:(n.topics||[]).map(e=>null==e?null:Array.isArray(e)?Sl(e.map(e=>e.toLowerCase())):e.toLowerCase())};if(n.address){const e=[],i=[],s=n=>{B(n)?e.push(n):i.push((async()=>{e.push(await jn(n,t))})())};Array.isArray(n.address)?n.address.forEach(s):s(n.address),i.length&&await Promise.all(i),r.address=Sl(e.map(e=>e.toLowerCase()))}return{filter:r,tag:Al("event",r),type:"event"}}P(!1,"unknown ProviderEvent","event",e)}function kl(){return(new Date).getTime()}const Pl={cacheTimeout:250,pollingInterval:4e3};class Ol{#De;#Pe;#Me;#Fe;#ze;#je;#Ve;#He;#qe;#$e;#Ge;#u;constructor(e,t){if(this.#u=Object.assign({},Pl,t||{}),"any"===e)this.#je=!0,this.#ze=null;else if(e){const t=cl.from(e);this.#je=!1,this.#ze=Promise.resolve(t),setTimeout(()=>{this.emit("network",t,null)},0)}else this.#je=!1,this.#ze=null;this.#He=-1,this.#Ve=new Map,this.#De=new Map,this.#Pe=new Map,this.#Me=null,this.#Fe=!1,this.#qe=1,this.#$e=new Map,this.#Ge=!1}get pollingInterval(){return this.#u.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#Pe.values())}attachPlugin(e){if(this.#Pe.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#Pe.set(e.name,e.connect(this)),this}getPlugin(e){return this.#Pe.get(e)||null}get disableCcipRead(){return this.#Ge}set disableCcipRead(e){this.#Ge=!!e}async#Ke(e){const t=this.#u.cacheTimeout;if(t<0)return await this._perform(e);const n=Al(e.method,e);let r=this.#Ve.get(n);return r||(r=this._perform(e),this.#Ve.set(n,r),setTimeout(()=>{this.#Ve.get(n)===r&&this.#Ve.delete(n)},t)),await r}async ccipReadFetch(e,t,n){if(this.disableCcipRead||0===n.length||null==e.to)return null;const r=e.to.toLowerCase(),i=t.toLowerCase(),s=[];for(let a=0;a<n.length;a++){const t=n[a],l=t.replace("{sender}",r).replace("{data}",i),c=new Pr(l);-1===t.indexOf("{data}")&&(c.body={data:i,sender:r}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:c,index:a,urls:n});let u,h="unknown error";try{u=await c.send()}catch(o){s.push(o.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:c,result:{error:o}});continue}try{const e=u.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:c,result:e}),e.data;e.message&&(h=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:c,result:e})}catch(o){}k(u.statusCode<400||u.statusCode>=500,`response not found during CCIP fetch: ${h}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:t,errorMessage:h}}),s.push(h)}k(!1,`error encountered during CCIP fetch: ${s.map(e=>JSON.stringify(e)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:s}})}_wrapBlock(e,t){return new Hr(function(e){const t=el(e);return t.transactions=e.transactions.map(e=>"string"===typeof e?e:rl(e)),t}(e),this)}_wrapLog(e,t){return new qr(function(e){return Xa(e)}(e),this)}_wrapTransactionReceipt(e,t){return new $r(function(e){return nl(e)}(e),this)}_wrapTransactionResponse(e,t){return new Gr(rl(e),this)}_detectNetwork(){k(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){k(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=X(await this.#Ke({method:"getBlockNumber"}),"%response");return this.#He>=0&&(this.#He=e),e}_getAddress(e){return jn(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return B(e)?B(e,32)?e:ne(e):("bigint"===typeof e&&(e=X(e,"blockTag")),"number"===typeof e?e>=0?ne(e):this.#He>=0?ne(this.#He+e):this.getBlockNumber().then(t=>ne(t+e)):void P(!1,"invalid blockTag","blockTag",e))}_getFilter(e){const t=(e.topics||[]).map(e=>null==e?null:Array.isArray(e)?Sl(e.map(e=>e.toLowerCase())):e.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,r=(e,r,i)=>{let s;switch(e.length){case 0:break;case 1:s=e[0];break;default:e.sort(),s=e}if(n&&(null!=r||null!=i))throw new Error("invalid filter");const o={};return s&&(o.address=s),t.length&&(o.topics=t),r&&(o.fromBlock=r),i&&(o.toBlock=i),n&&(o.blockHash=n),o};let i,s,o=[];if(e.address)if(Array.isArray(e.address))for(const a of e.address)o.push(this._getAddress(a));else o.push(this._getAddress(e.address));return"fromBlock"in e&&(i=this._getBlockTag(e.fromBlock)),"toBlock"in e&&(s=this._getBlockTag(e.toBlock)),o.filter(e=>"string"!==typeof e).length||null!=i&&"string"!==typeof i||null!=s&&"string"!==typeof s?Promise.all([Promise.all(o),i,s]).then(e=>r(e[0],e[1],e[2])):r(o,i,s)}_getTransactionRequest(e){const t=Vr(e),n=[];if(["to","from"].forEach(e=>{if(null==t[e])return;const r=jn(t[e],this);El(r)?n.push(async function(){t[e]=await r}()):t[e]=r}),null!=t.blockTag){const e=this._getBlockTag(t.blockTag);El(e)?n.push(async function(){t.blockTag=await e}()):t.blockTag=e}return n.length?async function(){return await Promise.all(n),t}():t}async getNetwork(){if(null==this.#ze){const e=(async()=>{try{const e=await this._detectNetwork();return this.emit("network",e,null),e}catch(t){throw this.#ze===e&&(this.#ze=null),t}})();return this.#ze=e,(await e).clone()}const e=this.#ze,[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(this.#je?(this.emit("network",n,t),this.#ze===e&&(this.#ze=Promise.resolve(n))):k(!1,`network changed: ${t.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:t,gasPrice:n,priorityFee:r}=await v({_block:this.#Qe("latest",!1),gasPrice:(async()=>{try{return W(await this.#Ke({method:"getGasPrice"}),"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{return W(await this.#Ke({method:"getPriorityFee"}),"%response")}catch(e){}return null})()});let i=null,s=null;const o=this._wrapBlock(t,e);return o&&o.baseFeePerGas&&(s=null!=r?r:BigInt("1000000000"),i=o.baseFeePerGas*vl+s),new jr(n,i,s)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const e=new Pr(n.url),r=await n.processFunc(t,this,e);return new jr(r.gasPrice,r.maxFeePerGas,r.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return El(t)&&(t=await t),W(await this.#Ke({method:"estimateGas",transaction:t}),"%response")}async#We(e,t,n){k(n<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const r=Vr(e);try{return D(await this._perform({method:"call",transaction:r,blockTag:t}))}catch(i){if(!this.disableCcipRead&&S(i)&&i.data&&n>=0&&"latest"===t&&null!=r.to&&"0x556f1830"===z(i.data,0,4)){const e=i.data,s=await jn(r.to,this);let o;try{o=function(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};k(F(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=z(e,0,32);k(z(n,0,12)===z(Ul,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=z(n,12);try{const n=[],r=X(z(e,32,64)),i=X(z(e,r,r+32)),s=z(e,r+32);for(let e=0;e<i;e++){const t=Nl(s,32*e);if(null==t)throw new Error("abort");n.push(t)}t.urls=n}catch(i){k(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=Cl(e,64);if(null==n)throw new Error("abort");t.calldata=n}catch(i){k(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}k(z(e,100,128)===z(Ul,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=z(e,96,100);try{const n=Cl(e,128);if(null==n)throw new Error("abort");t.extraData=n}catch(i){k(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(e=>t[e]),t}(z(i.data,4))}catch(i){k(!1,i.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:r,info:{data:e}})}k(o.sender.toLowerCase()===s.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:e,reason:"OffchainLookup",transaction:r,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:o.errorArgs}});const a=await this.ccipReadFetch(r,o.calldata,o.urls);k(null!=a,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:r,info:{data:i.data,errorArgs:o.errorArgs}});const l={to:s,data:M([o.selector,Bl([a,o.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:l});try{const e=await this.#We(l,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},l),result:e}),e}catch(i){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},l),error:i}),i}}throw i}}async#Je(e){const{value:t}=await v({network:this.getNetwork(),value:e});return t}async call(e){const{tx:t,blockTag:n}=await v({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#Je(this.#We(t,n,e.enableCcipRead?0:-1))}async#Ye(e,t,n){let r=this._getAddress(t),i=this._getBlockTag(n);return"string"===typeof r&&"string"===typeof i||([r,i]=await Promise.all([r,i])),await this.#Je(this.#Ke(Object.assign(e,{address:r,blockTag:i})))}async getBalance(e,t){return W(await this.#Ye({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return X(await this.#Ye({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return D(await this.#Ye({method:"getCode"},e,t))}async getStorage(e,t,n){const r=W(t,"position");return D(await this.#Ye({method:"getStorage",position:r},e,n))}async broadcastTransaction(e){const{blockNumber:t,hash:n,network:r}=await v({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=Fa.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,r).replaceableTransaction(t)}async#Qe(e,t){if(B(e,32))return await this.#Ke({method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return"string"!==typeof n&&(n=await n),await this.#Ke({method:"getBlock",blockTag:n,includeTransactions:t})}async getBlock(e,t){const{network:n,params:r}=await v({network:this.getNetwork(),params:this.#Qe(e,!!t)});return null==r?null:this._wrapBlock(r,n)}async getTransaction(e){const{network:t,params:n}=await v({network:this.getNetwork(),params:this.#Ke({method:"getTransaction",hash:e})});return null==n?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){const{network:t,params:n}=await v({network:this.getNetwork(),params:this.#Ke({method:"getTransactionReceipt",hash:e})});if(null==n)return null;if(null==n.gasPrice&&null==n.effectiveGasPrice){const t=await this.#Ke({method:"getTransaction",hash:e});if(null==t)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){const{result:t}=await v({network:this.getNetwork(),result:this.#Ke({method:"getTransactionResult",hash:e})});return null==t?null:D(t)}async getLogs(e){let t=this._getFilter(e);El(t)&&(t=await t);const{network:n,params:r}=await v({network:this.getNetwork(),params:this.#Ke({method:"getLogs",filter:t})});return r.map(e=>this._wrapLog(e,n))}_getProvider(e){k(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Ga.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){const t=Us((e=ft(e)).substring(2).toLowerCase()+".addr.reverse");try{const n=await Ga.getEnsAddress(this),r=new Si(n,["function resolver(bytes32) view returns (address)"],this),i=await r.resolver(t);if(null==i||i===Cr)return null;const s=new Si(i,["function name(bytes32) view returns (string)"],this),o=await s.name(t);return await this.resolveName(o)!==e?null:o}catch(n){if(x(n,"BAD_DATA")&&"0x"===n.value)return null;if(x(n,"CALL_EXCEPTION"))return null;throw n}}async waitForTransaction(e,t,n){const r=null!=t?t:1;return 0===r?this.getTransactionReceipt(e):new Promise(async(t,i)=>{let s=null;const o=async n=>{try{const i=await this.getTransactionReceipt(e);if(null!=i&&n-i.blockNumber+1>=r)return t(i),void(s&&(clearTimeout(s),s=null))}catch(i){console.log("EEE",i)}this.once("block",o)};null!=n&&(s=setTimeout(()=>{null!=s&&(s=null,this.off("block",o),i(I("timeout","TIMEOUT",{reason:"timeout"})))},n)),o(await this.getBlockNumber())})}async waitForBlock(e){k(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=this.#$e.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#$e.delete(e))}_setTimeout(e,t){null==t&&(t=0);const n=this.#qe++,r=()=>{this.#$e.delete(n),e()};if(this.paused)this.#$e.set(n,{timer:null,func:r,time:t});else{const e=setTimeout(r,t);this.#$e.set(n,{timer:e,func:r,time:kl()})}return n}_forEachSubscriber(e){for(const t of this.#De.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new xl(e.type);case"block":{const e=new pl(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new yl(this,e.type);case"event":return new bl(this,e.filter);case"transaction":return new wl(this,e.hash);case"orphan":return new ml(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const n of this.#De.values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),null!=this.#Me&&t.pause(this.#Me);break}}async#Ze(e,t){let n=await Il(e,this);return"event"===n.type&&t&&t.length>0&&!0===t[0].removed&&(n=await Il({orphan:"drop-log",log:t[0]},this)),this.#De.get(n.tag)||null}async#Xe(e){const t=await Il(e,this),n=t.tag;let r=this.#De.get(n);if(!r){r={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#De.set(n,r)}return r}async on(e,t){const n=await this.#Xe(e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,null!=this.#Me&&n.subscriber.pause(this.#Me)),this}async once(e,t){const n=await this.#Xe(e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,null!=this.#Me&&n.subscriber.pause(this.#Me)),this}async emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=await this.#Ze(e,n);if(!i||0===i.listeners.length)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(t=>{let{listener:r,once:i}=t;const s=new Wr(this,i?null:r,e);try{r.call(this,...n,s)}catch(o){}return!i}),0===i.listeners.length&&(i.started&&i.subscriber.stop(),this.#De.delete(i.tag)),s>0}async listenerCount(e){if(e){const t=await this.#Ze(e);return t?t.listeners.length:0}let t=0;for(const{listeners:n}of this.#De.values())t+=n.length;return t}async listeners(e){if(e){const t=await this.#Ze(e);return t?t.listeners.map(e=>{let{listener:t}=e;return t}):[]}let t=[];for(const{listeners:n}of this.#De.values())t=t.concat(n.map(e=>{let{listener:t}=e;return t}));return t}async off(e,t){const n=await this.#Ze(e);if(!n)return this;if(t){const e=n.listeners.map(e=>{let{listener:t}=e;return t}).indexOf(t);e>=0&&n.listeners.splice(e,1)}return t&&0!==n.listeners.length||(n.started&&n.subscriber.stop(),this.#De.delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:n,subscriber:r}=await this.#Xe(e);n&&r.stop(),this.#De.delete(t)}else for(const[t,{started:n,subscriber:r}]of this.#De)n&&r.stop(),this.#De.delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#Fe}destroy(){this.removeAllListeners();for(const e of this.#$e.keys())this._clearTimeout(e);this.#Fe=!0}get paused(){return null!=this.#Me}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#He=-1,null!=this.#Me){if(this.#Me==!!e)return;k(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),this.#Me=!!e;for(const t of this.#$e.values())t.timer&&clearTimeout(t.timer),t.time=kl()-t.time}resume(){if(null!=this.#Me){this._forEachSubscriber(e=>e.resume()),this.#Me=null;for(const e of this.#$e.values()){let t=e.time;t<0&&(t=0),e.time=kl(),setTimeout(e.func,t)}}}}function Nl(e,t){try{const n=Cl(e,t);if(n)return Dt(n)}catch(n){}return null}function Cl(e,t){if("0x"===e)return null;try{const n=X(z(e,t,t+32)),r=X(z(e,n,n+32));return z(e,n+32,n+32+r)}catch(n){}return null}function Tl(e){const t=te(e);if(t.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(t,32-t.length),n}function Rl(e){if(e.length%32===0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}const _l=new Uint8Array([]);function Bl(e){const t=[];let n=0;for(let r=0;r<e.length;r++)t.push(_l),n+=32;for(let r=0;r<e.length;r++){const i=R(e[r]);t[r]=Tl(n),t.push(Tl(i.length)),t.push(Rl(i)),n+=32+32*Math.ceil(i.length/32)}return M(t)}const Ul="0x0000000000000000000000000000000000000000000000000000000000000000";function Ll(e,t){if(e.provider)return e.provider;k(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function Dl(e,t){let n=Vr(t);if(null!=n.to&&(n.to=jn(n.to,e)),null!=n.from){const t=n.from;n.from=Promise.all([e.getAddress(),jn(t,e)]).then(e=>{let[t,n]=e;return P(t.toLowerCase()===n.toLowerCase(),"transaction from mismatch","tx.from",n),t})}else n.from=e.getAddress();return await v(n)}class Ml{provider;constructor(e){E(this,{provider:e||null})}async getNonce(e){return Ll(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Dl(this,e)}async populateTransaction(e){const t=Ll(this,"populateTransaction"),n=await Dl(this,e);null==n.nonce&&(n.nonce=await this.getNonce("pending")),null==n.gasLimit&&(n.gasLimit=await this.estimateGas(n));const r=await this.provider.getNetwork();if(null!=n.chainId){P(W(n.chainId)===r.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=r.chainId;const i=null!=n.maxFeePerGas||null!=n.maxPriorityFeePerGas;if(null==n.gasPrice||2!==n.type&&!i?0!==n.type&&1!==n.type||!i||P(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):P(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==n.type&&null!=n.type||null==n.maxFeePerGas||null==n.maxPriorityFeePerGas)if(0===n.type||1===n.type){const e=await t.getFeeData();k(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice)}else{const e=await t.getFeeData();if(null==n.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,null!=n.gasPrice){const e=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=e,n.maxPriorityFeePerGas=e}else null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(k(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==n.gasPrice&&(n.gasPrice=e.gasPrice),n.type=0):k(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2!==n.type&&3!==n.type&&4!==n.type||(null==n.maxFeePerGas&&(n.maxFeePerGas=e.maxFeePerGas),null==n.maxPriorityFeePerGas&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else n.type=2;return await v(n)}async populateAuthorization(e){const t=Object.assign({},e);return null==t.chainId&&(t.chainId=(await Ll(this,"getNetwork").getNetwork()).chainId),null==t.nonce&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return Ll(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Ll(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=Ll(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const t=Ll(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const r=Fa.from(n);return await t.broadcastTransaction(await this.signTransaction(r))}authorize(e){k(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}class Fl{#Oe;#et;#Ne;#_e;#tt;#nt;constructor(e){this.#Oe=e,this.#et=null,this.#Ne=this.#Re.bind(this),this.#_e=!1,this.#tt=null,this.#nt=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#Re(e){try{null==this.#et&&(this.#et=this._subscribe(this.#Oe));let e=null;try{e=await this.#et}catch(t){if(!x(t,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==t.operation)throw t}if(null==e)return this.#et=null,void this.#Oe._recoverSubscriber(this,this._recover(this.#Oe));const n=await this.#Oe.getNetwork();if(this.#tt||(this.#tt=n),this.#tt.chainId!==n.chainId)throw new Error("chaid changed");if(this.#nt)return;const r=await this.#Oe.send("eth_getFilterChanges",[e]);await this._emitResults(this.#Oe,r)}catch(t){console.log("@TODO",t)}this.#Oe.once("block",this.#Ne)}#rt(){const e=this.#et;e&&(this.#et=null,e.then(e=>{this.#Oe.destroyed||this.#Oe.send("eth_uninstallFilter",[e])}))}start(){this.#_e||(this.#_e=!0,this.#Re(-2))}stop(){this.#_e&&(this.#_e=!1,this.#nt=!0,this.#rt(),this.#Oe.off("block",this.#Ne))}pause(e){e&&this.#rt(),this.#Oe.off("block",this.#Ne)}resume(){this.start()}}class zl extends Fl{#it;constructor(e,t){var n;super(e),this.#it=(n=t,JSON.parse(JSON.stringify(n)))}_recover(e){return new bl(e,this.#it)}async _subscribe(e){return await e.send("eth_newFilter",[this.#it])}async _emitResults(e,t){for(const n of t)e.emit(this.#it,e._wrapLog(n,e._network))}}class jl extends Fl{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const n of t)e.emit("pending",n)}}const Vl="bigint,boolean,function,number,string,symbol".split(/,/g);function Hl(e){if(null==e||Vl.indexOf(typeof e)>=0)return e;if("function"===typeof e.getAddress)return e;if(Array.isArray(e))return e.map(Hl);if("object"===typeof e)return Object.keys(e).reduce((t,n)=>(t[n]=e[n],t),{});throw new Error(`should not happen: ${e} (${typeof e})`)}function ql(e){return new Promise(t=>{setTimeout(t,e)})}function $l(e){return e?e.toLowerCase():e}function Gl(e){return e&&"number"===typeof e.pollingInterval}const Kl={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Ql extends Ml{address;constructor(e,t){super(e),E(this,{address:t=ft(t)})}connect(e){k(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=Hl(e),n=[];if(t.from){const r=t.from;n.push((async()=>{const n=await jn(r,this.provider);P(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n})())}else t.from=this.address;if(null==t.gasLimit&&n.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),null!=t.to){const e=t.to;n.push((async()=>{t.to=await jn(e,this.provider)})())}n.length&&await Promise.all(n);const r=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[r])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise((e,r)=>{const i=[1e3,100];let s=0;const o=async()=>{try{const r=await this.provider.getTransaction(n);if(null!=r)return void e(r.replaceableTransaction(t))}catch(a){if(x(a,"CANCELLED")||x(a,"BAD_DATA")||x(a,"NETWORK_ERROR")||x(a,"UNSUPPORTED_OPERATION"))return null==a.info&&(a.info={}),a.info.sendTransactionHash=n,void r(a);if(x(a,"INVALID_ARGUMENT")&&(s++,null==a.info&&(a.info={}),a.info.sendTransactionHash=n,s>10))return void r(a);this.provider.emit("error",I("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:a}))}this.provider._setTimeout(()=>{o()},i.pop()||4e3)};o()})}async signTransaction(e){const t=Hl(e);if(t.from){const n=await jn(t.from,this.provider);P(null!=n&&n.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=n}else t.from=this.address;const n=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){const t="string"===typeof e?Lt(e):e;return await this.provider.send("personal_sign",[D(t),this.address.toLowerCase()])}async signTypedData(e,t,n){const r=Hl(n),i=await nr.resolveNames(e,t,r,async e=>{const t=await jn(e);return P(null!=t,"TypedData does not support null address","value",e),t});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(nr.getPayload(i.domain,t,i.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t="string"===typeof e?Lt(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),D(t)])}}class Wl extends Ol{#u;#st;#ot;#at;#lt;#tt;#ct;#ut(){if(this.#at)return;const e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#at=setTimeout(()=>{this.#at=null;const e=this.#ot;for(this.#ot=[];e.length;){const t=[e.shift()];for(;e.length&&t.length!==this.#u.batchMaxCount;){t.push(e.shift());const n=JSON.stringify(t.map(e=>e.payload));if(n.length>this.#u.batchMaxSize){e.unshift(t.pop());break}}(async()=>{const e=1===t.length?t[0].payload:t.map(e=>e.payload);this.emit("debug",{action:"sendRpcPayload",payload:e});try{const n=await this._send(e);this.emit("debug",{action:"receiveRpcResult",result:n});for(const{resolve:e,reject:r,payload:i}of t){if(this.destroyed){r(I("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:i.method}));continue}const t=n.filter(e=>e.id===i.id)[0];if(null==t){const e=I("missing response for request","BAD_DATA",{value:n,info:{payload:i}});this.emit("error",e),r(e);continue}"error"in t?r(this.getRpcError(i,t)):e(t.result)}}catch(n){this.emit("debug",{action:"receiveRpcError",error:n});for(const{reject:e}of t)e(n)}})()}},e)}constructor(e,t){super(e,t),this.#st=1,this.#u=Object.assign({},Kl,t||{}),this.#ot=[],this.#at=null,this.#tt=null,this.#ct=null;{let e=null;const t=new Promise(t=>{e=t});this.#lt={promise:t,resolve:e}}const n=this._getOption("staticNetwork");"boolean"===typeof n?(P(!n||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),n&&null!=e&&(this.#tt=cl.from(e))):n&&(P(null==e||n.matches(e),"staticNetwork MUST match network object","options",t),this.#tt=n)}_getOption(e){return this.#u[e]}get _network(){return k(this.#tt,"network is not available yet","NETWORK_ERROR"),this.#tt}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&W(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const n=await this.getFeeData();null==n.maxFeePerGas&&null==n.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}const t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;if(this.#tt)return this.#tt}return this.#ct?await this.#ct:this.ready?(this.#ct=(async()=>{try{const e=cl.from(W(await this.send("eth_chainId",[])));return this.#ct=null,e}catch(e){throw this.#ct=null,e}})(),await this.#ct):(this.#ct=(async()=>{const e={id:this.#st++,method:"eth_chainId",params:[],jsonrpc:"2.0"};let t;this.emit("debug",{action:"sendRpcPayload",payload:e});try{t=(await this._send(e))[0],this.#ct=null}catch(n){throw this.#ct=null,this.emit("debug",{action:"receiveRpcError",error:n}),n}if(this.emit("debug",{action:"receiveRpcResult",result:t}),"result"in t)return cl.from(W(t.result));throw this.getRpcError(e,t)})(),await this.#ct)}_start(){null!=this.#lt&&null!=this.#lt.resolve&&(this.#lt.resolve(),this.#lt=null,(async()=>{for(;null==this.#tt&&!this.destroyed;)try{this.#tt=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",I("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await ql(1e3)}this.#ut()})())}async _waitUntilReady(){if(null!=this.#lt)return await this.#lt.promise}_getSubscriber(e){return"pending"===e.type?new jl(this):"event"===e.type?this._getOption("polling")?new bl(this,e.filter):new zl(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new xl("orphan"):super._getSubscriber(e)}get ready(){return null==this.#lt}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(n=>{if(null==e[n])return;let r=n;"gasLimit"===n&&(r="gas"),t[r]=ne(W(e[n],`tx.${n}`))}),["from","to","data"].forEach(n=>{null!=e[n]&&(t[n]=D(e[n]))}),e.accessList&&(t.accessList=ir(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map(e=>e.toLowerCase())),e.authorizationList&&(t.authorizationList=e.authorizationList.map(e=>{const t=gr(e);return{address:t.address,nonce:ne(t.nonce),chainId:ne(t.chainId),yParity:ne(t.signature.yParity),r:ne(t.signature.r),s:ne(t.signature.s)}})),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[$l(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[$l(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[$l(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[$l(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map($l):e.filter.address=$l(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:n}=e,{error:r}=t;if("eth_estimateGas"===n&&r.message){const t=r.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return I("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:r}});if(t.match(/nonce/i)&&t.match(/too low/i))return I("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:r}})}if("eth_call"===n||"eth_estimateGas"===n){const t=Yl(r),i=Mn.getBuiltinCallException("eth_call"===n?"call":"estimateGas",e.params[0],t?t.data:null);return i.info={error:r,payload:e},i}const i=JSON.stringify(function(e){const t=[];return Zl(e,t),t}(r));if("string"===typeof r.message&&r.message.match(/user denied|ethers-user-denied/i)){return I("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:r}})}if("eth_sendRawTransaction"===n||"eth_sendTransaction"===n){const t=e.params[0];if(i.match(/insufficient funds|base fee exceeds gas limit/i))return I("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:r}});if(i.match(/nonce/i)&&i.match(/too low/i))return I("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:r}});if(i.match(/replacement transaction/i)&&i.match(/underpriced/i))return I("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:r}});if(i.match(/only replay-protected/i))return I("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:t,info:{error:r}}})}let s=!!i.match(/the method .* does not exist/i);return s||r&&r.details&&r.details.startsWith("Unauthorized method:")&&(s=!0),s?I("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:r,payload:e}}):I("could not coalesce error","UNKNOWN_ERROR",{error:r,payload:e})}send(e,t){if(this.destroyed)return Promise.reject(I("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const n=this.#st++,r=new Promise((r,i)=>{this.#ot.push({resolve:r,reject:i,payload:{method:e,params:t,id:n,jsonrpc:"2.0"}})});return this.#ut(),r}async getSigner(e){null==e&&(e=0);const t=this.send("eth_accounts",[]);if("number"===typeof e){const n=await t;if(e>=n.length)throw new Error("no such account");return new Ql(this,n[e])}const{accounts:n}=await v({network:this.getNetwork(),accounts:t});e=ft(e);for(const r of n)if(ft(r)===e)return new Ql(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(e=>new Ql(this,e))}destroy(){this.#at&&(clearTimeout(this.#at),this.#at=null);for(const{payload:e,reject:t}of this.#ot)t(I("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#ot=[],super.destroy()}}class Jl extends Wl{#ht;constructor(e,t){super(e,t);let n=this._getOption("pollingInterval");null==n&&(n=Kl.pollingInterval),this.#ht=n}_getSubscriber(e){const t=super._getSubscriber(e);return Gl(t)&&(t.pollingInterval=this.#ht),t}get pollingInterval(){return this.#ht}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#ht=e,this._forEachSubscriber(e=>{Gl(e)&&(e.pollingInterval=this.#ht)})}}function Yl(e){if(null==e)return null;if("string"===typeof e.message&&e.message.match(/revert/i)&&B(e.data))return{message:e.message,data:e.data};if("object"===typeof e){for(const t in e){const n=Yl(e[t]);if(n)return n}return null}if("string"===typeof e)try{return Yl(JSON.parse(e))}catch(t){}return null}function Zl(e,t){if(null!=e){if("string"===typeof e.message&&t.push(e.message),"object"===typeof e)for(const n in e)Zl(e[n],t);if("string"===typeof e)try{return Zl(JSON.parse(e),t)}catch(n){}}}class Xl extends Jl{#H;#ft;constructor(e,t,n){const r=Object.assign({},null!=n?n:{},{batchMaxCount:1});P(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,r),this.#ft=null,n&&n.providerInfo&&(this.#ft=n.providerInfo),this.#H=async(t,n)=>{const r={method:t,params:n};this.emit("debug",{action:"sendEip1193Request",payload:r});try{const t=await e.request(r);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(ec){const t=new Error(ec.message);throw t.code=ec.code,t.data=ec.data,t.payload=r,this.emit("debug",{action:"receiveEip1193Error",error:t}),t}}}get providerInfo(){return this.#ft}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){P(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await this.#H(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(ec){return[{id:e.id,error:{code:ec.code,data:ec.data,message:ec.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);const t=await this.send("eth_accounts",[]);return"number"===typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter(t=>t.toLowerCase()===e).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await this.#H("eth_requestAccounts",[])}catch(t){const e=t.payload;throw this.getRpcError(e,{id:e.id,error:t})}return await super.getSigner(e)}static async discover(e){if(null==e&&(e={}),e.provider)return new Xl(e.provider);const t=e.window?e.window:"undefined"!==typeof window?window:null;if(null==t)return null;const n=e.anyProvider;if(n&&t.ethereum)return new Xl(t.ethereum);if(!("addEventListener"in t&&"dispatchEvent"in t&&"removeEventListener"in t))return null;const r=e.timeout?e.timeout:300;return 0===r?null:await new Promise((i,s)=>{let o=[];const a=e=>{o.push(e.detail),n&&l()},l=()=>{if(clearTimeout(c),o.length)if(e&&e.filter){const t=e.filter(o.map(e=>Object.assign({},e.info)));if(null==t)i(null);else if(t instanceof Xl)i(t);else{let e=null;if(t.uuid){const n=o.filter(e=>t.uuid===e.info.uuid);e=n[0]}if(e){const{provider:t,info:n}=e;i(new Xl(t,void 0,{providerInfo:n}))}else s(I("filter returned unknown info","UNSUPPORTED_OPERATION",{value:t}))}}else{const{provider:e,info:t}=o[0];i(new Xl(e,void 0,{providerInfo:t}))}else i(null);t.removeEventListener("eip6963:announceProvider",a)},c=setTimeout(()=>{l()},r);t.addEventListener("eip6963:announceProvider",a),t.dispatchEvent(new Event("eip6963:requestProvider"))})}}let ec={data:""},tc=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||ec,nc=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,rc=/\/\*[^]*?\*\/|  +/g,ic=/\n+/g,sc=(e,t)=>{let n="",r="",i="";for(let s in e){let o=e[s];"@"==s[0]?"i"==s[1]?n=s+" "+o+";":r+="f"==s[1]?sc(o,s):s+"{"+sc(o,"k"==s[1]?"":t)+"}":"object"==typeof o?r+=sc(o,t?t.replace(/([^,])+/g,e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):s):null!=o&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=sc.p?sc.p(s,o):s+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},oc={},ac=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+ac(e[n]);return t}return e},lc=(e,t,n,r,i)=>{let s=ac(e),o=oc[s]||(oc[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!oc[o]){let t=s!==e?e:(e=>{let t,n,r=[{}];for(;t=nc.exec(e.replace(rc,""));)t[4]?r.shift():t[3]?(n=t[3].replace(ic," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(ic," ").trim();return r[0]})(e);oc[o]=sc(i?{["@keyframes "+o]:t}:t,n?"":"."+o)}let a=n&&oc.g?oc.g:null;return n&&(oc.g=oc[o]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(oc[o],t,r,a),o};function cc(e){let t=this||{},n=e.call?e(t.p):e;return lc(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,i)=>{let s=t[i];if(s&&s.call){let e=s(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":sc(e,""):!1===e?"":e}return e+r+(null==s?"":s)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,tc(t.target),t.g,t.o,t.k)}cc.bind({g:1});let uc,hc,fc,dc=cc.bind({k:1});function pc(e,t){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:hc&&hc()},a),n.o=/ *go\d+/.test(l),a.className=cc.apply(n,r)+(l?" "+l:""),t&&(a.ref=o);let c=e;return e[0]&&(c=a.as||e,delete a.as),fc&&c[0]&&fc(a),uc(c,a)}return t?t(i):i}}var gc=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,yc=(()=>{let e=0;return()=>(++e).toString()})(),mc=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),wc=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:n}=t;return wc(e,{type:e.toasts.find(e=>e.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+i}))}}},bc=[],vc={toasts:[],pausedAt:void 0},Ec=e=>{vc=wc(vc,e),bc.forEach(e=>{e(vc)})},Ac={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},xc=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||yc()}}(t,e,n);return Ec({type:2,toast:r}),r.id},Sc=(e,t)=>xc("blank")(e,t);Sc.error=xc("error"),Sc.success=xc("success"),Sc.loading=xc("loading"),Sc.custom=xc("custom"),Sc.dismiss=e=>{Ec({type:3,toastId:e})},Sc.remove=e=>Ec({type:4,toastId:e}),Sc.promise=(e,t,n)=>{let r=Sc.loading(t.loading,{...n,...null==n?void 0:n.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let i=t.success?gc(t.success,e):void 0;return i?Sc.success(i,{id:r,...n,...null==n?void 0:n.success}):Sc.dismiss(r),e}).catch(e=>{let i=t.error?gc(t.error,e):void 0;i?Sc.error(i,{id:r,...n,...null==n?void 0:n.error}):Sc.dismiss(r)}),e};var Ic=(e,t)=>{Ec({type:1,toast:{id:e,height:t}})},kc=()=>{Ec({type:5,time:Date.now()})},Pc=new Map,Oc=e=>{let{toasts:t,pausedAt:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,y.useState)(vc),r=(0,y.useRef)(vc);(0,y.useEffect)(()=>(r.current!==vc&&n(vc),bc.push(n),()=>{let e=bc.indexOf(n);e>-1&&bc.splice(e,1)}),[]);let i=t.toasts.map(t=>{var n,r,i;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||Ac[t.type],style:{...e.style,...null==(i=e[t.type])?void 0:i.style,...t.style}}});return{...t,toasts:i}}(e);(0,y.useEffect)(()=>{if(n)return;let e=Date.now(),r=t.map(t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout(()=>Sc.dismiss(t.id),n);t.visible&&Sc.dismiss(t.id)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[t,n]);let r=(0,y.useCallback)(()=>{n&&Ec({type:6,time:Date.now()})},[n]),i=(0,y.useCallback)((e,n)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:s}=n||{},o=t.filter(t=>(t.position||s)===(e.position||s)&&t.height),a=o.findIndex(t=>t.id===e.id),l=o.filter((e,t)=>t<a&&e.visible).length;return o.filter(e=>e.visible).slice(...r?[l+1]:[0,l]).reduce((e,t)=>e+(t.height||0)+i,0)},[t]);return(0,y.useEffect)(()=>{t.forEach(e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(Pc.has(e))return;let n=setTimeout(()=>{Pc.delete(e),Ec({type:4,toastId:e})},t);Pc.set(e,n)}(e.id,e.removeDelay);else{let t=Pc.get(e.id);t&&(clearTimeout(t),Pc.delete(e.id))}})},[t]),{toasts:t,handlers:{updateHeight:Ic,startPause:kc,endPause:r,calculateOffset:i}}},Nc=dc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Cc=dc`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Tc=dc`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Rc=pc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Nc} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Cc} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Tc} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,_c=dc`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Bc=pc("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${_c} 1s linear infinite;
`,Uc=dc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Lc=dc`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Dc=pc("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Uc} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Lc} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Mc=pc("div")`
  position: absolute;
`,Fc=pc("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,zc=dc`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jc=pc("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${zc} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Vc=e=>{let{toast:t}=e,{icon:n,type:r,iconTheme:i}=t;return void 0!==n?"string"==typeof n?y.createElement(jc,null,n):n:"blank"===r?null:y.createElement(Fc,null,y.createElement(Bc,{...i}),"loading"!==r&&y.createElement(Mc,null,"error"===r?y.createElement(Rc,{...i}):y.createElement(Dc,{...i})))},Hc=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,qc=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,$c=pc("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Gc=pc("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Kc=y.memo(e=>{let{toast:t,position:n,style:r,children:i}=e,s=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=mc()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[Hc(n),qc(n)];return{animation:t?`${dc(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${dc(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(t.position||n||"top-center",t.visible):{opacity:0},o=y.createElement(Vc,{toast:t}),a=y.createElement(Gc,{...t.ariaProps},gc(t.message,t));return y.createElement($c,{className:t.className,style:{...s,...r,...t.style}},"function"==typeof i?i({icon:o,message:a}):y.createElement(y.Fragment,null,o,a))});!function(e,t,n,r){sc.p=t,uc=e,hc=n,fc=r}(y.createElement);var Qc=e=>{let{id:t,className:n,style:r,onHeightUpdate:i,children:s}=e,o=y.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;i(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return y.createElement("div",{ref:o,className:n,style:r},s)},Wc=cc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Jc=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:r,gutter:i,children:s,containerStyle:o,containerClassName:a}=e,{toasts:l,handlers:c}=Oc(r);return y.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...o},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(e=>{let r=e.position||n,o=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:mc()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}})(r,c.calculateOffset(e,{reverseOrder:t,gutter:i,defaultPosition:n}));return y.createElement(Qc,{id:e.id,key:e.id,onHeightUpdate:c.updateHeight,className:e.visible?Wc:"",style:o},"custom"===e.type?gc(e.message,e):s?s(e):y.createElement(Kc,{toast:e,position:r}))}))},Yc=Sc,Zc=n(414);function Xc(e){let{chainName:t,signer:n,connectWallet:r}=e;return(0,Zc.jsxs)("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",backgroundColor:"#f9f9f9",borderBottom:"1px solid #ddd"},children:[(0,Zc.jsx)("h2",{style:{margin:0},children:"\ud83d\udca0 JUSD Wallet Viewer"}),(0,Zc.jsx)("div",{style:{fontSize:"0.9rem",color:"#333"},children:n?(0,Zc.jsxs)("span",{children:["\ud83d\udfe2 Connected \u2014 ",t]}):(0,Zc.jsx)("button",{onClick:r,children:"\ud83d\udd0c Connect Wallet"})})]})}function eu(){return(0,Zc.jsx)("div",{style:{padding:"2rem",textAlign:"center",background:"#eef2ff",borderBottom:"1px solid #ccc",fontSize:"1.25rem",fontWeight:500},children:"\ud83d\udc4b Welcome to the JUSD Multichain Wallet Viewer"})}function tu(e){let{chain:t}=e;return(0,Zc.jsxs)("div",{style:{padding:"0.75rem 1.5rem",backgroundColor:"#f3f4f6",borderTop:"1px solid #e2e8f0",borderBottom:"1px solid #e2e8f0",fontSize:"0.9rem",fontWeight:500,color:"#333"},children:["\ud83d\udce1 Connected to ",(0,Zc.jsx)("span",{style:{fontWeight:600},children:t})," \u2014 Prices are pegged to $1.00 for demo"]})}function nu(e){let{connectWallet:t}=e;return(0,Zc.jsxs)("div",{style:{margin:"1rem 0"},children:[(0,Zc.jsx)("p",{children:(0,Zc.jsx)("strong",{children:"Switch Network:"})}),Object.entries({1:{name:"Ethereum",color:"#627eea"},137:{name:"Polygon",color:"#8247e5"},8453:{name:"Base",color:"#0052ff"}}).map(e=>{let[n,r]=e;return(0,Zc.jsx)("button",{onClick:()=>(async e=>{if(window.ethereum)try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x"+e.toString(16)}]}),setTimeout(()=>t(),500)}catch(n){console.error("Chain switch error:",n),alert("\u274c Network switch failed. Add the chain manually in your wallet.")}})(Number(n)),style:{marginRight:"0.5rem",padding:"0.5rem 1rem",backgroundColor:r.color,color:"#fff",border:"none",borderRadius:"6px",fontWeight:600},children:r.name},n)})]})}const ru=BigInt(-1),iu=BigInt(0),su=BigInt(1),ou=BigInt(5),au={};let lu="0000";for(;lu.length<80;)lu+=lu;function cu(e){let t=lu;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function uu(e,t,n){const r=BigInt(t.width);if(t.signed){const t=su<<r-su;k(null==n||e>=-t&&e<t,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=e>iu?G(Q(e,r),r):-G(Q(-e,r),r)}else{const t=su<<r;k(null==n||e>=0&&e<t,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:e}),e=(e%t+t)%t&t-su}return e}function hu(e){"number"===typeof e&&(e=`fixed128x${e}`);let t=!0,n=128,r=18;if("string"===typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);P(i,"invalid fixed format","format",e),t="u"!==i[1],n=parseInt(i[2]),r=parseInt(i[3])}else if(e){const i=e,s=(e,t,n)=>null==i[e]?n:(P(typeof i[e]===t,"invalid fixed format ("+e+" not "+t+")","format."+e,i[e]),i[e]);t=s("signed","boolean",t),n=s("width","number",n),r=s("decimals","number",r)}P(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),P(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);return{signed:t,width:n,decimals:r,name:(t?"":"u")+"fixed"+String(n)+"x"+String(r)}}class fu{format;#dt;#pt;#gt;_value;constructor(e,t,n){C(e,au,"FixedNumber"),this.#pt=t,this.#dt=n;const r=function(e,t){let n="";e<iu&&(n="-",e*=ru);let r=e.toString();if(0===t)return n+r;for(;r.length<=t;)r=lu+r;const i=r.length-t;for(r=r.substring(0,i)+"."+r.substring(i);"0"===r[0]&&"."!==r[1];)r=r.substring(1);for(;"0"===r[r.length-1]&&"."!==r[r.length-2];)r=r.substring(0,r.length-1);return n+r}(t,n.decimals);E(this,{format:n.name,_value:r}),this.#gt=cu(n.decimals)}get signed(){return this.#dt.signed}get width(){return this.#dt.width}get decimals(){return this.#dt.decimals}get value(){return this.#pt}#yt(e){P(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#mt(e,t){return e=uu(e,this.#dt,t),new fu(au,e,this.#dt)}#wt(e,t){return this.#yt(e),this.#mt(this.#pt+e.#pt,t)}addUnsafe(e){return this.#wt(e)}add(e){return this.#wt(e,"add")}#bt(e,t){return this.#yt(e),this.#mt(this.#pt-e.#pt,t)}subUnsafe(e){return this.#bt(e)}sub(e){return this.#bt(e,"sub")}#vt(e,t){return this.#yt(e),this.#mt(this.#pt*e.#pt/this.#gt,t)}mulUnsafe(e){return this.#vt(e)}mul(e){return this.#vt(e,"mul")}mulSignal(e){this.#yt(e);const t=this.#pt*e.#pt;return k(t%this.#gt===iu,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#mt(t/this.#gt,"mulSignal")}#Et(e,t){return k(e.#pt!==iu,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#yt(e),this.#mt(this.#pt*this.#gt/e.#pt,t)}divUnsafe(e){return this.#Et(e)}div(e){return this.#Et(e,"div")}divSignal(e){k(e.#pt!==iu,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#yt(e);const t=this.#pt*this.#gt;return k(t%e.#pt===iu,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#mt(t/e.#pt,"divSignal")}cmp(e){let t=this.value,n=e.value;const r=this.decimals-e.decimals;return r>0?n*=cu(r):r<0&&(t*=cu(-r)),t<n?-1:t>n?1:0}eq(e){return 0===this.cmp(e)}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#pt;return this.#pt<iu&&(e-=this.#gt-su),e=this.#pt/this.#gt*this.#gt,this.#mt(e,"floor")}ceiling(){let e=this.#pt;return this.#pt>iu&&(e+=this.#gt-su),e=this.#pt/this.#gt*this.#gt,this.#mt(e,"ceiling")}round(e){if(null==e&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,n=ou*cu(t-1);let r=this.value+n;const i=cu(t);return r=r/i*i,uu(r,this.#dt,"round"),new fu(au,r,this.#dt)}isZero(){return this.#pt===iu}isNegative(){return this.#pt<iu}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return fu.fromString(this.toString(),e)}static fromValue(e,t,n){const r=null==t?0:X(t),i=hu(n);let s=W(e,"value");const o=r-i.decimals;if(o>0){const t=cu(o);k(s%t===iu,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),s/=t}else o<0&&(s*=cu(-o));return uu(s,i,"fromValue"),new fu(au,s,i)}static fromString(e,t){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);P(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const r=hu(t);let i=n[2]||"0",s=n[3]||"";for(;s.length<r.decimals;)s+=lu;k(s.substring(r.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),s=s.substring(0,r.decimals);const o=BigInt(n[1]+i+s);return uu(o,r,"fromString"),new fu(au,o,r)}static fromBytes(e,t){let n=Z(R(e,"value"));const r=hu(t);return r.signed&&(n=G(n,r.width)),uu(n,r,"fromBytes"),new fu(au,n,r)}}const du=["wei","kwei","mwei","gwei","szabo","finney","ether"];function pu(e,t){let n=18;if("string"===typeof t){const e=du.indexOf(t);P(e>=0,"invalid unit","unit",t),n=3*e}else null!=t&&(n=X(t,"unit"));return fu.fromValue(e,n,{decimals:n,width:512}).toString()}function gu(e,t){P("string"===typeof e,"value must be a string","value",e);let n=18;if("string"===typeof t){const e=du.indexOf(t);P(e>=0,"invalid unit","unit",t),n=3*e}else null!=t&&(n=X(t,"unit"));return fu.fromString(e,{decimals:n,width:512}).value}function yu(e){let{name:t,logo:n}=e;return(0,Zc.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.3rem 0.6rem",backgroundColor:"#f1f3f5",borderRadius:"999px",fontSize:"0.85rem",fontWeight:500,color:"#333"},children:[(0,Zc.jsx)("img",{src:n,alt:`${t} badge`,style:{width:"20px",height:"20px",borderRadius:"50%",objectFit:"cover"}}),t]})}const mu={Ethereum:"#f2f6ff",Polygon:"#f9f2ff",Base:"#fff8f2"},wu={JUSDC:{logoURI:"https://gateway.pinata.cloud/ipfs/QmaEE6jZ8E8cCQ73yA7cdSyCzAjMHEdy5RgXpgmKQn2kMp",mintable:!0,uniswap:!0},wUSDC:{logoURI:"https://gateway.pinata.cloud/ipfs/Qma6PRN6i4rPAPyZ8y8vcPUKcDruWgJvRHEJvcTbsog8t2",mintable:!1,uniswap:!0},JUSDT:{logoURI:"https://gateway.pinata.cloud/ipfs/QmXo5RPRjwb6emszehRREa8Ygq3A8aVqqKzmPxo15ZyRuK",mintable:!0,uniswap:!1},wUSDT:{logoURI:"https://gateway.pinata.cloud/ipfs/QmPdhc8QsRmw47bq7m3BrKD2C7wHQdVaCLcvFQJ2GZHJm4",mintable:!1,uniswap:!1}};function bu(e){let{name:t,address:n,signer:r,chainName:i}=e;const s=wu[t]||{},o=s.logoURI||`${window.location.origin}/wallet-viewer/assets/default.png`,a=r&&"function"===typeof r.eth,[l,c]=(0,y.useState)("0.00"),[u,h]=(0,y.useState)("0.00"),[f,d]=(0,y.useState)("#fff"),p=function(e){const[t,n]=(0,y.useState)("1.00"),r=async()=>{try{if("JUSDC"===e){const e=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bridged-usd-coin-ton-bridge&vs_currencies=usd"),t=await e.json();n(t["bridged-usd-coin-ton-bridge"].usd.toFixed(4))}else if("JUSDT"===e){const e=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=bridged-tether-ton-bridge&vs_currencies=usd"),t=await e.json();n(t["bridged-tether-ton-bridge"].usd.toFixed(4))}else if("wUSDC"===e){const e=await fetch("https://data.chain.link/api/price-feeds/base/base/usdc-usd"),t=await e.json();n(t.answer.toFixed(4))}else if("wUSDT"===e){const e=await fetch("https://api.binance.com/api/v3/ticker/price?symbol=WUSDTUSDT"),t=await e.json();n(parseFloat(t.price).toFixed(4))}}catch(t){console.error("Price fetch error:",t),n("1.00")}};return(0,y.useEffect)(()=>{r();const e=setInterval(r,6e4);return()=>clearInterval(e)},[e]),t}(t),g=function(e){const[t,n]=(0,y.useState)("");return(0,y.useEffect)(()=>{(async()=>{if(e)try{if("function"===typeof e.eth){const t=await e.eth.getAccounts();n(t[0])}else{const t=await e.getAddress();n(t)}}catch(t){console.error("Address error:",t),n("Not available")}})()},[e]),t}(r);(0,y.useEffect)(()=>{d(mu[i]||"#fff")},[i]),(0,y.useEffect)(()=>{(async()=>{try{if(!r)return;if(a){const e=new r.eth.Contract([{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],type:"function"}],n),t=await r.eth.getAccounts(),i=await e.methods.balanceOf(t[0]).call()/1e6;c(i.toFixed(2)),h((i*parseFloat(p)).toFixed(2))}else{const e=new Si(n,["function balanceOf(address) view returns (uint256)"],r),t=await r.getAddress(),i=await e.balanceOf(t),s=parseFloat(pu(i,6));c(s.toFixed(2)),h((s*parseFloat(p)).toFixed(2))}}catch(e){console.error("Balance error:",e)}})()},[r,n,p]);const m=async()=>{const e=Yc.loading(`Minting 100 ${t}...`);try{if(a){const e=new r.eth.Contract([{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"mint",outputs:[],type:"function"}],n),t=await r.eth.getAccounts();await e.methods.mint(t[0],"100000000").send({from:t[0]})}else{const e=new Si(n,["function mint(address to, uint256 amount)"],r),t=await r.getAddress(),i=await e.mint(t,gu("100",6));await i.wait()}Yc.success(`\u2705 Minted 100 ${t}`,{id:e})}catch(i){console.error("Mint error:",i),Yc.error("\u274c Mint failed",{id:e})}};return(0,Zc.jsxs)("div",{style:{border:"1px solid #ccc",padding:"1rem",marginBottom:"1rem",borderRadius:"8px",background:`linear-gradient(135deg, ${f}, #ffffff)`,boxShadow:"0 2px 5px rgba(0,0,0,0.1)",transition:"background 0.6s ease-in-out",overflow:"hidden"},children:[(0,Zc.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr",gap:"0.75rem",alignItems:"center",marginBottom:"0.5rem"},children:[(0,Zc.jsx)("img",{src:o,alt:`${t} logo`,onError:e=>{e.target.onerror=null,e.target.src=`${window.location.origin}/wallet-viewer/assets/default.png`},style:{width:"48px",height:"48px",borderRadius:"10px",objectFit:"contain",backgroundColor:"#fff",boxShadow:"0 0 1px rgba(0,0,0,0.15)"}}),(0,Zc.jsx)(yu,{name:t,logo:o})]}),(0,Zc.jsxs)("p",{children:[(0,Zc.jsx)("strong",{children:"Contract:"})," ",(0,Zc.jsx)("span",{style:{fontFamily:"monospace"},children:n})]}),(0,Zc.jsxs)("p",{children:[(0,Zc.jsx)("strong",{children:"Chain:"})," ",i||"Unknown"]}),(0,Zc.jsxs)("p",{children:[(0,Zc.jsx)("strong",{children:"Wallet:"})," ",(0,Zc.jsx)("span",{style:{fontSize:"0.85rem",fontFamily:"monospace",color:"#444"},children:g||"Not connected"})]}),(0,Zc.jsxs)("p",{children:[(0,Zc.jsx)("strong",{children:"Holding:"})," ",l," ",t]}),(0,Zc.jsxs)("p",{children:[(0,Zc.jsx)("strong",{children:"Balance:"})," $",u]}),(0,Zc.jsxs)("p",{children:[(0,Zc.jsx)("strong",{children:"Price:"})," $",p," per ",t]}),0===parseFloat(u)&&(0,Zc.jsx)("p",{style:{color:"#999",fontStyle:"italic"},children:"\ud83e\uddca No tokens detected in wallet on this chain"}),(0,Zc.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",flexWrap:"wrap",marginTop:"0.5rem"},children:[(0,Zc.jsx)("button",{onClick:async()=>{try{var e;await(null===(e=window.ethereum)||void 0===e?void 0:e.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:n,symbol:t,decimals:6,image:o}}}))}catch(r){console.error("Token import error:",r)}},style:{transition:"all 0.3s",cursor:"pointer"},children:"\u2795 Add to Wallet"}),s.mintable&&(0,Zc.jsxs)("button",{onClick:m,style:{transition:"all 0.3s",cursor:"pointer"},children:["\ud83e\uddea Mint 100 ",t]}),s.mintable&&(0,Zc.jsxs)("button",{onClick:m,style:{transition:"all 0.3s",cursor:"pointer"},children:["\ud83e\uddea Mint 100 ",t]}),s.uniswap&&(0,Zc.jsxs)("a",{href:`https://app.uniswap.org/#/swap?outputCurrency=${n}`,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.4rem 0.8rem",backgroundColor:"#8247e5",color:"#fff",borderRadius:"6px",textDecoration:"none",fontWeight:500,transition:"all 0.3s"},children:[(0,Zc.jsx)("img",{src:"https://cryptologos.cc/logos/uniswap-uni-logo.png?v=029",alt:"Uniswap",style:{width:"20px",height:"20px",borderRadius:"4px"}}),"Trade on Uniswap"]}),(0,Zc.jsxs)("a",{href:`https://dexscreener.com/search?q=${n}`,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.4rem 0.8rem",backgroundColor:"#222",color:"#fff",borderRadius:"6px",textDecoration:"none",fontWeight:500,transition:"all 0.3s"},children:[(0,Zc.jsx)("img",{src:"https://raw.githubusercontent.com/dexscreener/dexscreener-assets/master/dexscreener-logo.png",alt:"Dexscreener",style:{width:"20px",height:"20px",borderRadius:"4px"}}),"View Chart"]})]})]})}function vu(e){let{tokens:t,signer:n}=e;return(0,Zc.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"1rem",padding:"2rem"},children:Object.entries(t).map(e=>{let[t,r]=e;return(0,Zc.jsx)(bu,{name:t,address:r,signer:n},t)})})}function Eu(e){let{tokens:t,signer:n,connectWallet:r}=e;return(0,Zc.jsxs)("div",{style:{padding:"2rem",borderTop:"1px solid #eee",backgroundColor:"#fafafa"},children:[(0,Zc.jsx)("h3",{style:{marginBottom:"1rem"},children:"\ud83e\uddea Minting Panel"}),t&&n?(0,Zc.jsx)("p",{children:"Select any token above and use the \u201cMint\u201d button directly on its card."}):(0,Zc.jsxs)("div",{children:[(0,Zc.jsx)("p",{children:"Connect your wallet to enable minting."}),(0,Zc.jsx)("button",{onClick:r,children:"\ud83d\udd0c Connect Wallet"})]})]})}function Au(){return(0,Zc.jsxs)("footer",{style:{padding:"1.5rem",textAlign:"center",backgroundColor:"#f8f9fa",borderTop:"1px solid #e0e0e0",fontSize:"0.85rem",color:"#555"},children:["\ud83d\udd17 Powered by JUSDC Ecosystem \xb7 Multichain Wallet Viewer \xb7 \xa9 ",(new Date).getFullYear()]})}const xu={1:{name:"Ethereum",tokens:{JUSDC:"0x3a4184028de3f2B2fB63d596ec9101328aC7A736",JUSDT:"0x047330be3669bB9C4bA12eaF1e0ed923026ff60c"}},8453:{name:"Base",tokens:{JUSDC:"0xfF9dEfDB71e9aeBA1FAAB543c5e2989f5eFc152A",JUSDT:"0x81442468Dcc51b12A1153F73cf543F24119b958c",wUSDC:"0x0F32251ffc5437bB83421812ebfd62B960b535Ac",wUSDT:"0x4Cd9aE9aADa0930C1F7AF156793Bc3FB54b8aC23"}},137:{name:"Polygon",tokens:{JUSDC:"0xFfF13F7Df6db0811A45b162D5CA742f970888eE0",JUSDT:"0xE87FCC08A041B96CA05989026d808E153121403A",wUSDC:"0x5a5E9C6363a8B74C8216F542FB1FDFd0163A8825",wUSDT:"0x258117011B6D405141113AD2973B43cef473AA4F"}}};var Su=n(981),Iu=n.n(Su),ku=n(878);class Pu{}class Ou extends Pu{constructor(e){super()}}const Nu=ku.FIVE_SECONDS,Cu="heartbeat_pulse";class Tu extends Ou{constructor(e){super(e),this.events=new Su.EventEmitter,this.interval=Nu,this.interval=e?.interval||Nu}static async init(e){const t=new Tu(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,ku.toMiliseconds)(this.interval))}pulse(){this.events.emit(Cu)}}const Ru=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,_u=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Bu=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Uu(e,t){if(!("__proto__"===e||"constructor"===e&&t&&"object"===typeof t&&"prototype"in t))return t;!function(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}(e)}function Lu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof e)return e;if('"'===e[0]&&'"'===e[e.length-1]&&-1===e.indexOf("\\"))return e.slice(1,-1);const n=e.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Bu.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(Ru.test(e)||_u.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,Uu)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}var Du=n(325).hp;function Mu(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(i=e(...n))&&"function"===typeof i.then?i:Promise.resolve(i)}catch(s){return Promise.reject(s)}var i}function Fu(e){if(function(e){const t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"===typeof e.toJSON)return Fu(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const zu="base64:";function ju(e){return"string"===typeof e?e:zu+function(e){if(globalThis.Buffer)return Du.from(e).toString("base64");return globalThis.btoa(String.fromCodePoint(...e))}(e)}function Vu(e){return"string"!==typeof e?e:e.startsWith(zu)?function(e){if(globalThis.Buffer)return Du.from(e,"base64");return Uint8Array.from(globalThis.atob(e),e=>e.codePointAt(0))}(e.slice(7)):e}function Hu(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function qu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Hu(t.join(":"))}function $u(e){return(e=Hu(e))?e+":":""}const Gu=()=>{const e=new Map;return{name:"memory",getInstance:()=>e,hasItem:t=>e.has(t),getItem:t=>e.get(t)??null,getItemRaw:t=>e.get(t)??null,setItem(t,n){e.set(t,n)},setItemRaw(t,n){e.set(t,n)},removeItem(t){e.delete(t)},getKeys:()=>[...e.keys()],clear(){e.clear()},dispose(){e.clear()}}};function Ku(){const e={mounts:{"":(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).driver||Gu()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=t=>{for(const n of e.mountpoints)if(t.startsWith(n))return{base:n,relativeKey:t.slice(n.length),driver:e.mounts[n]};return{base:"",relativeKey:t,driver:e.mounts[""]}},n=(t,n)=>e.mountpoints.filter(e=>e.startsWith(t)||n&&t.startsWith(e)).map(n=>({relativeBase:t.length>n.length?t.slice(n.length):void 0,mountpoint:n,driver:e.mounts[n]})),r=(t,n)=>{if(e.watching){n=Hu(n);for(const r of e.watchListeners)r(t,n)}},i=async()=>{if(e.watching){for(const t in e.unwatch)await e.unwatch[t]();e.unwatch={},e.watching=!1}},s=(e,n,r)=>{const i=new Map,s=e=>{let t=i.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},i.set(e.base,t)),t};for(const o of e){const e="string"===typeof o,r=Hu(e?o:o.key),i=e?void 0:o.value,a=e||!o.options?n:{...n,...o.options},l=t(r);s(l).items.push({key:r,value:i,relativeKey:l.relativeKey,options:a})}return Promise.all([...i.values()].map(e=>r(e))).then(e=>e.flat())},o={hasItem(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Hu(e);const{relativeKey:r,driver:i}=t(e);return Mu(i.hasItem,r,n)},getItem(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Hu(e);const{relativeKey:r,driver:i}=t(e);return Mu(i.getItem,r,n).then(e=>Lu(e))},getItems(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(e,t,e=>e.driver.getItems?Mu(e.driver.getItems,e.items.map(e=>({key:e.relativeKey,options:e.options})),t).then(t=>t.map(t=>({key:qu(e.base,t.key),value:Lu(t.value)}))):Promise.all(e.items.map(t=>Mu(e.driver.getItem,t.relativeKey,t.options).then(e=>({key:t.key,value:Lu(e)})))))},getItemRaw(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Hu(e);const{relativeKey:r,driver:i}=t(e);return i.getItemRaw?Mu(i.getItemRaw,r,n):Mu(i.getItem,r,n).then(e=>Vu(e))},async setItem(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===n)return o.removeItem(e);e=Hu(e);const{relativeKey:s,driver:a}=t(e);a.setItem&&(await Mu(a.setItem,s,Fu(n),i),a.watch||r("update",e))},async setItems(e,t){await s(e,t,async e=>{if(e.driver.setItems)return Mu(e.driver.setItems,e.items.map(e=>({key:e.relativeKey,value:Fu(e.value),options:e.options})),t);e.driver.setItem&&await Promise.all(e.items.map(t=>Mu(e.driver.setItem,t.relativeKey,Fu(t.value),t.options)))})},async setItemRaw(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===n)return o.removeItem(e,i);e=Hu(e);const{relativeKey:s,driver:a}=t(e);if(a.setItemRaw)await Mu(a.setItemRaw,s,n,i);else{if(!a.setItem)return;await Mu(a.setItem,s,ju(n),i)}a.watch||r("update",e)},async removeItem(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"===typeof n&&(n={removeMeta:n}),e=Hu(e);const{relativeKey:i,driver:s}=t(e);s.removeItem&&(await Mu(s.removeItem,i,n),(n.removeMeta||n.removeMata)&&await Mu(s.removeItem,i+"$",n),s.watch||r("remove",e))},async getMeta(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"===typeof n&&(n={nativeOnly:n}),e=Hu(e);const{relativeKey:r,driver:i}=t(e),s=Object.create(null);if(i.getMeta&&Object.assign(s,await Mu(i.getMeta,r,n)),!n.nativeOnly){const e=await Mu(i.getItem,r+"$",n).then(e=>Lu(e));e&&"object"===typeof e&&("string"===typeof e.atime&&(e.atime=new Date(e.atime)),"string"===typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(s,e))}return s},setMeta(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.setItem(e+"$",t,n)},removeMeta(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.removeItem(e+"$",t)},async getKeys(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=$u(e);const r=n(e,!0);let i=[];const s=[];let o=!0;for(const n of r){n.driver.flags?.maxDepth||(o=!1);const e=await Mu(n.driver.getKeys,n.relativeBase,t);for(const t of e){const e=n.mountpoint+Hu(t);i.some(t=>e.startsWith(t))||s.push(e)}i=[n.mountpoint,...i.filter(e=>!e.startsWith(n.mountpoint))]}const a=void 0!==t.maxDepth&&!o;return s.filter(n=>(!a||function(e,t){if(void 0===t)return!0;let n=0,r=e.indexOf(":");for(;r>-1;)n++,r=e.indexOf(":",r+1);return n<=t}(n,t.maxDepth))&&function(e,t){return t?e.startsWith(t)&&"$"!==e[e.length-1]:"$"!==e[e.length-1]}(n,e))},async clear(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=$u(e),await Promise.all(n(e,!1).map(async e=>{if(e.driver.clear)return Mu(e.driver.clear,e.relativeBase,t);if(e.driver.removeItem){const n=await e.driver.getKeys(e.relativeBase||"",t);return Promise.all(n.map(n=>e.driver.removeItem(n,t)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(e=>Wu(e)))},watch:async t=>(await(async()=>{if(!e.watching){e.watching=!0;for(const t in e.mounts)e.unwatch[t]=await Qu(e.mounts[t],r,t)}})(),e.watchListeners.push(t),async()=>{e.watchListeners=e.watchListeners.filter(e=>e!==t),0===e.watchListeners.length&&await i()}),async unwatch(){e.watchListeners=[],await i()},mount(t,n){if((t=$u(t))&&e.mounts[t])throw new Error(`already mounted at ${t}`);return t&&(e.mountpoints.push(t),e.mountpoints.sort((e,t)=>t.length-e.length)),e.mounts[t]=n,e.watching&&Promise.resolve(Qu(n,r,t)).then(n=>{e.unwatch[t]=n}).catch(console.error),o},async unmount(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(t=$u(t))&&e.mounts[t]&&(e.watching&&t in e.unwatch&&(e.unwatch[t]?.(),delete e.unwatch[t]),n&&await Wu(e.mounts[t]),e.mountpoints=e.mountpoints.filter(e=>e!==t),delete e.mounts[t])},getMount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e=Hu(e)+":";const n=t(e);return{driver:n.driver,base:n.base}},getMounts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Hu(e);return n(e,t.parents).map(e=>({driver:e.driver,base:e.mountpoint}))},keys:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.getKeys(e,t)},get:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.getItem(e,t)},set:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.setItem(e,t,n)},has:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.hasItem(e,t)},del:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.removeItem(e,t)},remove:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.removeItem(e,t)}};return o}function Qu(e,t,n){return e.watch?e.watch((e,r)=>t(e,n+r)):()=>{}}async function Wu(e){"function"===typeof e.dispose&&await Mu(e.dispose)}function Ju(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function Yu(e,t){let n;return(r,i)=>(()=>{if(n)return n;const r=indexedDB.open(e);return r.onupgradeneeded=()=>r.result.createObjectStore(t),n=Ju(r),n.then(e=>{e.onclose=()=>n=void 0},()=>{}),n})().then(e=>i(e.transaction(t,r).objectStore(t)))}let Zu;function Xu(){return Zu||(Zu=Yu("keyval-store","keyval")),Zu}function eh(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xu())("readonly",t=>Ju(t.get(e)))}function th(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},Ju(e.transaction)}function nh(e){if("string"!==typeof e)throw new Error("Cannot safe json parse value of type "+typeof e);try{return(e=>{const t=e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(t,(e,t)=>"string"===typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t)})(e)}catch(YI){return e}}function rh(e){return"string"===typeof e?e:(e=>JSON.stringify(e,(e,t)=>"bigint"===typeof t?t.toString()+"n":t))(e)||""}var ih=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.base&&e.base.length>0?`${e.base}:`:"",n=e=>t+e;let r;return e.dbName&&e.storeName&&(r=Yu(e.dbName,e.storeName)),{name:"idb-keyval",options:e,hasItem:async e=>!(typeof await eh(n(e),r)>"u"),getItem:async e=>await eh(n(e),r)??null,setItem:(e,t)=>function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xu())("readwrite",n=>(n.put(t,e),Ju(n.transaction)))}(n(e),t,r),removeItem:e=>function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xu())("readwrite",t=>(t.delete(e),Ju(t.transaction)))}(n(e),r),getKeys:()=>function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu())("readonly",e=>{if(e.getAllKeys)return Ju(e.getAllKeys());const t=[];return th(e,e=>t.push(e.key)).then(()=>t)})}(r),clear:()=>function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu())("readwrite",e=>(e.clear(),Ju(e.transaction)))}(r)}};class sh{constructor(){this.indexedDb=Ku({driver:ih({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const t=await this.indexedDb.getItem(e);if(null!==t)return t}async setItem(e,t){await this.indexedDb.setItem(e,rh(t))}async removeItem(e){await this.indexedDb.removeItem(e)}}var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof n.g<"u"?n.g:typeof self<"u"?self:{},ah={exports:{}};function lh(e){var t;return[e[0],nh(null!=(t=e[1])?t:"")]}!function(){let e;function t(){}e=t,e.prototype.getItem=function(e){return this.hasOwnProperty(e)?String(this[e]):null},e.prototype.setItem=function(e,t){this[e]=String(t)},e.prototype.removeItem=function(e){delete this[e]},e.prototype.clear=function(){const e=this;Object.keys(e).forEach(function(t){e[t]=void 0,delete e[t]})},e.prototype.key=function(e){return e=e||0,Object.keys(this)[e]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof oh<"u"&&oh.localStorage?ah.exports=oh.localStorage:typeof window<"u"&&window.localStorage?ah.exports=window.localStorage:ah.exports=new t}();class ch{constructor(){this.localStorage=ah.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(lh)}async getItem(e){const t=this.localStorage.getItem(e);if(null!==t)return nh(t)}async setItem(e,t){this.localStorage.setItem(e,rh(t))}async removeItem(e){this.localStorage.removeItem(e)}}const uh=async(e,t)=>{t.length&&t.forEach(async t=>{await e.removeItem(t)})};class hh{constructor(){this.initialized=!1,this.setInitialized=e=>{this.storage=e,this.initialized=!0};const e=new ch;this.storage=e;try{(async(e,t,n)=>{const r="wc_storage_version",i=await t.getItem(r);if(i&&i>=1)return void n(t);const s=await e.getKeys();if(!s.length)return void n(t);const o=[];for(;s.length;){const n=s.shift();if(!n)continue;const r=n.toLowerCase();if(r.includes("wc@")||r.includes("walletconnect")||r.includes("wc_")||r.includes("wallet_connect")){const r=await e.getItem(n);await t.setItem(n,r),o.push(n)}}await t.setItem(r,1),n(t),uh(e,o)})(e,new sh,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}}var fh=n(758),dh=n.n(fh);function ph(e){return"string"===typeof e?e:(e=>JSON.stringify(e,(e,t)=>"bigint"===typeof t?t.toString()+"n":t))(e)||""}const gh="info",yh="custom_context",mh=1024e3;class wh{constructor(e){this.nodeValue=e,this.sizeInBytes=(new TextEncoder).encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class bh{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new wh(e);if(t.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;null!==t;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}}class vh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mh;this.level=e??"error",this.levelValue=fh.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new bh(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===fh.levels.values.error?console.error(e):t===fh.levels.values.warn?console.warn(e):t===fh.levels.values.debug?console.debug(e):t===fh.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(ph({timestamp:(new Date).toISOString(),log:e}));const t="string"==typeof e?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new bh(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push(ph({extraMetadata:e})),new Blob(t,{type:"application/json"})}}class Eh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mh;this.baseChunkLogger=new vh(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=t,n.download=`walletconnect-logs-${(new Date).toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)}}class Ah{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mh;this.baseChunkLogger=new vh(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}}var xh=Object.defineProperty,Sh=Object.defineProperties,Ih=Object.getOwnPropertyDescriptors,kh=Object.getOwnPropertySymbols,Ph=Object.prototype.hasOwnProperty,Oh=Object.prototype.propertyIsEnumerable,Nh=(e,t,n)=>t in e?xh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ch=(e,t)=>{for(var n in t||(t={}))Ph.call(t,n)&&Nh(e,n,t[n]);if(kh)for(var n of kh(t))Oh.call(t,n)&&Nh(e,n,t[n]);return e},Th=(e,t)=>Sh(e,Ih(t));function Rh(e){return Th(Ch({},e),{level:e?.level||gh})}function _h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yh,n="";return n=typeof e.bindings>"u"?function(e){return e[arguments.length>1&&void 0!==arguments[1]?arguments[1]:yh]||""}(e,t):e.bindings().context||"",n}function Bh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yh;const r=function(e,t){const n=_h(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:yh);return n.trim()?`${n}/${t}`:t}(e,t,n);return function(e,t){return e[arguments.length>2&&void 0!==arguments[2]?arguments[2]:yh]=t,e}(e.child({context:r}),r,n)}function Uh(e){return typeof e.loggerOverride<"u"&&"string"!=typeof e.loggerOverride?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?function(e){var t,n;const r=new Eh(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:dh()(Th(Ch({},e.opts),{level:"trace",browser:Th(Ch({},null==(n=e.opts)?void 0:n.browser),{write:e=>r.write(e)})})),chunkLoggerController:r}}(e):function(e){var t;const n=new Ah(null==(t=e.opts)?void 0:t.level,e.maxSizeInBytes);return{logger:dh()(Th(Ch({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}(e)}var Lh=Object.defineProperty,Dh=(e,t,n)=>((e,t,n)=>t in e?Lh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class Mh extends Pu{constructor(e){super(),this.opts=e,Dh(this,"protocol","wc"),Dh(this,"version",2)}}var Fh=Object.defineProperty,zh=(e,t,n)=>((e,t,n)=>t in e?Fh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class jh extends Pu{constructor(e,t){super(),this.core=e,this.logger=t,zh(this,"records",new Map)}}class Vh{constructor(e,t){this.logger=e,this.core=t}}class Hh extends Pu{constructor(e,t){super(),this.relayer=e,this.logger=t}}class qh extends Pu{constructor(e){super()}}class $h{constructor(e,t,n,r){this.core=e,this.logger=t,this.name=n}}Object.defineProperty;class Gh extends Pu{constructor(e,t){super(),this.relayer=e,this.logger=t}}class Kh extends Pu{constructor(e,t){super(),this.core=e,this.logger=t}}class Qh{constructor(e,t,n){this.core=e,this.logger=t,this.store=n}}class Wh{constructor(e,t){this.projectId=e,this.logger=t}}class Jh{constructor(e,t,n){this.core=e,this.logger=t,this.telemetryEnabled=n}}var Yh=Object.defineProperty,Zh=(e,t,n)=>((e,t,n)=>t in e?Yh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);Iu();class Xh{constructor(e){this.opts=e,Zh(this,"protocol","wc"),Zh(this,"version",2)}}Su.EventEmitter;class ef{constructor(e){this.client=e}}function tf(e){if("string"!==typeof e)throw new Error("Cannot safe json parse value of type "+typeof e);try{return(e=>{const t=e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(t,(e,t)=>"string"===typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t)})(e)}catch(YI){return e}}function nf(e){return"string"===typeof e?e:(e=>JSON.stringify(e,(e,t)=>"bigint"===typeof t?t.toString()+"n":t))(e)||""}function rf(e){if(!function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function sf(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const of="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,af=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function lf(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),rf(e),e}class cf{clone(){return this._cloneInto()}}function uf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(of&&"function"==typeof of.getRandomValues)return of.getRandomValues(new Uint8Array(e));if(of&&"function"==typeof of.randomBytes)return of.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}class hf extends cf{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=af(this.buffer)}update(e){sf(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=lf(e)).length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){const t=af(e);for(;r<=i-s;s+=r)this.process(t,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){sf(this),function(e,t){rf(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(n,0),s=0);for(let u=s;u<r;u++)t[u]=0;(function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;e.setUint32(t+l,o,r),e.setUint32(t+c,a,r)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=af(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)o.setUint32(4*u,c[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.length=r,e.pos=o,e.finished=i,e.destroyed=s,r%t&&e.buffer.set(n),e}}const ff=BigInt(2**32-1),df=BigInt(32);function pf(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&ff),l:Number(e>>df&ff)}:{h:0|Number(e>>df&ff),l:0|Number(e&ff)}}const gf={fromBig:pf,split:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=pf(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]},toBig:(e,t)=>BigInt(e>>>0)<<df|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},[yf,mf]=gf.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),wf=new Uint32Array(80),bf=new Uint32Array(80);class vf extends hf{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:l,El:c,Fh:u,Fl:h,Gh:f,Gl:d,Hh:p,Hl:g}=this;return[e,t,n,r,i,s,o,a,l,c,u,h,f,d,p,g]}set(e,t,n,r,i,s,o,a,l,c,u,h,f,d,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|h,this.Gh=0|f,this.Gl=0|d,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let w=0;w<16;w++,t+=4)wf[w]=e.getUint32(t),bf[w]=e.getUint32(t+=4);for(let w=16;w<80;w++){const e=0|wf[w-15],t=0|bf[w-15],n=gf.rotrSH(e,t,1)^gf.rotrSH(e,t,8)^gf.shrSH(e,t,7),r=gf.rotrSL(e,t,1)^gf.rotrSL(e,t,8)^gf.shrSL(e,t,7),i=0|wf[w-2],s=0|bf[w-2],o=gf.rotrSH(i,s,19)^gf.rotrBH(i,s,61)^gf.shrSH(i,s,6),a=gf.rotrSL(i,s,19)^gf.rotrBL(i,s,61)^gf.shrSL(i,s,6),l=gf.add4L(r,a,bf[w-7],bf[w-16]),c=gf.add4H(l,n,o,wf[w-7],wf[w-16]);wf[w]=0|c,bf[w]=0|l}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:l,Dl:c,Eh:u,El:h,Fh:f,Fl:d,Gh:p,Gl:g,Hh:y,Hl:m}=this;for(let w=0;w<80;w++){const e=gf.rotrSH(u,h,14)^gf.rotrSH(u,h,18)^gf.rotrBH(u,h,41),t=gf.rotrSL(u,h,14)^gf.rotrSL(u,h,18)^gf.rotrBL(u,h,41),b=u&f^~u&p,v=h&d^~h&g,E=gf.add5L(m,t,v,mf[w],bf[w]),A=gf.add5H(E,y,e,b,yf[w],wf[w]),x=0|E,S=gf.rotrSH(n,r,28)^gf.rotrBH(n,r,34)^gf.rotrBH(n,r,39),I=gf.rotrSL(n,r,28)^gf.rotrBL(n,r,34)^gf.rotrBL(n,r,39),k=n&i^n&o^i&o,P=r&s^r&a^s&a;y=0|p,m=0|g,p=0|f,g=0|d,f=0|u,d=0|h,({h:u,l:h}=gf.add(0|l,0|c,0|A,0|x)),l=0|o,c=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const O=gf.add3L(x,I,P);n=gf.add3H(O,A,S,k),r=0|O}({h:n,l:r}=gf.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=gf.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=gf.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:l,l:c}=gf.add(0|this.Dh,0|this.Dl,0|l,0|c)),({h:u,l:h}=gf.add(0|this.Eh,0|this.El,0|u,0|h)),({h:f,l:d}=gf.add(0|this.Fh,0|this.Fl,0|f,0|d)),({h:p,l:g}=gf.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:y,l:m}=gf.add(0|this.Hh,0|this.Hl,0|y,0|m)),this.set(n,r,i,s,o,a,l,c,u,h,f,d,p,g,y,m)}roundClean(){wf.fill(0),bf.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Ef=function(e){const t=t=>e().update(lf(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}(()=>new vf),Af=BigInt(0),xf=BigInt(1),Sf=BigInt(2);function If(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function kf(e){if(!If(e))throw new Error("Uint8Array expected")}function Pf(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}const Of=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Nf(e){kf(e);let t="";for(let n=0;n<e.length;n++)t+=Of[e[n]];return t}function Cf(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?Af:BigInt("0x"+e)}const Tf=48,Rf=57,_f=65,Bf=70,Uf=97,Lf=102;function Df(e){return e>=Tf&&e<=Rf?e-Tf:e>=_f&&e<=Bf?e-(_f-10):e>=Uf&&e<=Lf?e-(Uf-10):void 0}function Mf(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const t=Df(e.charCodeAt(s)),n=Df(e.charCodeAt(s+1));if(void 0===t||void 0===n){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[i]=16*t+n}return r}function Ff(e){return kf(e),Cf(Nf(Uint8Array.from(e).reverse()))}function zf(e,t){return Mf(e.toString(16).padStart(2*t,"0"))}function jf(e,t){return zf(e,t).reverse()}function Vf(e,t,n){let r;if("string"==typeof t)try{r=Mf(t)}catch(ac){throw new Error(e+" must be hex string or Uint8Array, cause: "+ac)}else{if(!If(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function Hf(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];kf(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}const qf=e=>"bigint"==typeof e&&Af<=e;function $f(e,t,n,r){if(!function(e,t,n){return qf(e)&&qf(t)&&qf(n)&&t<=e&&e<n}(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}const Gf=e=>(Sf<<BigInt(e-1))-xf,Kf={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||If(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function Qf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=Kf[n];if("function"!=typeof i)throw new Error("invalid validator function");const s=e[t];if((!r||void 0!==s)&&!i(s,e))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+s)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}function Wf(e){const t=new WeakMap;return function(n){const r=t.get(n);if(void 0!==r)return r;for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];const a=e(n,...s);return t.set(n,a),a}}const Jf=BigInt(0),Yf=BigInt(1),Zf=BigInt(2),Xf=BigInt(3),ed=BigInt(4),td=BigInt(5),nd=BigInt(8);function rd(e,t){const n=e%t;return n>=Jf?n:t+n}function id(e,t,n){if(t<Jf)throw new Error("invalid exponent, negatives unsupported");if(n<=Jf)throw new Error("invalid modulus");if(n===Yf)return Jf;let r=Yf;for(;t>Jf;)t&Yf&&(r=r*e%n),e=e*e%n,t>>=Yf;return r}function sd(e,t,n){let r=e;for(;t-- >Jf;)r*=r,r%=n;return r}function od(e,t){if(e===Jf)throw new Error("invert: expected non-zero number");if(t<=Jf)throw new Error("invert: expected positive modulus, got "+t);let n=rd(e,t),r=t,i=Jf,s=Yf;for(;n!==Jf;){const e=r%n,t=i-s*(r/n);r=n,n=e,i=s,s=t}if(r!==Yf)throw new Error("invert: does not exist");return rd(i,t)}function ad(e){if(e%ed===Xf){const t=(e+Yf)/ed;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%nd===td){const t=(e-td)/nd;return function(e,n){const r=e.mul(n,Zf),i=e.pow(r,t),s=e.mul(n,i),o=e.mul(e.mul(s,Zf),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-Yf)/Zf;let n,r,i;for(n=e-Yf,r=0;n%Zf===Jf;n/=Zf,r++);for(i=Zf;i<e&&id(i,t,e)!==e-Yf;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===r){const t=(e+Yf)/ed;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const s=(n+Yf)/Zf;return function(e,o){if(e.pow(o,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,l=e.pow(e.mul(e.ONE,i),n),c=e.pow(o,s),u=e.pow(o,n);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(l,Yf<<BigInt(a-t-1));l=e.sqr(n),c=e.mul(c,n),u=e.mul(u,l),a=t}return c}}(e)}const ld=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function cd(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function ud(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=Jf)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=cd(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:Gf(i),ZERO:Jf,ONE:Yf,create:t=>rd(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return Jf<=t&&t<e},is0:e=>e===Jf,isOdd:e=>(e&Yf)===Yf,neg:t=>rd(-t,e),eql:(e,t)=>e===t,sqr:t=>rd(t*t,e),add:(t,n)=>rd(t+n,e),sub:(t,n)=>rd(t-n,e),mul:(t,n)=>rd(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Jf)throw new Error("invalid exponent, negatives unsupported");if(n===Jf)return e.ONE;if(n===Yf)return t;let r=e.ONE,i=t;for(;n>Jf;)n&Yf&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Yf;return r}(a,e,t),div:(t,n)=>rd(t*od(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>od(t,e),sqrt:r.sqrt||(t=>(o||(o=ad(e)),o(a,t))),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),i=e.inv(r);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),i),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?jf(e,s):zf(e,s),fromBytes:e=>{if(e.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+e.length);return n?Ff(e):function(e){return Cf(Nf(e))}(e)}});return Object.freeze(a)}const hd=BigInt(0),fd=BigInt(1);function dd(e,t){const n=t.negate();return e?n:t}function pd(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function gd(e,t){pd(e,t);return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}const yd=new WeakMap,md=new WeakMap;function wd(e){return md.get(e)||1}function bd(e,t,n,r){if(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})}(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,s=function(e){let t;for(t=0;e>Af;e>>=xf,t+=1);return t}(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,l=new Array(a+1).fill(i);let c=i;for(let u=Math.floor((t.BITS-1)/o)*o;u>=0;u-=o){l.fill(i);for(let t=0;t<r.length;t++){const e=r[t],i=Number(e>>BigInt(u)&BigInt(a));l[i]=l[i].add(n[t])}let e=i;for(let t=l.length-1,n=i;t>0;t--)n=n.add(l[t]),e=e.add(n);if(c=c.add(e),0!==u)for(let t=0;t<o;t++)c=c.double()}return c}function vd(e){return function(e){const t=ld.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});Qf(e,t)}(e.Fp),Qf(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...cd(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const Ed=BigInt(0),Ad=BigInt(1),xd=BigInt(2),Sd=BigInt(8),Id={zip215:!0};function kd(e){const t=function(e){const t=vd(e);return Qf(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:l}=t,c=xd<<BigInt(8*a)-Ad,u=n.create,h=ud(t.n,t.nBitLength),f=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch{return{isValid:!1,value:Ed}}}),d=t.adjustScalarBytes||(e=>e),p=t.domain||((e,t,n)=>{if(Pf("phflag",n),t.length||n)throw new Error("Contexts/pre-hash are not supported");return e});function g(e,t){$f("coordinate "+e,t,Ed,c)}function y(e){if(!(e instanceof b))throw new Error("ExtendedPoint expected")}const m=Wf((e,t)=>{const{ex:r,ey:i,ez:s}=e,o=e.is0();null==t&&(t=o?Sd:n.inv(s));const a=u(r*t),l=u(i*t),c=u(s*t);if(o)return{x:Ed,y:Ad};if(c!==Ad)throw new Error("invZ was invalid");return{x:a,y:l}}),w=Wf(e=>{const{a:n,d:r}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:i,ey:s,ez:o,et:a}=e,l=u(i*i),c=u(s*s),h=u(o*o),f=u(h*h),d=u(l*n);if(u(h*u(d+c))!==u(f+u(r*u(l*c))))throw new Error("bad point: equation left != right (1)");if(u(i*s)!==u(o*a))throw new Error("bad point: equation left != right (2)");return!0});class b{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r,g("x",e),g("y",t),g("z",n),g("t",r),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof b)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};return g("x",t),g("y",n),new b(t,n,Ad,u(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map(e=>e.ez));return e.map((e,n)=>e.toAffine(t[n])).map(b.fromAffine)}static msm(e,t){return bd(b,h,e,t)}_setWindowSize(e){A.setWindowSize(this,e)}assertValidity(){w(this)}equals(e){y(e);const{ex:t,ey:n,ez:r}=this,{ex:i,ey:s,ez:o}=e,a=u(t*o),l=u(i*r),c=u(n*o),h=u(s*r);return a===l&&c===h}is0(){return this.equals(b.ZERO)}negate(){return new b(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:i}=this,s=u(n*n),o=u(r*r),a=u(xd*u(i*i)),l=u(e*s),c=n+r,h=u(u(c*c)-s-o),f=l+o,d=f-a,p=l-o,g=u(h*d),y=u(f*p),m=u(h*p),w=u(d*f);return new b(g,y,w,m)}add(e){y(e);const{a:n,d:r}=t,{ex:i,ey:s,ez:o,et:a}=this,{ex:l,ey:c,ez:h,et:f}=e;if(n===BigInt(-1)){const e=u((s-i)*(c+l)),t=u((s+i)*(c-l)),n=u(t-e);if(n===Ed)return this.double();const r=u(o*xd*f),d=u(a*xd*h),p=d+r,g=t+e,y=d-r,m=u(p*n),w=u(g*y),v=u(p*y),E=u(n*g);return new b(m,w,E,v)}const d=u(i*l),p=u(s*c),g=u(a*r*f),m=u(o*h),w=u((i+s)*(l+c)-d-p),v=m-g,E=m+g,A=u(p-n*d),x=u(w*v),S=u(E*A),I=u(w*A),k=u(v*E);return new b(x,S,k,I)}subtract(e){return this.add(e.negate())}wNAF(e){return A.wNAFCached(this,e,b.normalizeZ)}multiply(e){const t=e;$f("scalar",t,Ad,r);const{p:n,f:i}=this.wNAF(t);return b.normalizeZ([n,i])[0]}multiplyUnsafe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.ZERO;const n=e;return $f("scalar",n,Ed,r),n===Ed?E:this.is0()||n===Ad?this:A.wNAFCachedUnsafe(this,n,b.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return A.unsafeLadder(this,r).is0()}toAffine(e){return m(this,e)}clearCofactor(){const{h:e}=t;return e===Ad?this:this.multiplyUnsafe(e)}static fromHex(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{d:i,a:s}=t,o=n.BYTES;e=Vf("pointHex",e,o),Pf("zip215",r);const a=e.slice(),l=e[o-1];a[o-1]=-129&l;const h=Ff(a),d=r?c:n.ORDER;$f("pointHex.y",h,Ed,d);const p=u(h*h),g=u(p-Ad),y=u(i*p-s);let{isValid:m,value:w}=f(g,y);if(!m)throw new Error("Point.fromHex: invalid y coordinate");const v=(w&Ad)===Ad,E=0!==(128&l);if(!r&&w===Ed&&E)throw new Error("Point.fromHex: x=0 and x_0=1");return E!==v&&(w=u(-w)),b.fromAffine({x:w,y:h})}static fromPrivateKey(e){return I(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=jf(t,n.BYTES);return r[r.length-1]|=e&Ad?128:0,r}toHex(){return Nf(this.toRawBytes())}}b.BASE=new b(t.Gx,t.Gy,Ad,u(t.Gx*t.Gy)),b.ZERO=new b(Ed,Ad,Ad,Ed);const{BASE:v,ZERO:E}=b,A=function(e,t){return{constTimeNegate:dd,hasPrecomputes:e=>1!==wd(e),unsafeLadder(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ZERO,i=t;for(;n>hd;)n&fd&&(r=r.add(i)),i=i.double(),n>>=fd;return r},precomputeWindow(e,n){const{windows:r,windowSize:i}=gd(n,t),s=[];let o=e,a=o;for(let t=0;t<r;t++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(n,r,i){const{windows:s,windowSize:o}=gd(n,t);let a=e.ZERO,l=e.BASE;const c=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let e=0;e<s;e++){const t=e*o;let n=Number(i&c);i>>=h,n>o&&(n-=u,i+=fd);const s=t,f=t+Math.abs(n)-1,d=e%2!==0,p=n<0;0===n?l=l.add(dd(d,r[s])):a=a.add(dd(p,r[f]))}return{p:a,f:l}},wNAFUnsafe(n,r,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.ZERO;const{windows:o,windowSize:a}=gd(n,t),l=BigInt(2**n-1),c=2**n,u=BigInt(n);for(let e=0;e<o;e++){const t=e*a;if(i===hd)break;let n=Number(i&l);if(i>>=u,n>a&&(n-=c,i+=fd),0===n)continue;let o=r[t+Math.abs(n)-1];n<0&&(o=o.negate()),s=s.add(o)}return s},getPrecomputes(e,t,n){let r=yd.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&yd.set(t,n(r))),r},wNAFCached(e,t,n){const r=wd(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const i=wd(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize(e,n){pd(n,t),md.set(e,n),yd.delete(e)}}}(b,8*a);function x(e){return rd(e,r)}function S(e){return x(Ff(e))}function I(e){const t=n.BYTES;e=Vf("private key",e,t);const r=Vf("hashed private key",s(e),2*t),i=d(r.slice(0,t)),o=r.slice(t,2*t),a=S(i),l=v.multiply(a),c=l.toRawBytes();return{head:i,prefix:o,scalar:a,point:l,pointBytes:c}}function k(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=Hf(...n);return S(s(p(o,Vf("context",e),!!i)))}const P=Id;return v._setWindowSize(8),{CURVE:t,getPublicKey:function(e){return I(e).pointBytes},sign:function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=Vf("message",e),i&&(e=i(e));const{prefix:o,scalar:a,pointBytes:l}=I(t),c=k(s.context,o,e),u=v.multiply(c).toRawBytes(),h=x(c+k(s.context,u,l,e)*a);return $f("signature.s",h,Ed,r),Vf("result",Hf(u,jf(h,n.BYTES)),2*n.BYTES)},verify:function(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:P;const{context:o,zip215:a}=s,l=n.BYTES;e=Vf("signature",e,2*l),t=Vf("message",t),r=Vf("publicKey",r,l),void 0!==a&&Pf("zip215",a),i&&(t=i(t));const c=Ff(e.slice(l,2*l));let u,h,f;try{u=b.fromHex(r,a),h=b.fromHex(e.slice(0,l),a),f=v.multiplyUnsafe(c)}catch{return!1}if(!a&&u.isSmallOrder())return!1;const d=k(o,h.toRawBytes(),u.toRawBytes(),t);return h.add(u.multiplyUnsafe(d)).subtract(f).clearCofactor().equals(b.ZERO)},ExtendedPoint:b,utils:{getExtendedPublicKey:I,randomPrivateKey:()=>o(n.BYTES),precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}}}}BigInt(0),BigInt(1);const Pd=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Od=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Nd=BigInt(1),Cd=BigInt(2);BigInt(3);const Td=BigInt(5),Rd=BigInt(8);function _d(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Bd(e,t){const n=Pd,r=rd(t*t*t,n),i=function(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Pd,o=e*e%s*e%s,a=sd(o,Cd,s)*o%s,l=sd(a,Nd,s)*e%s,c=sd(l,Td,s)*l%s,u=sd(c,t,s)*c%s,h=sd(u,n,s)*u%s,f=sd(h,r,s)*h%s,d=sd(f,i,s)*f%s,p=sd(d,i,s)*f%s,g=sd(p,t,s)*c%s;return{pow_p_5_8:sd(g,Cd,s)*e%s,b2:o}}(e*rd(r*r*t,n)).pow_p_5_8;let s=rd(e*r*i,n);const o=rd(t*s*s,n),a=s,l=rd(s*Od,n),c=o===e,u=o===rd(-e,n),h=o===rd(-e*Od,n);return c&&(s=a),(u||h)&&(s=l),((e,t)=>(rd(e,t)&Yf)===Yf)(s,n)&&(s=rd(-s,n)),{isValid:c||u,value:s}}const Ud=ud(Pd,void 0,!0),Ld=kd({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Ud,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Rd,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Ef,randomBytes:uf,adjustScalarBytes:_d,uvRatio:Bd}),Dd="EdDSA",Md=".",Fd="base64url",zd="utf8",jd="utf8",Vd="did",Hd="key",qd="base58btc";function $d(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Gd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?$d(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Kd(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));const n=Gd(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return $d(n)}var Qd=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==n[o])throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,l=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===l;)r++,t++;for(var s=(e.length-t)*c+1>>>0,o=new Uint8Array(s);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var h=0,f=s-1;(0!==u||h<i)&&-1!==f;f--,h++)u+=a*o[f]>>>0,o[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var d=s-i;d!==s&&0===o[d];)d++;for(var p=new Uint8Array(r+(s-d)),g=r;d!==s;)p[g++]=o[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,s=t.length;i!==s&&0===t[i];)i++,n++;for(var o=(s-i)*u+1>>>0,c=new Uint8Array(o);i!==s;){for(var h=t[i],f=0,d=o-1;(0!==h||f<r)&&-1!==d;d--,f++)h+=256*c[d]>>>0,c[d]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");r=f,i++}for(var p=o-r;p!==o&&0===c[p];)p++;for(var g=l.repeat(n);p<o;++p)g+=e.charAt(c[p]);return g},decodeUnsafe:h,decode:function(e){var n=h(e);if(n)return n;throw new Error(`Non-${t} character`)}}},Wd=Qd;const Jd=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class Yd{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Zd{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return ep(this,e)}}class Xd{constructor(e){this.decoders=e}or(e){return ep(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ep=(e,t)=>new Xd({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class tp{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new Yd(e,t,n),this.decoder=new Zd(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const np=e=>{let{name:t,prefix:n,encode:r,decode:i}=e;return new tp(t,n,r,i)},rp=e=>{let{prefix:t,name:n,alphabet:r}=e;const{encode:i,decode:s}=Wd(r,n);return np({prefix:t,name:n,encode:i,decode:e=>Jd(s(e))})},ip=e=>{let{name:t,prefix:n,bitsPerChar:r,alphabet:i}=e;return np({prefix:n,name:t,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let l=0;l<e.length;++l)for(a=a<<8|e[l],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s})(e,i,r),decode:e=>((e,t,n,r)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*n/8|0);let a=0,l=0,c=0;for(let u=0;u<s;++u){const t=i[e[u]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);l=l<<n|t,a+=n,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,i,r,t)})},sp=np({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var op=Object.freeze({__proto__:null,identity:sp});const ap=ip({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var lp=Object.freeze({__proto__:null,base2:ap});const cp=ip({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var up=Object.freeze({__proto__:null,base8:cp});const hp=rp({prefix:"9",name:"base10",alphabet:"0123456789"});var fp=Object.freeze({__proto__:null,base10:hp});const dp=ip({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),pp=ip({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var gp=Object.freeze({__proto__:null,base16:dp,base16upper:pp});const yp=ip({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),mp=ip({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),wp=ip({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),bp=ip({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),vp=ip({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ep=ip({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ap=ip({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),xp=ip({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Sp=ip({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Ip=Object.freeze({__proto__:null,base32:yp,base32upper:mp,base32pad:wp,base32padupper:bp,base32hex:vp,base32hexupper:Ep,base32hexpad:Ap,base32hexpadupper:xp,base32z:Sp});const kp=rp({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Pp=rp({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Op=Object.freeze({__proto__:null,base36:kp,base36upper:Pp});const Np=rp({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Cp=rp({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Tp=Object.freeze({__proto__:null,base58btc:Np,base58flickr:Cp});const Rp=ip({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),_p=ip({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Bp=ip({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Up=ip({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Lp=Object.freeze({__proto__:null,base64:Rp,base64pad:_p,base64url:Bp,base64urlpad:Up});const Dp=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),Mp=Dp.reduce((e,t,n)=>(e[n]=t,e),[]),Fp=Dp.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);const zp=np({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=Mp[t],"")},decode:function(e){const t=[];for(const n of e){const e=Fp[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var jp=Object.freeze({__proto__:null,base256emoji:zp}),Vp=function e(t,n,r){n=n||[];for(var i=r=r||0;t>=$p;)n[r++]=255&t|Hp,t/=128;for(;t&qp;)n[r++]=255&t|Hp,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},Hp=128,qp=-128,$p=Math.pow(2,31);var Gp=function e(t,n){var r,i=0,s=(n=n||0,0),o=n,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[o++],i+=s<28?(r&Qp)<<s:(r&Qp)*Math.pow(2,s),s+=7}while(r>=Kp);return e.bytes=o-n,i},Kp=128,Qp=127;var Wp=Math.pow(2,7),Jp=Math.pow(2,14),Yp=Math.pow(2,21),Zp=Math.pow(2,28),Xp=Math.pow(2,35),eg=Math.pow(2,42),tg=Math.pow(2,49),ng=Math.pow(2,56),rg=Math.pow(2,63),ig={encode:Vp,decode:Gp,encodingLength:function(e){return e<Wp?1:e<Jp?2:e<Yp?3:e<Zp?4:e<Xp?5:e<eg?6:e<tg?7:e<ng?8:e<rg?9:10}},sg=ig;const og=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return sg.encode(e,t,n),t},ag=e=>sg.encodingLength(e),lg=(e,t)=>{const n=t.byteLength,r=ag(e),i=r+ag(n),s=new Uint8Array(i+n);return og(e,s,0),og(n,s,r),s.set(t,i),new cg(e,n,t,s)};class cg{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const ug=e=>{let{name:t,code:n,encode:r}=e;return new hg(t,n,r)};class hg{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?lg(this.code,t):t.then(e=>lg(this.code,e))}throw Error("Unknown type, must be binary type")}}const fg=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),dg=ug({name:"sha2-256",code:18,encode:fg("SHA-256")}),pg=ug({name:"sha2-512",code:19,encode:fg("SHA-512")});Object.freeze({__proto__:null,sha256:dg,sha512:pg});const gg=Jd,yg={code:0,name:"identity",encode:gg,digest:e=>lg(0,gg(e))};Object.freeze({__proto__:null,identity:yg});new TextEncoder,new TextDecoder;const mg={...op,...lp,...up,...fp,...gp,...Ip,...Op,...Tp,...Lp,...jp};function wg(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const bg=wg("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),vg=wg("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{const t=Gd((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),Eg={utf8:bg,"utf-8":bg,hex:mg.base16,latin1:vg,ascii:vg,binary:vg,...mg};function Ag(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=Eg[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}function xg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=Eg[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):$d(globalThis.Buffer.from(e,"utf-8"))}function Sg(e){return tf(Ag(xg(e,Fd),zd))}function Ig(e){return Ag(xg(nf(e),zd),Fd)}function kg(e){const t="z"+Ag(Kd([xg("K36",qd),e]),qd);return[Vd,Hd,t].join(":")}function Pg(e){return Ag(e,Fd)}function Og(e){const t=e.split(Md),n=Sg(t[0]),r=Sg(t[1]),i=function(e){return xg(e,Fd)}(t[2]);return{header:n,payload:r,signature:i,data:xg(t.slice(0,2).join(Md),jd)}}function Ng(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uf(32);const t=Ld.getPublicKey(e);return{secretKey:Kd([e,t]),publicKey:t}}async function Cg(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(0,ku.fromMiliseconds)(Date.now());const s={alg:Dd,typ:"JWT"},o={iss:kg(r.publicKey),sub:e,aud:t,iat:i,exp:i+n},a=function(e){return xg([Ig(e.header),Ig(e.payload)].join(Md),jd)}({header:s,payload:o});return function(e){return[Ig(e.header),Ig(e.payload),Pg(e.signature)].join(Md)}({header:s,payload:o,signature:Ld.sign(a,r.secretKey.slice(0,32))})}var Tg=n(224),Rg=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},_g=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"},Bg=function(e){this.version=e,this.type="node",this.name="node",this.os=Tg.platform},Ug=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"},Lg=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},Dg=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},Mg=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Fg=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],zg=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function jg(e){return e?Hg(e):"undefined"===typeof document&&"undefined"!==typeof navigator&&"ReactNative"===navigator.product?new Dg:"undefined"!==typeof navigator?Hg(navigator.userAgent):"undefined"!==typeof Tg&&Tg.version?new Bg(Tg.version.slice(1)):null}function Vg(e){return""!==e&&Fg.reduce(function(t,n){var r=n[0],i=n[1];if(t)return t;var s=i.exec(e);return!!s&&[r,s]},!1)}function Hg(e){var t=Vg(e);if(!t)return null;var n=t[0],r=t[1];if("searchbot"===n)return new Lg;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<3&&(i=Rg(Rg([],i,!0),function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-i.length),!0)):i=[];var s=i.join("."),o=function(e){for(var t=0,n=zg.length;t<n;t++){var r=zg[t],i=r[0];if(r[1].exec(e))return i}return null}(e),a=Mg.exec(e);return a&&a[1]?new Ug(n,s,o,a[1]):new _g(n,s,o)}var qg=n(493),$g=n(736);const Gg="2.31.0";let Kg={getDocsUrl:e=>{let{docsBaseUrl:t,docsPath:n="",docsSlug:r}=e;return n?`${t??"https://viem.sh"}${n}${r?`#${r}`:""}`:void 0},version:`viem@${Gg}`};class Qg extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.cause instanceof Qg?t.cause.details:t.cause?.message?t.cause.message:t.details,r=t.cause instanceof Qg&&t.cause.docsPath||t.docsPath,i=Kg.getDocsUrl?.({...t,docsPath:r});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...n?[`Details: ${n}`]:[],...Kg.version?[`Version: ${Kg.version}`]:[]].join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=r,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=Gg}walk(e){return Wg(this,e)}}function Wg(e,t){return t?.(e)?e:e&&"object"===typeof e&&"cause"in e&&void 0!==e.cause?Wg(e.cause,t):t?null:e}function Jg(e){let{strict:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!e&&("string"===typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")))}class Yg extends Qg{constructor(e){let{size:t,targetSize:n,type:r}=e;super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Zg(e){let{dir:t,size:n=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e?function(e){let{dir:t,size:n=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===n)return e;const r=e.replace("0x","");if(r.length>2*n)throw new Yg({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r["right"===t?"padEnd":"padStart"](2*n,"0")}`}(e,{dir:t,size:n}):function(e){let{dir:t,size:n=32}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null===n)return e;if(e.length>n)throw new Yg({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s="right"===t;r[s?i:n-i-1]=e[s?i:e.length-i-1]}return r}(e,{dir:t,size:n})}class Xg extends Qg{constructor(e){let{max:t,min:n,signed:r,size:i,value:s}=e;super(`Number "${s}" is not in safe ${i?`${8*i}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class ey extends Qg{constructor(e){let{givenSize:t,maxSize:n}=e;super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}function ty(e){return Jg(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function ny(e,t){let{size:n}=t;if(ty(e)>n)throw new ey({givenSize:ty(e),maxSize:n})}function ry(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{signed:n}=t;t.size&&ny(e,{size:t.size});const r=BigInt(e);if(!n)return r;const i=(e.length-2)/2;return r<=(1n<<8n*BigInt(i)-1n)-1n?r:r-BigInt(`0x${"f".padStart(2*i,"f")}`)-1n}function iy(e){return Number(ry(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}const sy=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function oy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"===typeof e||"bigint"===typeof e?ly(e,t):"string"===typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=cy.encode(e);return ay(n,t)}(e,t):"boolean"===typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=`0x${Number(e)}`;if("number"===typeof t.size)return ny(n,{size:t.size}),Zg(n,{size:t.size});return n}(e,t):ay(e,t)}function ay(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="";for(let i=0;i<e.length;i++)n+=sy[e[i]];const r=`0x${n}`;return"number"===typeof t.size?(ny(r,{size:t.size}),Zg(r,{dir:"right",size:t.size})):r}function ly(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{signed:n,size:r}=t,i=BigInt(e);let s;r?s=n?(1n<<8n*BigInt(r)-1n)-1n:2n**(8n*BigInt(r))-1n:"number"===typeof e&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o="bigint"===typeof s&&n?-s-1n:0;if(s&&i>s||i<o){const t="bigint"===typeof e?"n":"";throw new Xg({max:s?`${s}${t}`:void 0,min:`${o}${t}`,signed:n,size:r,value:`${e}${t}`})}const a=`0x${(n&&i<0?(1n<<BigInt(8*r))+BigInt(i):i).toString(16)}`;return r?Zg(a,{size:r}):a}const cy=new TextEncoder;const uy=new TextEncoder;function hy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"number"===typeof e||"bigint"===typeof e?function(e,t){const n=ly(e,t);return py(n)}(e,t):"boolean"===typeof e?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new Uint8Array(1);if(n[0]=Number(e),"number"===typeof t.size)return ny(n,{size:t.size}),Zg(n,{size:t.size});return n}(e,t):Jg(e)?py(e,t):gy(e,t)}const fy={zero:48,nine:57,A:65,F:70,a:97,f:102};function dy(e){return e>=fy.zero&&e<=fy.nine?e-fy.zero:e>=fy.A&&e<=fy.F?e-(fy.A-10):e>=fy.a&&e<=fy.f?e-(fy.a-10):void 0}function py(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;t.size&&(ny(n,{size:t.size}),n=Zg(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const e=dy(r.charCodeAt(a++)),t=dy(r.charCodeAt(a++));if(void 0===e||void 0===t)throw new Qg(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=16*e+t}return s}function gy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=uy.encode(e);return"number"===typeof t.size?(ny(n,{size:t.size}),Zg(n,{dir:"right",size:t.size})):n}var yy=n(304),my=n(92);const wy=BigInt(0),by=BigInt(1),vy=BigInt(2),Ey=BigInt(7),Ay=BigInt(256),xy=BigInt(113),Sy=[],Iy=[],ky=[];for(let n=0,D_=by,M_=1,F_=0;n<24;n++){[M_,F_]=[F_,(2*M_+3*F_)%5],Sy.push(2*(5*F_+M_)),Iy.push((n+1)*(n+2)/2%64);let e=wy;for(let t=0;t<7;t++)D_=(D_<<by^(D_>>Ey)*xy)%Ay,D_&vy&&(e^=by<<(by<<BigInt(t))-by);ky.push(e)}const Py=(0,yy.lD)(ky,!0),Oy=Py[0],Ny=Py[1],Cy=(e,t,n)=>n>32?(0,yy.WM)(e,t,n):(0,yy.P5)(e,t,n),Ty=(e,t,n)=>n>32?(0,yy.im)(e,t,n):(0,yy.B4)(e,t,n);class Ry extends my.Vw{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,(0,my.Fe)(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,my.DH)(this.state)}clone(){return this._cloneInto()}keccak(){(0,my.fd)(this.state32),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],o=n[i+1],a=Cy(s,o,1)^n[t],l=Ty(s,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=l}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=Iy[n],s=Cy(t,i,r),o=Ty(t,i,r),a=Sy[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=Oy[r],e[1]^=Ny[r]}(0,my.uH)(n)}(this.state32,this.rounds),(0,my.fd)(this.state32),this.posOut=0,this.pos=0}update(e){(0,my.CC)(this),e=(0,my.ZJ)(e),(0,my.DO)(e);const{blockLen:t,state:n}=this,r=e.length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){(0,my.CC)(this,!1),(0,my.DO)(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,my.Fe)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,my.Ht)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,my.uH)(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new Ry(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const _y=(e,t,n)=>(0,my.qj)(()=>new Ry(t,e,n)),By=(()=>_y(1,136,32))();function Uy(e,t){const n=t||"hex",r=By(Jg(e,{strict:!1})?hy(e):e);return"bytes"===n?r:oy(r)}class Ly extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const e=this.keys().next().value;e&&this.delete(e)}return this}}const Dy=new Ly(8192);function My(e,t){if(Dy.has(`${e}.${t}`))return Dy.get(`${e}.${t}`);const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=Uy(gy(n),"bytes"),i=(t?n.substring(`${t}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(15&r[o>>1])>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return Dy.set(`${e}.${t}`,s),s}function Fy(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw new Error("Invalid yParityOrV value")}async function zy(e){let{hash:t,signature:r}=e;return i=await async function(e){let{hash:t,signature:r}=e;const i=Jg(t)?t:oy(t),{secp256k1:s}=await n.e(398).then(n.bind(n,398)),o=(()=>{if("object"===typeof r&&"r"in r&&"s"in r){const{r:e,s:t,v:n,yParity:i}=r,o=Fy(Number(i??n));return new s.Signature(ry(e),ry(t)).addRecoveryBit(o)}const e=Jg(r)?r:oy(r);if(65!==ty(e))throw new Error("invalid signature length");const t=Fy(iy(`0x${e.slice(130)}`));return s.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(t)})();return`0x${o.recoverPublicKey(i.substring(2)).toHex(!1)}`}({hash:t,signature:r}),My(`0x${Uy(`0x${i.substring(4)}`).substring(26)}`);var i}const jy=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let a=0;a<t.length;a++)t[a]=255;for(let a=0;a<e.length;a++){const n=e.charAt(a),r=n.charCodeAt(0);if(255!==t[r])throw new TypeError(n+" is ambiguous");t[r]=a}const n=e.length,r=e.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;let s=0,o=0,a=0;for(;e[s]===r;)o++,s++;const l=(e.length-s)*i+1>>>0,c=new Uint8Array(l);for(;s<e.length;){const r=e.charCodeAt(s);if(r>255)return;let i=t[r];if(255===i)return;let o=0;for(let e=l-1;(0!==i||o<a)&&-1!==e;e--,o++)i+=n*c[e]>>>0,c[e]=i%256>>>0,i=i/256>>>0;if(0!==i)throw new Error("Non-zero carry");a=o,s++}let u=l-a;for(;u!==l&&0===c[u];)u++;const h=new Uint8Array(o+(l-u));let f=o;for(;u!==l;)h[f++]=c[u++];return h}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,o=0,a=0;const l=t.length;for(;a!==l&&0===t[a];)a++,i++;const c=(l-a)*s+1>>>0,u=new Uint8Array(c);for(;a!==l;){let e=t[a],r=0;for(let t=c-1;(0!==e||r<o)&&-1!==t;t--,r++)e+=256*u[t]>>>0,u[t]=e%n>>>0,e=e/n>>>0;if(0!==e)throw new Error("Non-zero carry");o=r,a++}let h=c-o;for(;h!==c&&0===u[h];)h++;let f=r.repeat(i);for(;h<c;++h)f+=e.charAt(u[h]);return f},decodeUnsafe:o,decode:function(e){const t=o(e);if(t)return t;throw new Error("Non-base"+n+" character")}}};const Vy=jy("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function Hy(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}class qy{constructor(e,t){this.type=e,this.data=t}}class $y extends Error{constructor(e){super(e);const t=Object.create($y.prototype);Object.setPrototypeOf(this,t),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:$y.name})}}const Gy=4294967295;function Ky(e,t,n){const r=Math.floor(n/4294967296),i=n;e.setUint32(t,r),e.setUint32(t+4,i)}function Qy(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}const Wy={type:-1,encode:function(e){if(e instanceof Date){return function(e){let{sec:t,nsec:n}=e;if(t>=0&&n>=0&&t<=17179869183){if(0===n&&t<=4294967295){const e=new Uint8Array(4);return new DataView(e.buffer).setUint32(0,t),e}{const e=t/4294967296,r=4294967295&t,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,n<<2|3&e),s.setUint32(4,r),i}}{const e=new Uint8Array(12),r=new DataView(e.buffer);return r.setUint32(0,n),Ky(r,4,t),e}}(function(e){const t=e.getTime(),n=Math.floor(t/1e3),r=1e6*(t-1e3*n),i=Math.floor(r/1e9);return{sec:n+i,nsec:r-1e9*i}}(e))}return null},decode:function(e){const t=function(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{const e=t.getUint32(0);return{sec:4294967296*(3&e)+t.getUint32(4),nsec:e>>>2}}case 12:return{sec:Qy(t,4),nsec:t.getUint32(0)};default:throw new $y(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}};class Jy{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Wy)}register(e){let{type:t,encode:n,decode:r}=e;if(t>=0)this.encoders[t]=n,this.decoders[t]=r;else{const e=-1-t;this.builtInEncoders[e]=n,this.builtInDecoders[e]=r}}tryToEncode(e,t){for(let n=0;n<this.builtInEncoders.length;n++){const r=this.builtInEncoders[n];if(null!=r){const i=r(e,t);if(null!=i){return new qy(-1-n,i)}}}for(let n=0;n<this.encoders.length;n++){const r=this.encoders[n];if(null!=r){const i=r(e,t);if(null!=i){return new qy(n,i)}}}return e instanceof qy?e:null}decode(e,t,n){const r=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return r?r(e,t,n):new qy(t,e)}}Jy.defaultCodec=new Jy;const Yy=new TextEncoder;function Zy(e,t,n){e.length>50?function(e,t,n){Yy.encodeInto(e,t.subarray(n))}(e,t,n):function(e,t,n){const r=e.length;let i=n,s=0;for(;s<r;){let n=e.charCodeAt(s++);if(0!==(4294967168&n)){if(0===(4294965248&n))t[i++]=n>>6&31|192;else{if(n>=55296&&n<=56319&&s<r){const t=e.charCodeAt(s);56320===(64512&t)&&(++s,n=((1023&n)<<10)+(1023&t)+65536)}0===(4294901760&n)?(t[i++]=n>>12&15|224,t[i++]=n>>6&63|128):(t[i++]=n>>18&7|240,t[i++]=n>>12&63|128,t[i++]=n>>6&63|128)}t[i++]=63&n|128}else t[i++]=n}}(e,t,n)}function Xy(e,t,n){let r=t;const i=r+n,s=[];let o="";for(;r<i;){const t=e[r++];if(0===(128&t))s.push(t);else if(192===(224&t)){const n=63&e[r++];s.push((31&t)<<6|n)}else if(224===(240&t)){const n=63&e[r++],i=63&e[r++];s.push((31&t)<<12|n<<6|i)}else if(240===(248&t)){let n=(7&t)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++];n>65535&&(n-=65536,s.push(n>>>10&1023|55296),n=56320|1023&n),s.push(n)}else s.push(t);s.length>=4096&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const em=new TextDecoder;function tm(e,t,n){return n>200?function(e,t,n){const r=e.subarray(t,t+n);return em.decode(r)}(e,t,n):Xy(e,t,n)}function nm(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):function(e){return e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer}(e)?new Uint8Array(e):Uint8Array.from(e)}const rm="array",im="map_key",sm="map_value",om=e=>{if("string"===typeof e||"number"===typeof e)return e;throw new $y("The type of key must be string or number but "+typeof e)};class am{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const t=this.getUninitializedStateFromPool();t.type=rm,t.position=0,t.size=e,t.array=new Array(e)}pushMapState(e){const t=this.getUninitializedStateFromPool();t.type=im,t.readCount=0,t.size=e,t.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===rm){const t=e;t.size=0,t.array=void 0,t.position=0,t.type=void 0}if(e.type===im||e.type===sm){const t=e;t.size=0,t.map=void 0,t.readCount=0,t.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const lm=new DataView(new ArrayBuffer(0)),cm=new Uint8Array(lm.buffer);try{lm.getInt8(0)}catch(ec){if(!(ec instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const um=new RangeError("Insufficient data"),hm=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=t,this.caches=[];for(let n=0;n<this.maxKeyLength;n++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,t,n){const r=this.caches[n-1];e:for(const i of r){const r=i.bytes;for(let i=0;i<n;i++)if(r[i]!==e[t+i])continue e;return i.str}return null}store(e,t){const n=this.caches[e.length-1],r={bytes:e,str:t};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=r:n.push(r)}decode(e,t,n){const r=this.find(e,t,n);if(null!=r)return this.hit++,r;this.miss++;const i=Xy(e,t,n),s=Uint8Array.prototype.slice.call(e,t,t+n);return this.store(s,i),i}};class fm{constructor(e){this.totalPos=0,this.pos=0,this.view=lm,this.bytes=cm,this.headByte=-1,this.stack=new am,this.entered=!1,this.extensionCodec=e?.extensionCodec??Jy.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??Gy,this.maxBinLength=e?.maxBinLength??Gy,this.maxArrayLength=e?.maxArrayLength??Gy,this.maxMapLength=e?.maxMapLength??Gy,this.maxExtLength=e?.maxExtLength??Gy,this.keyDecoder=void 0!==e?.keyDecoder?e.keyDecoder:hm,this.mapKeyConverter=e?.mapKeyConverter??om}clone(){return new fm({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=-1,this.stack.reset()}setBuffer(e){const t=nm(e);this.bytes=t,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.pos=0}appendBuffer(e){if(-1!==this.headByte||this.hasRemaining(1)){const t=this.bytes.subarray(this.pos),n=nm(e),r=new Uint8Array(t.length+n.length);r.set(t),r.set(n,t.length),this.setBuffer(r)}else this.setBuffer(e)}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:t,pos:n}=this;return new RangeError(`Extra ${t.byteLength-n} of ${t.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered){return this.clone().decode(e)}try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){const t=this.clone();return void(yield*t.decodeMulti(e))}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered){return this.clone().decodeAsync(e)}try{this.entered=!0;let t,n=!1;for await(const o of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(o);try{t=this.doDecodeSync(),n=!0}catch(ec){if(!(ec instanceof RangeError))throw ec}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return t}const{headByte:r,pos:i,totalPos:s}=this;throw new RangeError(`Insufficient data in parsing ${Hy(r)} at ${s} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,t){if(this.entered){const n=this.clone();return void(yield*n.decodeMultiAsync(e,t))}try{this.entered=!0;let n=t,r=-1;for await(const i of e){if(t&&0===r)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),n&&(r=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),0!==--r;);}catch(ec){if(!(ec instanceof RangeError))throw ec}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let t;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){const n=e-128;if(0!==n){this.pushMapState(n),this.complete();continue e}t={}}else if(e<160){const n=e-144;if(0!==n){this.pushArrayState(n),this.complete();continue e}t=[]}else{const n=e-160;t=this.decodeString(n,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.useBigInt64?this.readU64AsBigInt():this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.useBigInt64?this.readI64AsBigInt():this.readI64();else if(217===e){const e=this.lookU8();t=this.decodeString(e,1)}else if(218===e){const e=this.lookU16();t=this.decodeString(e,2)}else if(219===e){const e=this.lookU32();t=this.decodeString(e,4)}else if(220===e){const e=this.readU16();if(0!==e){this.pushArrayState(e),this.complete();continue e}t=[]}else if(221===e){const e=this.readU32();if(0!==e){this.pushArrayState(e),this.complete();continue e}t=[]}else if(222===e){const e=this.readU16();if(0!==e){this.pushMapState(e),this.complete();continue e}t={}}else if(223===e){const e=this.readU32();if(0!==e){this.pushMapState(e),this.complete();continue e}t={}}else if(196===e){const e=this.lookU8();t=this.decodeBinary(e,1)}else if(197===e){const e=this.lookU16();t=this.decodeBinary(e,2)}else if(198===e){const e=this.lookU32();t=this.decodeBinary(e,4)}else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e){const e=this.lookU8();t=this.decodeExtension(e,1)}else if(200===e){const e=this.lookU16();t=this.decodeExtension(e,2)}else{if(201!==e)throw new $y(`Unrecognized type byte: ${Hy(e)}`);{const e=this.lookU32();t=this.decodeExtension(e,4)}}this.complete();const n=this.stack;for(;n.length>0;){const e=n.top();if(e.type===rm){if(e.array[e.position]=t,e.position++,e.position!==e.size)continue e;t=e.array,n.release(e)}else{if(e.type===im){if("__proto__"===t)throw new $y("The key __proto__ is not allowed");e.key=this.mapKeyConverter(t),e.type=sm;continue e}if(e.map[e.key]=t,e.readCount++,e.readCount!==e.size){e.key=null,e.type=im;continue e}t=e.map,n.release(e)}}return t}}readHeadByte(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=-1}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new $y(`Unrecognized array type byte: ${Hy(e)}`)}}pushMapState(e){if(e>this.maxMapLength)throw new $y(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new $y(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,t){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,t):this.decodeBinary(e,t)}decodeUtf8String(e,t){if(e>this.maxStrLength)throw new $y(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+t+e)throw um;const n=this.pos+t;let r;return r=this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?this.keyDecoder.decode(this.bytes,n,e):tm(this.bytes,n,e),this.pos+=t+e,r}stateIsMapKey(){if(this.stack.length>0){return this.stack.top().type===im}return!1}decodeBinary(e,t){if(e>this.maxBinLength)throw new $y(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+t))throw um;const n=this.pos+t,r=this.bytes.subarray(n,n+e);return this.pos+=t+e,r}decodeExtension(e,t){if(e>this.maxExtLength)throw new $y(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const n=this.view.getInt8(this.pos+t),r=this.decodeBinary(e,t+1);return this.extensionCodec.decode(r,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=(t=this.view,n=this.pos,4294967296*t.getUint32(n)+t.getUint32(n+4));var t,n;return this.pos+=8,e}readI64(){const e=Qy(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}}class dm{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??Jy.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??100,this.initialBufferSize=e?.initialBufferSize??2048,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new dm({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered){return this.clone().encodeSharedRef(e)}try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered){return this.clone().encode(e)}try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,t){if(t>this.maxDepth)throw new Error(`Too deep objects in depth ${t}`);null==e?this.encodeNil():"boolean"===typeof e?this.encodeBoolean(e):"number"===typeof e?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):"string"===typeof e?this.encodeString(e):this.useBigInt64&&"bigint"===typeof e?this.encodeBigInt64(e):this.encodeObject(e,t)}ensureBufferSizeToWrite(e){const t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)}resizeBuffer(e){const t=new ArrayBuffer(e),n=new Uint8Array(t),r=new DataView(t);n.set(this.bytes),this.view=r,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){!1===e?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error(`Too long string: ${e} bytes in UTF-8`);this.writeU8(219),this.writeU32(e)}}encodeString(e){const t=function(e){const t=e.length;let n=0,r=0;for(;r<t;){let i=e.charCodeAt(r++);if(0!==(4294967168&i))if(0===(4294965248&i))n+=2;else{if(i>=55296&&i<=56319&&r<t){const t=e.charCodeAt(r);56320===(64512&t)&&(++r,i=((1023&i)<<10)+(1023&t)+65536)}n+=0===(4294901760&i)?3:4}else n++}return n}(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),Zy(e,this.bytes,this.pos),this.pos+=t}encodeObject(e,t){const n=this.extensionCodec.tryToEncode(e,this.context);if(null!=n)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!==typeof e)throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`);this.encodeMap(e,t)}}encodeBinary(e){const t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error(`Too large binary: ${t}`);this.writeU8(198),this.writeU32(t)}const n=nm(e);this.writeU8a(n)}encodeArray(e,t){const n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else{if(!(n<4294967296))throw new Error(`Too large array: ${n}`);this.writeU8(221),this.writeU32(n)}for(const r of e)this.doEncode(r,t+1)}countWithoutUndefined(e,t){let n=0;for(const r of t)void 0!==e[r]&&n++;return n}encodeMap(e,t){const n=Object.keys(e);this.sortKeys&&n.sort();const r=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(r<16)this.writeU8(128+r);else if(r<65536)this.writeU8(222),this.writeU16(r);else{if(!(r<4294967296))throw new Error(`Too large map object: ${r}`);this.writeU8(223),this.writeU32(r)}for(const i of n){const n=e[i];this.ignoreUndefined&&void 0===n||(this.encodeString(i),this.doEncode(n,t+1))}}encodeExtension(e){if("function"===typeof e.data){const t=e.data(this.pos+6),n=t.length;if(n>=4294967296)throw new Error(`Too large extension object: ${n}`);return this.writeU8(201),this.writeU32(n),this.writeI8(e.type),void this.writeU8a(t)}const t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error(`Too large extension object: ${t}`);this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),function(e,t,n){const r=n/4294967296,i=n;e.setUint32(t,r),e.setUint32(t+4,i)}(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),Ky(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}}function pm(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function gm(e){if(!pm(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function ym(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every(e=>"string"===typeof e):t.every(e=>Number.isSafeInteger(e))))}function mm(e){if("function"!==typeof e)throw new Error("function expected");return!0}function wm(e,t){if("string"!==typeof t)throw new Error(`${e}: string expected`);return!0}function bm(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function vm(e){if(!Array.isArray(e))throw new Error("array expected")}function Em(e,t){if(!ym(!0,t))throw new Error(`${e}: array of strings expected`)}function Am(e,t){if(!ym(!1,t))throw new Error(`${e}: array of numbers expected`)}function xm(){const e=e=>e,t=(e,t)=>n=>e(t(n));for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];const s=r.map(e=>e.encode).reduceRight(t,e),o=r.map(e=>e.decode).reduce(t,e);return{encode:s,decode:o}}function Sm(e){const t="string"===typeof e?e.split(""):e,n=t.length;Em("alphabet",t);const r=new Map(t.map((e,t)=>[e,t]));return{encode:r=>(vm(r),r.map(r=>{if(!Number.isSafeInteger(r)||r<0||r>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${r}". Allowed: ${e}`);return t[r]})),decode:t=>(vm(t),t.map(t=>{wm("alphabet.decode",t);const n=r.get(t);if(void 0===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}function Im(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return wm("join",e),{encode:t=>(Em("join.decode",t),t.join(e)),decode:t=>(wm("join.decode",t),t.split(e))}}function km(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"=";return bm(e),wm("padding",t),{encode(n){for(Em("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){Em("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--){if((r-1)*e%8===0)throw new Error("padding: invalid, string has too much padding")}return n.slice(0,r)}}}function Pm(e){return mm(e),{encode:e=>e,decode:t=>e(t)}}function Om(e,t,n){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: invalid to=${n}, base cannot be less than 2`);if(vm(e),!e.length)return[];let r=0;const i=[],s=Array.from(e,e=>{if(bm(e),e<0||e>=t)throw new Error(`invalid integer: ${e}`);return e}),o=s.length;for(;;){let e=0,a=!0;for(let i=r;i<o;i++){const o=s[i],l=t*e,c=l+o;if(!Number.isSafeInteger(c)||l/t!==e||c-o!==l)throw new Error("convertRadix: carry overflow");const u=c/n;e=c%n;const h=Math.floor(u);if(s[i]=h,!Number.isSafeInteger(h)||h*n+e!==c)throw new Error("convertRadix: carry overflow");a&&(h?a=!1:r=i)}if(i.push(e),a)break}for(let a=0;a<e.length-1&&0===e[a];a++)i.push(0);return i.reverse()}const Nm=(e,t)=>0===t?e:Nm(t,e%t),Cm=(e,t)=>e+(t-Nm(e,t)),Tm=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function Rm(e,t,n,r){if(vm(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Cm(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${Cm(t,n)}`);let i=0,s=0;const o=Tm[t],a=Tm[n]-1,l=[];for(const c of e){if(bm(c),c>=o)throw new Error(`convertRadix2: invalid data word=${c} from=${t}`);if(i=i<<t|c,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=n;s-=n)l.push((i>>s-n&a)>>>0);const e=Tm[s];if(void 0===e)throw new Error("invalid carry");i&=e-1}if(i=i<<n-s&a,!r&&s>=t)throw new Error("Excess padding");if(!r&&i>0)throw new Error(`Non-zero padding: ${i}`);return r&&s>0&&l.push(i>>>0),l}function _m(e){bm(e);return{encode:t=>{if(!pm(t))throw new Error("radix.encode input should be Uint8Array");return Om(Array.from(t),256,e)},decode:t=>(Am("radix.decode",t),Uint8Array.from(Om(t,e,256)))}}function Bm(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(bm(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Cm(8,e)>32||Cm(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!pm(n))throw new Error("radix2.encode input should be Uint8Array");return Rm(Array.from(n),8,e,!t)},decode:n=>(Am("radix2.decode",n),Uint8Array.from(Rm(n,e,8,t)))}}function Um(e){return mm(e),function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(null,n)}catch(ec){}}}xm(Bm(4),Sm("0123456789ABCDEF"),Im(""));const Lm=xm(Bm(5),Sm("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),km(5),Im("")),Dm=(xm(Bm(5),Sm("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Im("")),xm(Bm(5),Sm("0123456789ABCDEFGHIJKLMNOPQRSTUV"),km(5),Im("")),xm(Bm(5),Sm("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Im("")),xm(Bm(5),Sm("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Im(""),Pm(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),(()=>"function"===typeof Uint8Array.from([]).toBase64&&"function"===typeof Uint8Array.fromBase64)()),Mm=(e,t)=>{wm("base64",e);const n=t?/^[A-Za-z0-9=_-]+$/:/^[A-Za-z0-9=+/]+$/,r=t?"base64url":"base64";if(e.length>0&&!n.test(e))throw new Error("invalid base64");return Uint8Array.fromBase64(e,{alphabet:r,lastChunkHandling:"strict"})},Fm=(Dm||xm(Bm(6),Sm("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),km(6),Im("")),xm(Bm(6),Sm("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Im("")),Dm||xm(Bm(6),Sm("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),km(6),Im("")),xm(Bm(6),Sm("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Im("")),e=>xm(_m(58),Sm(e),Im(""))),zm=(Fm("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Fm("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),Fm("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),xm(Sm("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Im(""))),jm=[996825010,642813549,513874426,1027748829,705979059];function Vm(e){const t=e>>25;let n=(33554431&e)<<5;for(let r=0;r<jm.length;r++)1===(t>>r&1)&&(n^=jm[r]);return n}function Hm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=e.length;let i=1;for(let s=0;s<r;s++){const t=e.charCodeAt(s);if(t<33||t>126)throw new Error(`Invalid prefix (${e})`);i=Vm(i)^t>>5}i=Vm(i);for(let s=0;s<r;s++)i=Vm(i)^31&e.charCodeAt(s);for(let s of t)i=Vm(i)^s;for(let s=0;s<6;s++)i=Vm(i);return i^=n,zm.encode(Rm([i%Tm[30]],30,5,!1))}function qm(e){const t="bech32"===e?1:734539939,n=Bm(5),r=n.decode,i=n.encode,s=Um(r);function o(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:90;wm("bech32.encode prefix",e),pm(n)&&(n=Array.from(n)),Am("bech32.encode",n);const i=e.length;if(0===i)throw new TypeError(`Invalid prefix length ${i}`);const s=i+7+n.length;if(!1!==r&&s>r)throw new TypeError(`Length ${s} exceeds limit ${r}`);const o=e.toLowerCase(),a=Hm(o,n,t);return`${o}1${zm.encode(n)}${a}`}function a(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:90;wm("bech32.decode input",e);const r=e.length;if(r<8||!1!==n&&r>n)throw new TypeError(`invalid string length: ${r} (${e}). Expected (8..${n})`);const i=e.toLowerCase();if(e!==i&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const s=i.lastIndexOf("1");if(0===s||-1===s)throw new Error('Letter "1" must be present between prefix and data only');const o=i.slice(0,s),a=i.slice(s+1);if(a.length<6)throw new Error("Data must be at least 6 characters long");const l=zm.decode(a).slice(0,-6),c=Hm(o,l,t);if(!a.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:o,words:l}}return{encode:o,decode:a,encodeFromBytes:function(e,t){return o(e,i(t))},decodeToBytes:function(e){const{prefix:t,words:n}=a(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:Um(a),fromWords:r,fromWordsUnsafe:s,toWords:i}}qm("bech32"),qm("bech32m");const $m={encode:e=>(gm(e),e.toHex()),decode:e=>(wm("hex",e),Uint8Array.fromHex(e))};(()=>"function"===typeof Uint8Array.from([]).toHex&&"function"===typeof Uint8Array.fromHex)()||xm(Bm(4),Sm("0123456789abcdef"),Im(""),Pm(e=>{if("string"!==typeof e||e.length%2!==0)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));function Gm(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Km(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?Gm(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Qm(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));const n=Km(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return Gm(n)}var Wm=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==n[o])throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,l=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===l;)r++,t++;for(var s=(e.length-t)*c+1>>>0,o=new Uint8Array(s);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var h=0,f=s-1;(0!==u||h<i)&&-1!==f;f--,h++)u+=a*o[f]>>>0,o[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var d=s-i;d!==s&&0===o[d];)d++;for(var p=new Uint8Array(r+(s-d)),g=r;d!==s;)p[g++]=o[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,s=t.length;i!==s&&0===t[i];)i++,n++;for(var o=(s-i)*u+1>>>0,c=new Uint8Array(o);i!==s;){for(var h=t[i],f=0,d=o-1;(0!==h||f<r)&&-1!==d;d--,f++)h+=256*c[d]>>>0,c[d]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");r=f,i++}for(var p=o-r;p!==o&&0===c[p];)p++;for(var g=l.repeat(n);p<o;++p)g+=e.charAt(c[p]);return g},decodeUnsafe:h,decode:function(e){var n=h(e);if(n)return n;throw new Error(`Non-${t} character`)}}};const Jm=Wm,Ym=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class Zm{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Xm{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return tw(this,e)}}class ew{constructor(e){this.decoders=e}or(e){return tw(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const tw=(e,t)=>new ew({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class nw{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new Zm(e,t,n),this.decoder=new Xm(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const rw=e=>{let{name:t,prefix:n,encode:r,decode:i}=e;return new nw(t,n,r,i)},iw=e=>{let{prefix:t,name:n,alphabet:r}=e;const{encode:i,decode:s}=Jm(r,n);return rw({prefix:t,name:n,encode:i,decode:e=>Ym(s(e))})},sw=e=>{let{name:t,prefix:n,bitsPerChar:r,alphabet:i}=e;return rw({prefix:n,name:t,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let l=0;l<e.length;++l)for(a=a<<8|e[l],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s})(e,i,r),decode:e=>((e,t,n,r)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*n/8|0);let a=0,l=0,c=0;for(let u=0;u<s;++u){const t=i[e[u]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);l=l<<n|t,a+=n,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,i,r,t)})},ow=rw({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)}),aw=sw({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),lw=sw({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),cw=iw({prefix:"9",name:"base10",alphabet:"0123456789"}),uw=sw({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),hw=sw({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),fw=sw({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),dw=sw({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),pw=sw({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),gw=sw({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),yw=sw({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),mw=sw({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ww=sw({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),bw=sw({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),vw=sw({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Ew=iw({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Aw=iw({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),xw=iw({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Sw=iw({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Iw=sw({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),kw=sw({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Pw=sw({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Ow=sw({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Nw=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),Cw=Nw.reduce((e,t,n)=>(e[n]=t,e),[]),Tw=Nw.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);const Rw=rw({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=Cw[t],"")},decode:function(e){const t=[];for(const n of e){const e=Tw[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var _w=function e(t,n,r){n=n||[];var i=r=r||0;for(;t>=Lw;)n[r++]=255&t|Bw,t/=128;for(;t&Uw;)n[r++]=255&t|Bw,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},Bw=128,Uw=-128,Lw=Math.pow(2,31);var Dw=function e(t,n){var r,i=0,s=0,o=n=n||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[o++],i+=s<28?(r&Fw)<<s:(r&Fw)*Math.pow(2,s),s+=7}while(r>=Mw);return e.bytes=o-n,i},Mw=128,Fw=127;var zw=Math.pow(2,7),jw=Math.pow(2,14),Vw=Math.pow(2,21),Hw=Math.pow(2,28),qw=Math.pow(2,35),$w=Math.pow(2,42),Gw=Math.pow(2,49),Kw=Math.pow(2,56),Qw=Math.pow(2,63);const Ww={encode:_w,decode:Dw,encodingLength:function(e){return e<zw?1:e<jw?2:e<Vw?3:e<Hw?4:e<qw?5:e<$w?6:e<Gw?7:e<Kw?8:e<Qw?9:10}},Jw=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Ww.encode(e,t,n),t},Yw=e=>Ww.encodingLength(e),Zw=(e,t)=>{const n=t.byteLength,r=Yw(e),i=r+Yw(n),s=new Uint8Array(i+n);return Jw(e,s,0),Jw(n,s,r),s.set(t,i),new Xw(e,n,t,s)};class Xw{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const eb=e=>{let{name:t,code:n,encode:r}=e;return new tb(t,n,r)};class tb{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Zw(this.code,t):t.then(e=>Zw(this.code,e))}throw Error("Unknown type, must be binary type")}}const nb=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),rb=eb({name:"sha2-256",code:18,encode:nb("SHA-256")}),ib=eb({name:"sha2-512",code:19,encode:nb("SHA-512")}),sb=Ym,ob={code:0,name:"identity",encode:sb,digest:e=>Zw(0,sb(e))},ab="raw",lb=85,cb=e=>Ym(e),ub=e=>Ym(e),hb=new TextEncoder,fb=new TextDecoder,db="json",pb=512,gb=e=>hb.encode(JSON.stringify(e)),yb=e=>JSON.parse(fb.decode(e));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const mb={...t,...r,...i,...s,...o,...a,...l,...c,...u,...h};function wb(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const bb=wb("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),vb=wb("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{const t=Km((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),Eb={utf8:bb,"utf-8":bb,hex:mb.base16,latin1:vb,ascii:vb,binary:vb,...mb};function Ab(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=Eb[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):Gm(globalThis.Buffer.from(e,"utf-8"))}function xb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=Eb[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}const Sb={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var Ib=n(703),kb=n(224),Pb=n(325).hp;const Ob=":";function Nb(e){const[t,n]=e.split(Ob);return{namespace:t,reference:n}}function Cb(e,t){return e.includes(":")?[e]:t.chains||[]}var Tb=Object.defineProperty,Rb=Object.defineProperties,_b=Object.getOwnPropertyDescriptors,Bb=Object.getOwnPropertySymbols,Ub=Object.prototype.hasOwnProperty,Lb=Object.prototype.propertyIsEnumerable,Db=(e,t,n)=>t in e?Tb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mb=(e,t)=>{for(var n in t||(t={}))Ub.call(t,n)&&Db(e,n,t[n]);if(Bb)for(var n of Bb(t))Lb.call(t,n)&&Db(e,n,t[n]);return e},Fb=(e,t,n)=>Db(e,"symbol"!=typeof t?t+"":t,n);const zb="react-native",jb="node",Vb="browser",Hb="unknown",qb="js";function $b(){return typeof kb<"u"&&typeof kb.versions<"u"&&typeof kb.versions.node<"u"}function Gb(){return!(0,qg.getDocument)()&&!!(0,qg.getNavigator)()&&"ReactNative"===navigator.product}function Kb(){return!$b()&&!!(0,qg.getNavigator)()&&!!(0,qg.getDocument)()}function Qb(){return Gb()?zb:$b()?jb:Kb()?Vb:Hb}function Wb(){var e;try{return Gb()&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Application)<"u"?null==(e=n.g.Application)?void 0:e.applicationId:void 0}catch{return}}function Jb(e){var t,n;const r=Yb();try{return null!=e&&e.url&&r.url&&new URL(e.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),e.url=r.url),null!=(t=e?.icons)&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(e=>""!==e)),((e,t)=>Rb(e,_b(t)))(Mb(Mb({},r),e),{url:e?.url||r.url,name:e?.name||r.name,description:e?.description||r.description,icons:null!=(n=e?.icons)&&n.length&&e.icons.length>0?e.icons:r.icons})}catch(sc){return console.warn("Error populating app metadata",sc),e||r}}function Yb(){return(0,$g.g)()||{name:"",description:"",url:"",icons:[""]}}function Zb(e,t,r){const i=function(){if(Qb()===zb&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Platform)<"u"){const{OS:e,Version:t}=n.g.Platform;return[e,t].join("-")}const e=jg();if(null===e)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return"browser"===e.type?[t,e.name,e.version].join("-"):[t,e.version].join("-")}(),s=function(){var e;const t=Qb();return t===Vb?[t,(null==(e=(0,qg.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),[qb,r].join("-"),i,s].join("/")}function Xb(e){let{protocol:t,version:n,relayUrl:r,sdkVersion:i,auth:s,projectId:o,useOnCloseEvent:a,bundleId:l,packageName:c}=e;const u=r.split("?"),h={auth:s,ua:Zb(t,n,i),projectId:o,useOnCloseEvent:a||void 0,packageName:c||void 0,bundleId:l||void 0},f=function(e,t){const n=new URLSearchParams(e);for(const r of Object.keys(t).sort())if(t.hasOwnProperty(r)){const e=t[r];void 0!==e&&n.set(r,e)}return n.toString()}(u[1]||"",h);return u[0]+"?"+f}function ev(e,t){return e.filter(e=>t.includes(e)).length===e.length}function tv(e){return Object.fromEntries(e.entries())}function nv(e){return new Map(Object.entries(e))}function rv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ku.FIVE_MINUTES,t=arguments.length>1?arguments[1]:void 0;const n=(0,ku.toMiliseconds)(e||ku.FIVE_MINUTES);let r,i,s,o;return{resolve:e=>{s&&r&&(clearTimeout(s),r(e),o=Promise.resolve(e))},reject:e=>{s&&i&&(clearTimeout(s),i(e))},done:()=>new Promise((e,a)=>{if(o)return e(o);s=setTimeout(()=>{const e=new Error(t);o=Promise.reject(e),a(e)},n),r=e,i=a})}}function iv(e,t,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),t);try{r(await e)}catch(lc){i(lc)}clearTimeout(s)})}function sv(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function ov(e){const[t,n]=e.split(":"),r={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof n)r.topic=n;else{if("id"!==t||!Number.isInteger(Number(n)))throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${n}`);r.id=Number(n)}return r}function av(e,t){return(0,ku.fromMiliseconds)((t||Date.now())+(0,ku.toMiliseconds)(e))}function lv(e){return Date.now()>=(0,ku.toMiliseconds)(e)}function cv(e,t){return`${e}${t?`:${t}`:""}`}function uv(){return[...new Set([...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],...arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]])]}async function hv(e){let{id:t,topic:r,wcDeepLink:i}=e;var s;try{if(!i)return;const e="string"==typeof i?JSON.parse(i):i,o=e?.href;if("string"!=typeof o)return;const a=function(e,t,n){const r=`requestId=${t}&sessionTopic=${n}`;e.endsWith("/")&&(e=e.slice(0,-1));let i=`${e}`;if(e.startsWith("https://t.me")){i=`${i}${e.includes("?")?"&startapp=":"?startapp="}${function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Pb.from(e).toString("base64");return t?n.replace(/[=]/g,""):n}(r,!0)}`}else i=`${i}/wc?${r}`;return i}(o,t,r),l=Qb();if(l===Vb){if(null==(s=(0,qg.getDocument)())||!s.hasFocus())return void console.warn("Document does not have focus, skipping deeplink.");!function(e){let t="_self";!function(){try{return window.self!==window.top}catch{return!1}}()?(typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"):t="_top",window.open(e,t,"noreferrer noopener")}(a)}else l===zb&&typeof(null==n.g?void 0:n.g.Linking)<"u"&&await n.g.Linking.openURL(a)}catch(sc){console.error(sc)}}function fv(e,t){if(!e.includes(t))return null;const n=e.split(/([&,?,=])/),r=n.indexOf(t);return n[r+2]}function dv(){return typeof crypto<"u"&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function pv(){return typeof kb<"u"&&"true"==={NODE_ENV:"production",PUBLIC_URL:"/wallet-viewer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.IS_VITEST}function gv(e){return Pb.from(e,"base64").toString("utf-8")}class yv{constructor(e){let{limit:t}=e;Fb(this,"limit"),Fb(this,"set"),this.limit=t,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const e=this.set.values().next().value;e&&this.set.delete(e)}this.set.add(e)}}has(e){return this.set.has(e)}}const mv=BigInt(2**32-1),wv=BigInt(32);function bv(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&mv),l:Number(e>>wv&mv)}:{h:0|Number(e>>wv&mv),l:0|Number(e&mv)}}function vv(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:n,l:o}=bv(e[s],t);[r[s],i[s]]=[n,o]}return[r,i]}const Ev=(e,t,n)=>e>>>n,Av=(e,t,n)=>e<<32-n|t>>>n,xv=(e,t,n)=>e>>>n|t<<32-n,Sv=(e,t,n)=>e<<32-n|t>>>n,Iv=(e,t,n)=>e<<64-n|t>>>n-32,kv=(e,t,n)=>e>>>n-32|t<<64-n,Pv=(e,t)=>t,Ov=(e,t)=>e;function Nv(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}const Cv=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),Tv=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,Rv=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),_v=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,Bv=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Uv=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,Lv="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function Dv(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function Mv(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Fv(e){if(!Dv(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function zv(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");Mv(e.outputLen),Mv(e.blockLen)}function jv(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Vv(e,t){Fv(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Hv(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function qv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;r++)t[r].fill(0)}function $v(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Gv(e,t){return e<<32-t|e>>>t}const Kv=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function Qv(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const Wv=Kv?e=>e:e=>Qv(e);const Jv=Kv?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=Qv(e[t]);return e},Yv="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,Zv=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Xv(e){if(Fv(e),Yv)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Zv[e[n]];return t}const eE=48,tE=57,nE=65,rE=70,iE=97,sE=102;function oE(e){return e>=eE&&e<=tE?e-eE:e>=nE&&e<=rE?e-(nE-10):e>=iE&&e<=sE?e-(iE-10):void 0}function aE(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(Yv)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const t=oE(e.charCodeAt(s)),n=oE(e.charCodeAt(s+1));if(void 0===t||void 0===n){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[i]=16*t+n}return r}function lE(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e)),Fv(e),e}function cE(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];Fv(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}class uE{}function hE(e){const t=t=>e().update(lE(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function fE(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(Lv&&"function"==typeof Lv.getRandomValues)return Lv.getRandomValues(new Uint8Array(e));if(Lv&&"function"==typeof Lv.randomBytes)return Uint8Array.from(Lv.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const dE=BigInt(0),pE=BigInt(1),gE=BigInt(2),yE=BigInt(7),mE=BigInt(256),wE=BigInt(113),bE=[],vE=[],EE=[];for(let n=0,D_=pE,M_=1,F_=0;n<24;n++){[M_,F_]=[F_,(2*M_+3*F_)%5],bE.push(2*(5*F_+M_)),vE.push((n+1)*(n+2)/2%64);let e=dE;for(let t=0;t<7;t++)D_=(D_<<pE^(D_>>yE)*wE)%mE,D_&gE&&(e^=pE<<(pE<<BigInt(t))-pE);EE.push(e)}const AE=vv(EE,!0),xE=AE[0],SE=AE[1],IE=(e,t,n)=>n>32?((e,t,n)=>t<<n-32|e>>>64-n)(e,t,n):((e,t,n)=>e<<n|t>>>32-n)(e,t,n),kE=(e,t,n)=>n>32?((e,t,n)=>e<<n-32|t>>>64-n)(e,t,n):((e,t,n)=>t<<n|e>>>32-n)(e,t,n);class PE extends uE{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,Mv(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Hv(this.state)}clone(){return this._cloneInto()}keccak(){Jv(this.state32),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],o=n[i+1],a=IE(s,o,1)^n[t],l=kE(s,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=l}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=vE[n],s=IE(t,i,r),o=kE(t,i,r),a=bE[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=xE[r],e[1]^=SE[r]}qv(n)}(this.state32,this.rounds),Jv(this.state32),this.posOut=0,this.pos=0}update(e){jv(this),Fv(e=lE(e));const{blockLen:t,state:n}=this,r=e.length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){jv(this,!1),Fv(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Mv(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Vv(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,qv(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new PE(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const OE=((e,t,n)=>hE(()=>new PE(t,e,n)))(1,136,32);function NE(e,t,n){return e&t^~e&n}function CE(e,t,n){return e&t^e&n^t&n}class TE extends uE{constructor(e,t,n,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.buffer=new Uint8Array(e),this.view=$v(this.buffer)}update(e){jv(this),Fv(e=lE(e));const{view:t,buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){const t=$v(e);for(;r<=i-s;s+=r)this.process(t,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){jv(this),Vv(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,qv(this.buffer.subarray(s)),this.padOffset>r-s&&(this.process(n,0),s=0);for(let u=s;u<r;u++)t[u]=0;(function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;e.setUint32(t+l,o,r),e.setUint32(t+c,a,r)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=$v(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)o.setUint32(4*u,c[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.destroyed=s,e.finished=i,e.length=r,e.pos=o,r%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const RE=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_E=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),BE=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),UE=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),LE=new Uint32Array(64);class DE extends TE{constructor(){super(64,arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,8,!1),this.A=0|RE[0],this.B=0|RE[1],this.C=0|RE[2],this.D=0|RE[3],this.E=0|RE[4],this.F=0|RE[5],this.G=0|RE[6],this.H=0|RE[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:s,G:o,H:a}=this;return[e,t,n,r,i,s,o,a]}set(e,t,n,r,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let u=0;u<16;u++,t+=4)LE[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=LE[u-15],t=LE[u-2],n=Gv(e,7)^Gv(e,18)^e>>>3,r=Gv(t,17)^Gv(t,19)^t>>>10;LE[u]=r+LE[u-7]+n+LE[u-16]|0}let{A:n,B:r,C:i,D:s,E:o,F:a,G:l,H:c}=this;for(let u=0;u<64;u++){const e=c+(Gv(o,6)^Gv(o,11)^Gv(o,25))+NE(o,a,l)+UE[u]+LE[u]|0,t=(Gv(n,2)^Gv(n,13)^Gv(n,22))+CE(n,r,i)|0;c=l,l=a,a=o,o=s+e|0,s=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,r,i,s,o,a,l,c)}roundClean(){qv(LE)}destroy(){this.set(0,0,0,0,0,0,0,0),qv(this.buffer)}}const ME=vv(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),FE=ME[0],zE=ME[1],jE=new Uint32Array(80),VE=new Uint32Array(80);class HE extends TE{constructor(){super(128,arguments.length>0&&void 0!==arguments[0]?arguments[0]:64,16,!1),this.Ah=0|BE[0],this.Al=0|BE[1],this.Bh=0|BE[2],this.Bl=0|BE[3],this.Ch=0|BE[4],this.Cl=0|BE[5],this.Dh=0|BE[6],this.Dl=0|BE[7],this.Eh=0|BE[8],this.El=0|BE[9],this.Fh=0|BE[10],this.Fl=0|BE[11],this.Gh=0|BE[12],this.Gl=0|BE[13],this.Hh=0|BE[14],this.Hl=0|BE[15]}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:l,El:c,Fh:u,Fl:h,Gh:f,Gl:d,Hh:p,Hl:g}=this;return[e,t,n,r,i,s,o,a,l,c,u,h,f,d,p,g]}set(e,t,n,r,i,s,o,a,l,c,u,h,f,d,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|h,this.Gh=0|f,this.Gl=0|d,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let w=0;w<16;w++,t+=4)jE[w]=e.getUint32(t),VE[w]=e.getUint32(t+=4);for(let w=16;w<80;w++){const e=0|jE[w-15],t=0|VE[w-15],n=xv(e,t,1)^xv(e,t,8)^Ev(e,0,7),r=Sv(e,t,1)^Sv(e,t,8)^Av(e,t,7),i=0|jE[w-2],s=0|VE[w-2],o=xv(i,s,19)^Iv(i,s,61)^Ev(i,0,6),a=Sv(i,s,19)^kv(i,s,61)^Av(i,s,6),l=Rv(r,a,VE[w-7],VE[w-16]),c=_v(l,n,o,jE[w-7],jE[w-16]);jE[w]=0|c,VE[w]=0|l}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:l,Dl:c,Eh:u,El:h,Fh:f,Fl:d,Gh:p,Gl:g,Hh:y,Hl:m}=this;for(let w=0;w<80;w++){const e=xv(u,h,14)^xv(u,h,18)^Iv(u,h,41),t=Sv(u,h,14)^Sv(u,h,18)^kv(u,h,41),b=u&f^~u&p,v=Bv(m,t,h&d^~h&g,zE[w],VE[w]),E=Uv(v,y,e,b,FE[w],jE[w]),A=0|v,x=xv(n,r,28)^Iv(n,r,34)^Iv(n,r,39),S=Sv(n,r,28)^kv(n,r,34)^kv(n,r,39),I=n&i^n&o^i&o,k=r&s^r&a^s&a;y=0|p,m=0|g,p=0|f,g=0|d,f=0|u,d=0|h,({h:u,l:h}=Nv(0|l,0|c,0|E,0|A)),l=0|o,c=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const P=Cv(A,S,k);n=Tv(P,E,x,I),r=0|P}({h:n,l:r}=Nv(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=Nv(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=Nv(0|this.Ch,0|this.Cl,0|o,0|a)),({h:l,l:c}=Nv(0|this.Dh,0|this.Dl,0|l,0|c)),({h:u,l:h}=Nv(0|this.Eh,0|this.El,0|u,0|h)),({h:f,l:d}=Nv(0|this.Fh,0|this.Fl,0|f,0|d)),({h:p,l:g}=Nv(0|this.Gh,0|this.Gl,0|p,0|g)),({h:y,l:m}=Nv(0|this.Hh,0|this.Hl,0|y,0|m)),this.set(n,r,i,s,o,a,l,c,u,h,f,d,p,g,y,m)}roundClean(){qv(jE,VE)}destroy(){qv(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class qE extends HE{constructor(){super(48),this.Ah=0|_E[0],this.Al=0|_E[1],this.Bh=0|_E[2],this.Bl=0|_E[3],this.Ch=0|_E[4],this.Cl=0|_E[5],this.Dh=0|_E[6],this.Dl=0|_E[7],this.Eh=0|_E[8],this.El=0|_E[9],this.Fh=0|_E[10],this.Fl=0|_E[11],this.Gh=0|_E[12],this.Gl=0|_E[13],this.Hh=0|_E[14],this.Hl=0|_E[15]}}const $E=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class GE extends HE{constructor(){super(32),this.Ah=0|$E[0],this.Al=0|$E[1],this.Bh=0|$E[2],this.Bl=0|$E[3],this.Ch=0|$E[4],this.Cl=0|$E[5],this.Dh=0|$E[6],this.Dl=0|$E[7],this.Eh=0|$E[8],this.El=0|$E[9],this.Fh=0|$E[10],this.Fl=0|$E[11],this.Gh=0|$E[12],this.Gl=0|$E[13],this.Hh=0|$E[14],this.Hl=0|$E[15]}}const KE=hE(()=>new DE),QE=hE(()=>new HE),WE=hE(()=>new qE),JE=hE(()=>new GE),YE=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),ZE=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),XE=new Uint32Array(32);function eA(e,t,n,r,i,s){const o=i[s],a=i[s+1];let l=XE[2*e],c=XE[2*e+1],u=XE[2*t],h=XE[2*t+1],f=XE[2*n],d=XE[2*n+1],p=XE[2*r],g=XE[2*r+1],y=Cv(l,u,o);c=Tv(y,c,h,a),l=0|y,({Dh:g,Dl:p}={Dh:g^c,Dl:p^l}),({Dh:g,Dl:p}={Dh:Pv(0,p),Dl:Ov(g)}),({h:d,l:f}=Nv(d,f,g,p)),({Bh:h,Bl:u}={Bh:h^d,Bl:u^f}),({Bh:h,Bl:u}={Bh:xv(h,u,24),Bl:Sv(h,u,24)}),XE[2*e]=l,XE[2*e+1]=c,XE[2*t]=u,XE[2*t+1]=h,XE[2*n]=f,XE[2*n+1]=d,XE[2*r]=p,XE[2*r+1]=g}function tA(e,t,n,r,i,s){const o=i[s],a=i[s+1];let l=XE[2*e],c=XE[2*e+1],u=XE[2*t],h=XE[2*t+1],f=XE[2*n],d=XE[2*n+1],p=XE[2*r],g=XE[2*r+1],y=Cv(l,u,o);c=Tv(y,c,h,a),l=0|y,({Dh:g,Dl:p}={Dh:g^c,Dl:p^l}),({Dh:g,Dl:p}={Dh:xv(g,p,16),Dl:Sv(g,p,16)}),({h:d,l:f}=Nv(d,f,g,p)),({Bh:h,Bl:u}={Bh:h^d,Bl:u^f}),({Bh:h,Bl:u}={Bh:Iv(h,u,63),Bl:kv(h,u,63)}),XE[2*e]=l,XE[2*e+1]=c,XE[2*t]=u,XE[2*t+1]=h,XE[2*n]=f,XE[2*n+1]=d,XE[2*r]=p,XE[2*r+1]=g}class nA extends uE{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Mv(e),Mv(t),this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=Hv(this.buffer)}update(e){jv(this),Fv(e=lE(e));const{blockLen:t,buffer:n,buffer32:r}=this,i=e.length,s=e.byteOffset,o=e.buffer;for(let a=0;a<i;){this.pos===t&&(Jv(r),this.compress(r,0,!1),Jv(r),this.pos=0);const l=Math.min(t-this.pos,i-a),c=s+a;if(l===t&&!(c%4)&&a+l<i){const e=new Uint32Array(o,c,Math.floor((i-a)/4));Jv(e);for(let n=0;a+t<i;n+=r.length,a+=t)this.length+=t,this.compress(e,n,!1);Jv(e);continue}n.set(e.subarray(a,a+l),this.pos),this.pos+=l,this.length+=l,a+=l}return this}digestInto(e){jv(this),Vv(e,this);const{pos:t,buffer32:n}=this;this.finished=!0,qv(this.buffer.subarray(t)),Jv(n),this.compress(n,0,!0),Jv(n);const r=Hv(e);this.get().forEach((e,t)=>r[t]=Wv(e))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){const{buffer:t,length:n,finished:r,destroyed:i,outputLen:s,pos:o}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.buffer.set(t),e.destroyed=i,e.finished=r,e.length=n,e.pos=o,e.outputLen=s,e}clone(){return this._cloneInto()}}class rA extends nA{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=void 0===e.dkLen?64:e.dkLen;super(128,t),this.v0l=0|ZE[0],this.v0h=0|ZE[1],this.v1l=0|ZE[2],this.v1h=0|ZE[3],this.v2l=0|ZE[4],this.v2h=0|ZE[5],this.v3l=0|ZE[6],this.v3h=0|ZE[7],this.v4l=0|ZE[8],this.v4h=0|ZE[9],this.v5l=0|ZE[10],this.v5h=0|ZE[11],this.v6l=0|ZE[12],this.v6h=0|ZE[13],this.v7l=0|ZE[14],this.v7h=0|ZE[15],function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(Mv(n),e<0||e>n)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=t;if(void 0!==s&&(s.length<1||s.length>n))throw new Error("key length must be undefined or 1.."+n);if(void 0!==o&&o.length!==r)throw new Error("salt must be undefined or "+r);if(void 0!==a&&a.length!==i)throw new Error("personalization must be undefined or "+i)}(t,e,64,16,16);let{key:n,personalization:r,salt:i}=e,s=0;if(void 0!==n&&(n=lE(n),s=n.length),this.v0l^=this.outputLen|s<<8|65536|1<<24,void 0!==i){i=lE(i);const e=Hv(i);this.v4l^=Wv(e[0]),this.v4h^=Wv(e[1]),this.v5l^=Wv(e[2]),this.v5h^=Wv(e[3])}if(void 0!==r){r=lE(r);const e=Hv(r);this.v6l^=Wv(e[0]),this.v6h^=Wv(e[1]),this.v7l^=Wv(e[2]),this.v7h^=Wv(e[3])}if(void 0!==n){const e=new Uint8Array(this.blockLen);e.set(n),this.update(e)}}get(){let{v0l:e,v0h:t,v1l:n,v1h:r,v2l:i,v2h:s,v3l:o,v3h:a,v4l:l,v4h:c,v5l:u,v5h:h,v6l:f,v6h:d,v7l:p,v7h:g}=this;return[e,t,n,r,i,s,o,a,l,c,u,h,f,d,p,g]}set(e,t,n,r,i,s,o,a,l,c,u,h,f,d,p,g){this.v0l=0|e,this.v0h=0|t,this.v1l=0|n,this.v1h=0|r,this.v2l=0|i,this.v2h=0|s,this.v3l=0|o,this.v3h=0|a,this.v4l=0|l,this.v4h=0|c,this.v5l=0|u,this.v5h=0|h,this.v6l=0|f,this.v6h=0|d,this.v7l=0|p,this.v7h=0|g}compress(e,t,n){this.get().forEach((e,t)=>XE[t]=e),XE.set(ZE,16);let{h:r,l:i}=bv(BigInt(this.length));XE[24]=ZE[8]^i,XE[25]=ZE[9]^r,n&&(XE[28]=~XE[28],XE[29]=~XE[29]);let s=0;const o=YE;for(let a=0;a<12;a++)eA(0,4,8,12,e,t+2*o[s++]),tA(0,4,8,12,e,t+2*o[s++]),eA(1,5,9,13,e,t+2*o[s++]),tA(1,5,9,13,e,t+2*o[s++]),eA(2,6,10,14,e,t+2*o[s++]),tA(2,6,10,14,e,t+2*o[s++]),eA(3,7,11,15,e,t+2*o[s++]),tA(3,7,11,15,e,t+2*o[s++]),eA(0,5,10,15,e,t+2*o[s++]),tA(0,5,10,15,e,t+2*o[s++]),eA(1,6,11,12,e,t+2*o[s++]),tA(1,6,11,12,e,t+2*o[s++]),eA(2,7,8,13,e,t+2*o[s++]),tA(2,7,8,13,e,t+2*o[s++]),eA(3,4,9,14,e,t+2*o[s++]),tA(3,4,9,14,e,t+2*o[s++]);this.v0l^=XE[0]^XE[16],this.v0h^=XE[1]^XE[17],this.v1l^=XE[2]^XE[18],this.v1h^=XE[3]^XE[19],this.v2l^=XE[4]^XE[20],this.v2h^=XE[5]^XE[21],this.v3l^=XE[6]^XE[22],this.v3h^=XE[7]^XE[23],this.v4l^=XE[8]^XE[24],this.v4h^=XE[9]^XE[25],this.v5l^=XE[10]^XE[26],this.v5h^=XE[11]^XE[27],this.v6l^=XE[12]^XE[28],this.v6h^=XE[13]^XE[29],this.v7l^=XE[14]^XE[30],this.v7h^=XE[15]^XE[31],qv(XE)}destroy(){this.destroyed=!0,qv(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const iA=function(e){const t=(t,n)=>e(n).update(lE(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}(e=>new rA(e)),sA="https://rpc.walletconnect.org/v1";function oA(e){const t=`\x19Ethereum Signed Message:\n${e.length}`,n=(new TextEncoder).encode(t+e);return"0x"+Pb.from(OE(n)).toString("hex")}async function aA(e,t,n,r,i,s){switch(n.t){case"eip191":return await async function(e,t,n){return(await zy({hash:oA(t),signature:n})).toLowerCase()===e.toLowerCase()}(e,t,n.s);case"eip1271":return await async function(e,t,n,r,i,s){const o=Nb(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const o="0x1626ba7e",a="0000000000000000000000000000000000000000000000000000000000000040",l=n.substring(2),c=(l.length/2).toString(16).padStart(64,"0"),u=o+(t.startsWith("0x")?t:oA(t)).substring(2)+a+c+l,h=await fetch(`${s||sA}/?chainId=${r}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:lA(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:u},"latest"]})}),{result:f}=await h.json();return!!f&&f.slice(0,o.length).toLowerCase()===o.toLowerCase()}catch(hc){return console.error("isValidEip1271Signature: ",hc),!1}}(e,t,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}function lA(){return Date.now()+Math.floor(1e3*Math.random())}function cA(e){const t=new Uint8Array(Pb.from(e,"base64")),n=Array.from("TransactionData::").map(e=>e.charCodeAt(0)),r=new Uint8Array(n.length+t.length);r.set(n),r.set(t,n.length);const i=iA(r,{dkLen:32});return Vy.encode(i)}function uA(e){const t=new Uint8Array(KE(function(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if("object"==typeof e&&null!=e&&e.data)return new Uint8Array(Object.values(e.data));if("object"==typeof e&&e)return new Uint8Array(Object.values(e));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}(e)));return Vy.encode(t)}function hA(e){const t=Pb.from(e,"base64"),n=(r=t,new fm(i).decode(r)).txn;var r,i;if(!n)throw new Error("Invalid signed transaction: missing 'txn' field");const s=function(e,t){return new dm(t).encodeSharedRef(e)}(n),o=Pb.from("TX"),a=Pb.concat([o,Pb.from(s)]),l=JE(a);return Lm.encode(l).replace(/=+$/,"")}function fA(e){const t=[];let n=BigInt(e);for(;n>=BigInt(128);)t.push(Number(n&BigInt(127)|BigInt(128))),n>>=BigInt(7);return t.push(Number(n)),Pb.from(t)}function dA(e){const t=Pb.from(e.signed.bodyBytes,"base64"),n=Pb.from(e.signed.authInfoBytes,"base64"),r=Pb.from(e.signature.signature,"base64"),i=[];i.push(Pb.from([10])),i.push(fA(t.length)),i.push(t),i.push(Pb.from([18])),i.push(fA(n.length)),i.push(n),i.push(Pb.from([26])),i.push(fA(r.length)),i.push(r);const s=Pb.concat(i),o=KE(s);return Pb.from(o).toString("hex").toUpperCase()}var pA=Object.defineProperty,gA=Object.defineProperties,yA=Object.getOwnPropertyDescriptors,mA=Object.getOwnPropertySymbols,wA=Object.prototype.hasOwnProperty,bA=Object.prototype.propertyIsEnumerable,vA=(e,t,n)=>t in e?pA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EA=(e,t)=>{for(var n in t||(t={}))wA.call(t,n)&&vA(e,n,t[n]);if(mA)for(var n of mA(t))bA.call(t,n)&&vA(e,n,t[n]);return e},AA=(e,t)=>gA(e,yA(t));const xA=e=>e?.split(":"),SA=e=>{const t=e&&xA(e);if(t)return t[2]+":"+t[3]},IA=e=>{const t=e&&xA(e);if(t)return t.pop()};async function kA(e){const{cacao:t,projectId:n}=e,{s:r,p:i}=t,s=PA(i,i.iss),o=IA(i.iss);return await aA(o,s,r,SA(i.iss),n)}const PA=(e,t)=>{const n=`${e.domain} wants you to sign in with your Ethereum account:`,r=IA(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=e.statement||void 0;const s=`URI: ${e.aud||e.uri}`,o=`Version: ${e.version}`,a=`Chain ID: ${(e=>{const t=e&&xA(e);if(t)return e.includes("did:pkh:")?t[3]:t[1]})(t)}`,l=`Nonce: ${e.nonce}`,c=`Issued At: ${e.iat}`,u=e.exp?`Expiration Time: ${e.exp}`:void 0,h=e.nbf?`Not Before: ${e.nbf}`:void 0,f=e.requestId?`Request ID: ${e.requestId}`:void 0,d=e.resources?`Resources:${e.resources.map(e=>`\n- ${e}`).join("")}`:void 0,p=MA(e.resources);if(p){i=UA(i,TA(p))}return[n,r,"",i,"",s,o,a,l,c,u,h,f,d].filter(e=>null!=e).join("\n")};function OA(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(null==t||!t.length)throw new Error("No resources found in `att` property");t.forEach(t=>{const n=e.att[t];if(Array.isArray(n))throw new Error(`Resource must be an object: ${t}`);if("object"!=typeof n)throw new Error(`Resource must be an object: ${t}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${t}`);Object.keys(n).forEach(e=>{const t=n[e];if(!Array.isArray(t))throw new Error(`Ability limits ${e} must be an array of objects, found: ${t}`);if(!t.length)throw new Error(`Value of ${e} is empty array, must be an array with objects`);t.forEach(t=>{if("object"!=typeof t)throw new Error(`Ability limits (${e}) must be an array of objects, found: ${t}`)})})})}function NA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=t?.sort((e,t)=>e.localeCompare(t));const r=t.map(t=>({[`${e}/${t}`]:[n]}));return Object.assign({},...r)}function CA(e){return OA(e),`urn:recap:${function(e){return Pb.from(JSON.stringify(e)).toString("base64")}(e).replace(/=/g,"")}`}function TA(e){const t=function(e){return JSON.parse(Pb.from(e,"base64").toString("utf-8"))}(e.replace("urn:recap:",""));return OA(t),t}function RA(e,t,n){const r=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return n?.sort((e,t)=>e.localeCompare(t)),{att:{[e]:NA(t,n,r)}}}(e,t,n);return CA(r)}function _A(e){return e&&e.includes("urn:recap:")}function BA(e,t){const n=function(e,t){OA(e),OA(t);const n=Object.keys(e.att).concat(Object.keys(t.att)).sort((e,t)=>e.localeCompare(t)),r={att:{}};return n.forEach(n=>{var i,s;Object.keys((null==(i=e.att)?void 0:i[n])||{}).concat(Object.keys((null==(s=t.att)?void 0:s[n])||{})).sort((e,t)=>e.localeCompare(t)).forEach(i=>{var s,o;r.att[n]=AA(EA({},r.att[n]),{[i]:(null==(s=e.att[n])?void 0:s[i])||(null==(o=t.att[n])?void 0:o[i])})})}),r}(TA(e),TA(t));return CA(n)}function UA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;OA(t);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(n))return e;const r=[];let i=0;Object.keys(t.att).forEach(e=>{const n=Object.keys(t.att[e]).map(e=>({ability:e.split("/")[0],action:e.split("/")[1]}));n.sort((e,t)=>e.action.localeCompare(t.action));const s={};n.forEach(e=>{s[e.ability]||(s[e.ability]=[]),s[e.ability].push(e.action)});const o=Object.keys(s).map(t=>(i++,`(${i}) '${t}': '${s[t].join("', '")}' for '${e}'.`));r.push(o.join(", ").replace(".,","."))});return`${e?e+" ":""}${`${n}${r.join(" ")}`}`}function LA(e){var t;const n=TA(e);OA(n);const r=null==(t=n.att)?void 0:t.eip155;return r?Object.keys(r).map(e=>e.split("/")[1]):[]}function DA(e){const t=TA(e);OA(t);const n=[];return Object.values(t.att).forEach(e=>{Object.values(e).forEach(e=>{var t;null!=(t=e?.[0])&&t.chains&&n.push(e[0].chains)})}),[...new Set(n.flat())]}function MA(e){if(!e)return;const t=e?.[e.length-1];return _A(t)?t:void 0}function FA(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function zA(e){if("boolean"!=typeof e)throw new Error(`boolean expected, not ${e}`)}function jA(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function VA(e){if(!FA(e))throw new Error("Uint8Array expected");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function HA(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function qA(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function $A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;r++)t[r].fill(0)}const GA=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];function KA(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e);else{if(!FA(e))throw new Error("Uint8Array expected, got "+typeof e);e=YA(e)}return e}function QA(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(n&&!function(e){return e.byteOffset%4===0}(t))throw new Error("invalid output, must be aligned");return t}function WA(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;e.setUint32(t+l,o,r),e.setUint32(t+c,a,r)}function JA(e,t,n){zA(n);const r=new Uint8Array(16),i=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}(r);return WA(i,0,BigInt(t),n),WA(i,8,BigInt(e),n),r}function YA(e){return Uint8Array.from(e)}const ZA=e=>Uint8Array.from(e.split("").map(e=>e.charCodeAt(0))),XA=ZA("expand 16-byte k"),ex=ZA("expand 32-byte k"),tx=qA(XA),nx=qA(ex);function rx(e,t){return e<<t|e>>>32-t}function ix(e){return e.byteOffset%4===0}const sx=2**32-1,ox=new Uint32Array;const ax=(e,t)=>255&e[t++]|(255&e[t++])<<8;class lx{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,VA(e=KA(e),32);const t=ax(e,0),n=ax(e,2),r=ax(e,4),i=ax(e,6),s=ax(e,8),o=ax(e,10),a=ax(e,12),l=ax(e,14);this.r[0]=8191&t,this.r[1]=8191&(t>>>13|n<<3),this.r[2]=7939&(n>>>10|r<<6),this.r[3]=8191&(r>>>7|i<<9),this.r[4]=255&(i>>>4|s<<12),this.r[5]=s>>>1&8190,this.r[6]=8191&(s>>>14|o<<2),this.r[7]=8065&(o>>>11|a<<5),this.r[8]=8191&(a>>>8|l<<8),this.r[9]=l>>>5&127;for(let c=0;c<8;c++)this.pad[c]=ax(e,16+2*c)}process(e,t){const n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?0:2048,{h:r,r:i}=this,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],h=i[6],f=i[7],d=i[8],p=i[9],g=ax(e,t+0),y=ax(e,t+2),m=ax(e,t+4),w=ax(e,t+6),b=ax(e,t+8),v=ax(e,t+10),E=ax(e,t+12),A=ax(e,t+14);let x=r[0]+(8191&g),S=r[1]+(8191&(g>>>13|y<<3)),I=r[2]+(8191&(y>>>10|m<<6)),k=r[3]+(8191&(m>>>7|w<<9)),P=r[4]+(8191&(w>>>4|b<<12)),O=r[5]+(b>>>1&8191),N=r[6]+(8191&(b>>>14|v<<2)),C=r[7]+(8191&(v>>>11|E<<5)),T=r[8]+(8191&(E>>>8|A<<8)),R=r[9]+(A>>>5|n),_=0,B=_+x*s+S*(5*p)+I*(5*d)+k*(5*f)+P*(5*h);_=B>>>13,B&=8191,B+=O*(5*u)+N*(5*c)+C*(5*l)+T*(5*a)+R*(5*o),_+=B>>>13,B&=8191;let U=_+x*o+S*s+I*(5*p)+k*(5*d)+P*(5*f);_=U>>>13,U&=8191,U+=O*(5*h)+N*(5*u)+C*(5*c)+T*(5*l)+R*(5*a),_+=U>>>13,U&=8191;let L=_+x*a+S*o+I*s+k*(5*p)+P*(5*d);_=L>>>13,L&=8191,L+=O*(5*f)+N*(5*h)+C*(5*u)+T*(5*c)+R*(5*l),_+=L>>>13,L&=8191;let D=_+x*l+S*a+I*o+k*s+P*(5*p);_=D>>>13,D&=8191,D+=O*(5*d)+N*(5*f)+C*(5*h)+T*(5*u)+R*(5*c),_+=D>>>13,D&=8191;let M=_+x*c+S*l+I*a+k*o+P*s;_=M>>>13,M&=8191,M+=O*(5*p)+N*(5*d)+C*(5*f)+T*(5*h)+R*(5*u),_+=M>>>13,M&=8191;let F=_+x*u+S*c+I*l+k*a+P*o;_=F>>>13,F&=8191,F+=O*s+N*(5*p)+C*(5*d)+T*(5*f)+R*(5*h),_+=F>>>13,F&=8191;let z=_+x*h+S*u+I*c+k*l+P*a;_=z>>>13,z&=8191,z+=O*o+N*s+C*(5*p)+T*(5*d)+R*(5*f),_+=z>>>13,z&=8191;let j=_+x*f+S*h+I*u+k*c+P*l;_=j>>>13,j&=8191,j+=O*a+N*o+C*s+T*(5*p)+R*(5*d),_+=j>>>13,j&=8191;let V=_+x*d+S*f+I*h+k*u+P*c;_=V>>>13,V&=8191,V+=O*l+N*a+C*o+T*s+R*(5*p),_+=V>>>13,V&=8191;let H=_+x*p+S*d+I*f+k*h+P*u;_=H>>>13,H&=8191,H+=O*c+N*l+C*a+T*o+R*s,_+=H>>>13,H&=8191,_=(_<<2)+_|0,_=_+B|0,B=8191&_,_>>>=13,U+=_,r[0]=B,r[1]=U,r[2]=L,r[3]=D,r[4]=M,r[5]=F,r[6]=z,r[7]=j,r[8]=V,r[9]=H}finalize(){const{h:e,pad:t}=this,n=new Uint16Array(10);let r=e[1]>>>13;e[1]&=8191;for(let o=2;o<10;o++)e[o]+=r,r=e[o]>>>13,e[o]&=8191;e[0]+=5*r,r=e[0]>>>13,e[0]&=8191,e[1]+=r,r=e[1]>>>13,e[1]&=8191,e[2]+=r,n[0]=e[0]+5,r=n[0]>>>13,n[0]&=8191;for(let o=1;o<10;o++)n[o]=e[o]+r,r=n[o]>>>13,n[o]&=8191;n[9]-=8192;let i=(1^r)-1;for(let o=0;o<10;o++)n[o]&=i;i=~i;for(let o=0;o<10;o++)e[o]=e[o]&i|n[o];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let s=e[0]+t[0];e[0]=65535&s;for(let o=1;o<8;o++)s=(e[o]+t[o]|0)+(s>>>16)|0,e[o]=65535&s;$A(n)}update(e){HA(this),VA(e=KA(e));const{buffer:t,blockLen:n}=this,r=e.length;for(let i=0;i<r;){const s=Math.min(n-this.pos,r-i);if(s!==n)t.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===n&&(this.process(t,0,!1),this.pos=0);else for(;n<=r-i;i+=n)this.process(e,i)}return this}destroy(){$A(this.h,this.r,this.buffer,this.pad)}digestInto(e){HA(this),function(e,t){VA(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;const{buffer:t,h:n}=this;let{pos:r}=this;if(r){for(t[r++]=1;r<16;r++)t[r]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let s=0;s<8;s++)e[i++]=n[s]>>>0,e[i++]=n[s]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}}const cx=function(e){const t=(t,n)=>e(n).update(KA(t)).digest(),n=e(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t}(e=>new lx(e));const ux=function(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=function(e,t){if(null==t||"object"!=typeof t)throw new Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw new Error("core must be a function");return jA(i),jA(o),zA(s),zA(n),function(t,a,l,c){let u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;VA(t),VA(a),VA(l);const h=l.length;if(void 0===c&&(c=new Uint8Array(h)),VA(c),jA(u),u<0||u>=sx)throw new Error("arx: counter overflow");if(c.length<h)throw new Error(`arx: output (${c.length}) is shorter than data (${h})`);const f=[];let d,p,g=t.length;if(32===g)f.push(d=YA(t)),p=nx;else{if(16!==g||!n)throw new Error(`arx: invalid 32-byte key, got length=${g}`);d=new Uint8Array(32),d.set(t),d.set(t,16),p=tx,f.push(d)}ix(a)||f.push(a=YA(a));const y=qA(d);if(r){if(24!==a.length)throw new Error("arx: extended nonce must be 24 bytes");r(p,y,qA(a.subarray(0,16)),y),a=a.subarray(16)}const m=16-i;if(m!==a.length)throw new Error(`arx: nonce must be ${m} or 16 bytes`);if(12!==m){const e=new Uint8Array(12);e.set(a,s?0:12-a.length),a=e,f.push(a)}const w=qA(a);return function(e,t,n,r,i,s,o,a){const l=i.length,c=new Uint8Array(64),u=qA(c),h=ix(i)&&ix(s),f=h?qA(i):ox,d=h?qA(s):ox;for(let p=0;p<l;o++){if(e(t,n,r,u,o,a),o>=sx)throw new Error("arx: counter overflow");const g=Math.min(64,l-p);if(h&&64===g){const e=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let t,n=0;n<16;n++)t=e+n,d[t]=f[t]^u[n];p+=64;continue}for(let e,t=0;t<g;t++)e=p+t,s[e]=i[e]^c[t];p+=g}}(e,p,y,w,l,c,u,o),$A(...f),c}}(function(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:20,o=e[0],a=e[1],l=e[2],c=e[3],u=t[0],h=t[1],f=t[2],d=t[3],p=t[4],g=t[5],y=t[6],m=t[7],w=i,b=n[0],v=n[1],E=n[2],A=o,x=a,S=l,I=c,k=u,P=h,O=f,N=d,C=p,T=g,R=y,_=m,B=w,U=b,L=v,D=E;for(let F=0;F<s;F+=2)A=A+k|0,B=rx(B^A,16),C=C+B|0,k=rx(k^C,12),A=A+k|0,B=rx(B^A,8),C=C+B|0,k=rx(k^C,7),x=x+P|0,U=rx(U^x,16),T=T+U|0,P=rx(P^T,12),x=x+P|0,U=rx(U^x,8),T=T+U|0,P=rx(P^T,7),S=S+O|0,L=rx(L^S,16),R=R+L|0,O=rx(O^R,12),S=S+O|0,L=rx(L^S,8),R=R+L|0,O=rx(O^R,7),I=I+N|0,D=rx(D^I,16),_=_+D|0,N=rx(N^_,12),I=I+N|0,D=rx(D^I,8),_=_+D|0,N=rx(N^_,7),A=A+P|0,D=rx(D^A,16),R=R+D|0,P=rx(P^R,12),A=A+P|0,D=rx(D^A,8),R=R+D|0,P=rx(P^R,7),x=x+O|0,B=rx(B^x,16),_=_+B|0,O=rx(O^_,12),x=x+O|0,B=rx(B^x,8),_=_+B|0,O=rx(O^_,7),S=S+N|0,U=rx(U^S,16),C=C+U|0,N=rx(N^C,12),S=S+N|0,U=rx(U^S,8),C=C+U|0,N=rx(N^C,7),I=I+k|0,L=rx(L^I,16),T=T+L|0,k=rx(k^T,12),I=I+k|0,L=rx(L^I,8),T=T+L|0,k=rx(k^T,7);let M=0;r[M++]=o+A|0,r[M++]=a+x|0,r[M++]=l+S|0,r[M++]=c+I|0,r[M++]=u+k|0,r[M++]=h+P|0,r[M++]=f+O|0,r[M++]=d+N|0,r[M++]=p+C|0,r[M++]=g+T|0,r[M++]=y+R|0,r[M++]=m+_|0,r[M++]=w+B|0,r[M++]=b+U|0,r[M++]=v+L|0,r[M++]=E+D|0},{counterRight:!1,counterLength:4,allowShortKeys:!1}),hx=new Uint8Array(16),fx=(e,t)=>{e.update(t);const n=t.length%16;n&&e.update(hx.subarray(n))},dx=new Uint8Array(32);function px(e,t,n,r,i){const s=e(t,n,dx),o=cx.create(s);i&&fx(o,i),fx(o,r);const a=JA(r.length,i?i.length:0,!0);o.update(a);const l=o.digest();return $A(s,a),l}const gx=((e,t)=>{function n(n){if(VA(n),!GA)throw new Error("Non little-endian hardware is not yet supported");for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(void 0!==e.nonceLength){const t=i[0];if(!t)throw new Error("nonce / iv required");e.varSizeNonce?VA(t):VA(t,e.nonceLength)}const o=e.tagLength;o&&void 0!==i[1]&&VA(i[1]);const a=t(n,...i),l=(e,t)=>{if(void 0!==t){if(2!==e)throw new Error("cipher output not supported");VA(t)}};let c=!1;return{encrypt(e,t){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,VA(e),l(a.encrypt.length,t),a.encrypt(e,t)},decrypt(e,t){if(VA(e),o&&e.length<o)throw new Error("invalid ciphertext length: smaller than tagLength="+o);return l(a.decrypt.length,t),a.decrypt(e,t)}}}return Object.assign(n,e),n})({blockSize:64,nonceLength:12,tagLength:16},(e=>(t,n,r)=>({encrypt(i,s){const o=i.length;(s=QA(o+16,s,!1)).set(i);const a=s.subarray(0,-16);e(t,n,a,a,1);const l=px(e,t,n,a,r);return s.set(l,o),$A(l),s},decrypt(i,s){s=QA(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),l=px(e,t,n,o,r);if(!function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n}(a,l))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),e(t,n,s,s,1),$A(l),s}}))(ux));class yx extends uE{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,zv(e);const n=lE(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),qv(i)}update(e){return jv(this),this.iHash.update(e),this}digestInto(e){jv(this),Fv(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=r,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const mx=(e,t,n)=>new yx(e,t).update(n).digest();mx.create=(e,t)=>new yx(e,t);const wx=Uint8Array.from([0]),bx=Uint8Array.of();const vx=(e,t,n,r,i)=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32;zv(e),Mv(r);const i=e.outputLen;if(r>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/i);void 0===n&&(n=bx);const o=new Uint8Array(s*i),a=mx.create(e,t),l=a._cloneInto(),c=new Uint8Array(a.outputLen);for(let u=0;u<s;u++)wx[0]=u+1,l.update(0===u?bx:c).update(n).update(wx).digestInto(c),o.set(c,i*u),a._cloneInto(l);return a.destroy(),l.destroy(),qv(c,wx),o.slice(0,r)}(e,function(e,t,n){return zv(e),void 0===n&&(n=new Uint8Array(e.outputLen)),mx(e,lE(n),lE(t))}(e,t,n),r,i),Ex=KE,Ax=BigInt(0),xx=BigInt(1);function Sx(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}function Ix(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function kx(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?Ax:BigInt("0x"+e)}function Px(e){return kx(Xv(e))}function Ox(e){return Fv(e),kx(Xv(Uint8Array.from(e).reverse()))}function Nx(e,t){return aE(e.toString(16).padStart(2*t,"0"))}function Cx(e,t){return Nx(e,t).reverse()}function Tx(e,t,n){let r;if("string"==typeof t)try{r=aE(t)}catch(ac){throw new Error(e+" must be hex string or Uint8Array, cause: "+ac)}else{if(!Dv(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}const Rx=e=>"bigint"==typeof e&&Ax<=e;function _x(e,t,n,r){if(!function(e,t,n){return Rx(e)&&Rx(t)&&Rx(n)&&t<=e&&e<n}(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}const Bx=e=>(xx<<BigInt(e))-xx;function Ux(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||"object"!=typeof e)throw new Error("expected valid options object");function r(t,n,r){const i=e[t];if(r&&void 0===i)return;const s=typeof i;if(s!==n||null===i)throw new Error(`param "${t}" is invalid: expected ${n}, got ${s}`)}Object.entries(t).forEach(e=>{let[t,n]=e;return r(t,n,!1)}),Object.entries(n).forEach(e=>{let[t,n]=e;return r(t,n,!0)})}function Lx(e){const t=new WeakMap;return function(n){const r=t.get(n);if(void 0!==r)return r;for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];const a=e(n,...s);return t.set(n,a),a}}const Dx=BigInt(0),Mx=BigInt(1),Fx=BigInt(2),zx=BigInt(3),jx=BigInt(4),Vx=BigInt(5),Hx=BigInt(8);function qx(e,t){const n=e%t;return n>=Dx?n:t+n}function $x(e,t,n){let r=e;for(;t-- >Dx;)r*=r,r%=n;return r}function Gx(e,t){if(e===Dx)throw new Error("invert: expected non-zero number");if(t<=Dx)throw new Error("invert: expected positive modulus, got "+t);let n=qx(e,t),r=t,i=Dx,s=Mx;for(;n!==Dx;){const e=r%n,t=i-s*(r/n);r=n,n=e,i=s,s=t}if(r!==Mx)throw new Error("invert: does not exist");return qx(i,t)}function Kx(e,t){const n=(e.ORDER+Mx)/jx,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Qx(e,t){const n=(e.ORDER-Vx)/Hx,r=e.mul(t,Fx),i=e.pow(r,n),s=e.mul(t,i),o=e.mul(e.mul(s,Fx),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function Wx(e){return e%jx===zx?Kx:e%Hx===Vx?Qx:function(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-Mx,n=0;for(;t%Fx===Dx;)t/=Fx,n++;let r=Fx;const i=Xx(e);for(;1===Zx(i,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return Kx;let s=i.pow(r,t);const o=(t+Mx)/Fx;return function(e,r){if(e.is0(r))return r;if(1!==Zx(e,r))throw new Error("Cannot find square root");let i=n,a=e.mul(e.ONE,s),l=e.pow(r,t),c=e.pow(r,o);for(;!e.eql(l,e.ONE);){if(e.is0(l))return e.ZERO;let t=1,n=e.sqr(l);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===i)throw new Error("Cannot find square root");const r=Mx<<BigInt(i-t-1),s=e.pow(a,r);i=t,a=e.sqr(s),l=e.mul(l,a),c=e.mul(c,s)}return c}}(e)}const Jx=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Yx(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),s=e.inv(i);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),s),r}function Zx(e,t){const n=(e.ORDER-Mx)/Fx,r=e.pow(t,n),i=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Xx(e,t){let n,r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=Dx)throw new Error("invalid field: expected ORDER > 0, got "+e);if("object"==typeof t&&null!=t){if(s.sqrt||i)throw new Error("cannot specify opts in two arguments");const e=t;e.BITS&&(n=e.BITS),e.sqrt&&(r=e.sqrt),"boolean"==typeof e.isLE&&(i=e.isLE)}else"number"==typeof t&&(n=t),s.sqrt&&(r=s.sqrt);const{nBitLength:o,nByteLength:a}=function(e,t){void 0!==t&&Mv(t);const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}(e,n);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:e,isLE:i,BITS:o,BYTES:a,MASK:Bx(o),ZERO:Dx,ONE:Mx,create:t=>qx(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return Dx<=t&&t<e},is0:e=>e===Dx,isValidNot0:e=>!c.is0(e)&&c.isValid(e),isOdd:e=>(e&Mx)===Mx,neg:t=>qx(-t,e),eql:(e,t)=>e===t,sqr:t=>qx(t*t,e),add:(t,n)=>qx(t+n,e),sub:(t,n)=>qx(t-n,e),mul:(t,n)=>qx(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Dx)throw new Error("invalid exponent, negatives unsupported");if(n===Dx)return e.ONE;if(n===Mx)return t;let r=e.ONE,i=t;for(;n>Dx;)n&Mx&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Mx;return r}(c,e,t),div:(t,n)=>qx(t*Gx(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Gx(t,e),sqrt:r||(t=>(l||(l=Wx(e)),l(c,t))),toBytes:e=>i?Cx(e,a):Nx(e,a),fromBytes:e=>{if(e.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+e.length);return i?Ox(e):Px(e)},invertBatch:e=>Yx(c,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(c)}function eS(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function tS(e){const t=eS(e);return t+Math.ceil(t/2)}const nS=BigInt(0),rS=BigInt(1);function iS(e,t){const n=t.negate();return e?n:t}function sS(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function oS(e,t){sS(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:Bx(e),maxNumber:n,shiftBy:BigInt(e)}}function aS(e,t,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(e&i),l=e>>o;a>r&&(a-=s,l+=rS);const c=t*r;return{nextN:l,offset:c+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!==0,offsetF:c}}const lS=new WeakMap,cS=new WeakMap;function uS(e){return cS.get(e)||1}function hS(e){if(e!==nS)throw new Error("invalid wNAF")}function fS(e,t,n,r){(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})})(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(r,t);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=function(e){let t;for(t=0;e>Ax;e>>=xx,t+=1);return t}(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=Bx(l),u=new Array(Number(c)+1).fill(o);let h=o;for(let f=Math.floor((t.BITS-1)/l)*l;f>=0;f-=l){u.fill(o);for(let t=0;t<s;t++){const e=r[t],i=Number(e>>BigInt(f)&c);u[i]=u[i].add(n[t])}let e=o;for(let t=u.length-1,n=o;t>0;t--)n=n.add(u[t]),e=e.add(n);if(h=h.add(e),0!==f)for(let t=0;t<l;t++)h=h.double()}return h}function dS(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return function(e){const t=Jx.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"});Ux(e,t)}(t),t}return Xx(e)}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const pS=BigInt(0),gS=BigInt(1),yS=BigInt(2);function mS(e){const t=function(e){return Ux(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})}(e),{P:n,type:r,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=t,a="x25519"===r;if(!a&&"x448"!==r)throw new Error("invalid type");const l=o||fE,c=a?255:448,u=a?32:56,h=BigInt(a?9:5),f=BigInt(a?121665:39081),d=a?yS**BigInt(254):yS**BigInt(447),p=a?BigInt(8)*yS**BigInt(251)-gS:BigInt(4)*yS**BigInt(445)-gS,g=d+p+gS,y=e=>qx(e,n),m=w(h);function w(e){return Cx(y(e),u)}function b(e,t){const r=function(e,t){_x("u",e,pS,n),_x("scalar",t,d,g);const r=t,i=e;let o=gS,a=pS,l=e,u=gS,h=pS;for(let n=BigInt(c-1);n>=pS;n--){const e=r>>n&gS;h^=e,({x_2:o,x_3:l}=E(h,o,l)),({x_2:a,x_3:u}=E(h,a,u)),h=e;const t=o+a,s=y(t*t),c=o-a,d=y(c*c),p=s-d,g=l+u,m=y((l-u)*t),w=y(g*c),b=m+w,v=m-w;l=y(b*b),u=y(i*y(v*v)),o=y(s*d),a=y(p*(s+y(f*p)))}({x_2:o,x_3:l}=E(h,o,l)),({x_2:a,x_3:u}=E(h,a,u));const p=s(a);return y(o*p)}(function(e){const t=Tx("u coordinate",e,u);return a&&(t[31]&=127),y(Ox(t))}(t),function(e){return Ox(i(Tx("scalar",e,u)))}(e));if(r===pS)throw new Error("invalid private or public key received");return w(r)}function v(e){return b(e,m)}function E(e,t,n){const r=y(e*(t-n));return{x_2:t=y(t-r),x_3:n=y(n+r)}}return{scalarMult:b,scalarMultBase:v,getSharedSecret:(e,t)=>b(e,t),getPublicKey:e=>v(e),utils:{randomPrivateKey:()=>l(u)},GuBytes:m.slice()}}BigInt(0);const wS=BigInt(1),bS=BigInt(2),vS=BigInt(3),ES=BigInt(5),AS=BigInt(8),xS={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:AS,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function SS(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const IS=(()=>{const e=xS.p;return mS({P:e,type:"x25519",powPminus2:t=>{const{pow_p_5_8:n,b2:r}=function(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=xS.p,o=e*e%s*e%s,a=$x(o,bS,s)*o%s,l=$x(a,wS,s)*e%s,c=$x(l,ES,s)*l%s,u=$x(c,t,s)*c%s,h=$x(u,n,s)*u%s,f=$x(h,r,s)*h%s,d=$x(f,i,s)*f%s,p=$x(d,i,s)*f%s,g=$x(p,t,s)*c%s;return{pow_p_5_8:$x(g,bS,s)*e%s,b2:o}}(t);return qx($x(n,vS,e)*r,e)},adjustScalarBytes:SS})})();function kS(e){void 0!==e.lowS&&Sx("lowS",e.lowS),void 0!==e.prehash&&Sx("prehash",e.prehash)}class PS extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}const OS={Err:PS,_tlv:{encode:(e,t)=>{const{Err:n}=OS;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=Ix(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Ix(i.length/2|128):"";return Ix(e)+s+i+t},decode(e,t){const{Err:n}=OS;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let s=0;if(!!(128&i)){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const o=t.subarray(r,r+e);if(o.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===o[0])throw new n("tlv.decode(long): zero leftmost byte");for(const t of o)s=s<<8|t;if(r+=e,s<128)throw new n("tlv.decode(long): not minimal encoding")}else s=i;const o=t.subarray(r,r+s);if(o.length!==s)throw new n("tlv.decode: wrong value length");return{v:o,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=OS;if(e<NS)throw new t("integer: negative integers are not allowed");let n=Ix(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=OS;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return Px(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=OS,i=Tx("signature",e),{v:s,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:l}=r.decode(2,s),{v:c,l:u}=r.decode(2,l);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(e){const{_tlv:t,_int:n}=OS,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}},NS=BigInt(0),CS=BigInt(1),TS=BigInt(2),RS=BigInt(3),_S=BigInt(4);function BS(e,t,n){const{BYTES:r}=e;return function(i){let s;if("bigint"==typeof i)s=i;else{let n=Tx("private key",i);if(t){if(!t.includes(2*n.length))throw new Error("invalid private key");const e=new Uint8Array(r);e.set(n,e.length-n.length),n=e}try{s=e.fromBytes(n)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof i}`)}}if(n&&(s=e.create(s)),!e.isValidNot0(s))throw new Error("invalid private key: out of range [1..N-1]");return s}}function US(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{Fp:n,Fn:r}=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||"object"!=typeof t)throw new Error(`expected valid ${e} CURVE object`);for(const o of["p","n","h"]){const e=t[o];if(!("bigint"==typeof e&&e>nS))throw new Error(`CURVE.${o} must be positive bigint`)}const r=dS(t.p,n.Fp),i=dS(t.n,n.Fn),s=["Gx","Gy","a","weierstrass"===e?"b":"d"];for(const o of s)if(!r.isValid(t[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:r,Fn:i}}("weierstrass",e,t),{h:i,n:s}=e;Ux(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=t;if(o&&(!n.is0(e.a)||"bigint"!=typeof o.beta||"function"!=typeof o.splitScalar))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const l=t.toBytes||function(e,t,r){const{x:i,y:s}=t.toAffine(),o=n.toBytes(i);if(Sx("isCompressed",r),r){a();return cE(LS(!n.isOdd(s)),o)}return cE(Uint8Array.of(4),o,n.toBytes(s))},c=t.fromBytes||function(e){Fv(e);const t=n.BYTES,r=t+1,i=2*t+1,s=e.length,o=e[0],l=e.subarray(1);if(s!==r||2!==o&&3!==o){if(s===i&&4===o){const e=n.fromBytes(l.subarray(0*t,1*t)),r=n.fromBytes(l.subarray(1*t,2*t));if(!h(e,r))throw new Error("bad point: is not on curve");return{x:e,y:r}}throw new Error(`bad point: got length ${s}, expected compressed=${r} or uncompressed=${i}`)}{const e=n.fromBytes(l);if(!n.isValid(e))throw new Error("bad point: is not on curve, wrong x");const t=u(e);let r;try{r=n.sqrt(t)}catch(Ph){const t=Ph instanceof Error?": "+Ph.message:"";throw new Error("bad point: is not on curve, sqrt error"+t)}a();return 1===(1&o)!==n.isOdd(r)&&(r=n.neg(r)),{x:e,y:r}}},u=function(e,t,n){return function(r){const i=e.sqr(r),s=e.mul(i,r);return e.add(e.add(s,e.mul(r,t)),n)}}(n,e.a,e.b);function h(e,t){const r=n.sqr(t),i=u(e);return n.eql(r,i)}if(!h(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const f=n.mul(n.pow(e.a,RS),_S),d=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(f,d)))throw new Error("bad curve params: a or b");function p(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n.isValid(t)||r&&n.is0(t))throw new Error(`bad point coordinate ${e}`);return t}function g(e){if(!(e instanceof b))throw new Error("ProjectivePoint expected")}const y=Lx((e,t)=>{const{px:r,py:i,pz:s}=e;if(n.eql(s,n.ONE))return{x:r,y:i};const o=e.is0();null==t&&(t=o?n.ONE:n.inv(s));const a=n.mul(r,t),l=n.mul(i,t),c=n.mul(s,t);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:a,y:l}}),m=Lx(e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not field elements");if(!h(r,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function w(e,t,r,i,s){return r=new b(n.mul(r.px,e),r.py,r.pz),t=iS(i,t),r=iS(s,r),t.add(r)}class b{constructor(e,t,n){this.px=p("x",e),this.py=p("y",t,!0),this.pz=p("z",n),Object.freeze(this)}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof b)throw new Error("projective point not allowed");return n.is0(t)&&n.is0(r)?b.ZERO:new b(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){return function(e,t,n){const r="pz"===t?e=>e.pz:e=>e.ez,i=Yx(e.Fp,n.map(r));return n.map((e,t)=>e.toAffine(i[t])).map(e.fromAffine)}(b,"pz",e)}static fromBytes(e){return Fv(e),b.fromHex(e)}static fromHex(e){const t=b.fromAffine(c(Tx("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){const n=BS(r,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return b.BASE.multiply(n(e))}static msm(e,t){return fS(b,r,e,t)}precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return E.setWindowSize(this,e),t||this.multiply(RS),this}_setWindowSize(e){this.precompute(e)}assertValidity(){m(this)}hasEvenY(){const{y:e}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(e)}equals(e){g(e);const{px:t,py:r,pz:i}=this,{px:s,py:o,pz:a}=e,l=n.eql(n.mul(t,a),n.mul(s,i)),c=n.eql(n.mul(r,a),n.mul(o,i));return l&&c}negate(){return new b(this.px,n.neg(this.py),this.pz)}double(){const{a:t,b:r}=e,i=n.mul(r,RS),{px:s,py:o,pz:a}=this;let l=n.ZERO,c=n.ZERO,u=n.ZERO,h=n.mul(s,s),f=n.mul(o,o),d=n.mul(a,a),p=n.mul(s,o);return p=n.add(p,p),u=n.mul(s,a),u=n.add(u,u),l=n.mul(t,u),c=n.mul(i,d),c=n.add(l,c),l=n.sub(f,c),c=n.add(f,c),c=n.mul(l,c),l=n.mul(p,l),u=n.mul(i,u),d=n.mul(t,d),p=n.sub(h,d),p=n.mul(t,p),p=n.add(p,u),u=n.add(h,h),h=n.add(u,h),h=n.add(h,d),h=n.mul(h,p),c=n.add(c,h),d=n.mul(o,a),d=n.add(d,d),h=n.mul(d,p),l=n.sub(l,h),u=n.mul(d,f),u=n.add(u,u),u=n.add(u,u),new b(l,c,u)}add(t){g(t);const{px:r,py:i,pz:s}=this,{px:o,py:a,pz:l}=t;let c=n.ZERO,u=n.ZERO,h=n.ZERO;const f=e.a,d=n.mul(e.b,RS);let p=n.mul(r,o),y=n.mul(i,a),m=n.mul(s,l),w=n.add(r,i),v=n.add(o,a);w=n.mul(w,v),v=n.add(p,y),w=n.sub(w,v),v=n.add(r,s);let E=n.add(o,l);return v=n.mul(v,E),E=n.add(p,m),v=n.sub(v,E),E=n.add(i,s),c=n.add(a,l),E=n.mul(E,c),c=n.add(y,m),E=n.sub(E,c),h=n.mul(f,v),c=n.mul(d,m),h=n.add(c,h),c=n.sub(y,h),h=n.add(y,h),u=n.mul(c,h),y=n.add(p,p),y=n.add(y,p),m=n.mul(f,m),v=n.mul(d,v),y=n.add(y,m),m=n.sub(p,m),m=n.mul(f,m),v=n.add(v,m),p=n.mul(y,v),u=n.add(u,p),p=n.mul(E,v),c=n.mul(w,c),c=n.sub(c,p),p=n.mul(w,y),h=n.mul(E,h),h=n.add(h,p),new b(c,u,h)}subtract(e){return this.add(e.negate())}is0(){return this.equals(b.ZERO)}multiply(e){const{endo:n}=t;if(!r.isValidNot0(e))throw new Error("invalid scalar: out of range");let i,s;const o=e=>E.wNAFCached(this,e,b.normalizeZ);if(n){const{k1neg:t,k1:r,k2neg:a,k2:l}=n.splitScalar(e),{p:c,f:u}=o(r),{p:h,f:f}=o(l);s=u.add(f),i=w(n.beta,c,h,t,a)}else{const{p:t,f:n}=o(e);i=t,s=n}return b.normalizeZ([i,s])[0]}multiplyUnsafe(e){const{endo:n}=t,i=this;if(!r.isValid(e))throw new Error("invalid scalar: out of range");if(e===NS||i.is0())return b.ZERO;if(e===CS)return i;if(E.hasPrecomputes(this))return this.multiply(e);if(n){const{k1neg:t,k1:r,k2neg:s,k2:o}=n.splitScalar(e),{p1:a,p2:l}=function(e,t,n,r){let i=t,s=e.ZERO,o=e.ZERO;for(;n>nS||r>nS;)n&rS&&(s=s.add(i)),r&rS&&(o=o.add(i)),i=i.double(),n>>=rS,r>>=rS;return{p1:s,p2:o}}(b,i,r,o);return w(n.beta,a,l,t,s)}return E.wNAFCachedUnsafe(i,e)}multiplyAndAddUnsafe(e,t,n){const r=this.multiplyUnsafe(t).add(e.multiplyUnsafe(n));return r.is0()?void 0:r}toAffine(e){return y(this,e)}isTorsionFree(){const{isTorsionFree:e}=t;return i===CS||(e?e(b,this):E.wNAFCachedUnsafe(this,s).is0())}clearCofactor(){const{clearCofactor:e}=t;return i===CS?this:e?e(b,this):this.multiplyUnsafe(i)}toBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Sx("isCompressed",e),this.assertValidity(),l(b,this,e)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.toBytes(e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Xv(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}b.BASE=new b(e.Gx,e.Gy,n.ONE),b.ZERO=new b(n.ZERO,n.ONE,n.ZERO),b.Fp=n,b.Fn=r;const v=r.BITS,E=function(e,t){return{constTimeNegate:iS,hasPrecomputes:e=>1!==uS(e),unsafeLadder(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ZERO,i=t;for(;n>nS;)n&rS&&(r=r.add(i)),i=i.double(),n>>=rS;return r},precomputeWindow(e,n){const{windows:r,windowSize:i}=oS(n,t),s=[];let o=e,a=o;for(let t=0;t<r;t++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(n,r,i){let s=e.ZERO,o=e.BASE;const a=oS(n,t);for(let e=0;e<a.windows;e++){const{nextN:t,offset:n,isZero:l,isNeg:c,isNegF:u,offsetF:h}=aS(i,e,a);i=t,l?o=o.add(iS(u,r[h])):s=s.add(iS(c,r[n]))}return hS(i),{p:s,f:o}},wNAFUnsafe(n,r,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.ZERO;const o=oS(n,t);for(let e=0;e<o.windows&&i!==nS;e++){const{nextN:t,offset:n,isZero:a,isNeg:l}=aS(i,e,o);if(i=t,!a){const e=r[n];s=s.add(l?e.negate():e)}}return hS(i),s},getPrecomputes(e,t,n){let r=lS.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&("function"==typeof n&&(r=n(r)),lS.set(t,r))),r},wNAFCached(e,t,n){const r=uS(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const i=uS(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize(e,n){sS(n,t),cS.set(e,n),lS.delete(e)}}}(b,t.endo?Math.ceil(v/2):v);return b}function LS(e){return Uint8Array.of(e?2:3)}function DS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ux(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=t.randomBytes||fE,i=t.hmac||function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return mx(t.hash,e,cE(...r))},{Fp:s,Fn:o}=e,{ORDER:a,BITS:l}=o;function c(e){return e>a>>CS}function u(e,t){if(!o.isValidNot0(t))throw new Error(`invalid signature ${e}: out of range 1..CURVE.n`)}class h{constructor(e,t,n){u("r",e),u("s",t),this.r=e,this.s=t,null!=n&&(this.recovery=n),Object.freeze(this)}static fromCompact(e){const t=o.BYTES,n=Tx("compactSignature",e,2*t);return new h(o.fromBytes(n.subarray(0,t)),o.fromBytes(n.subarray(t,2*t)))}static fromDER(e){const{r:t,s:n}=OS.toSig(Tx("DER",e));return new h(t,n)}assertValidity(){}addRecoveryBit(e){return new h(this.r,this.s,e)}recoverPublicKey(t){const n=s.ORDER,{r:r,s:i,recovery:l}=this;if(null==l||![0,1,2,3].includes(l))throw new Error("recovery id invalid");if(a*TS<n&&l>1)throw new Error("recovery id is ambiguous for h>1 curve");const c=2===l||3===l?r+a:r;if(!s.isValid(c))throw new Error("recovery id 2 or 3 invalid");const u=s.toBytes(c),h=e.fromHex(cE(LS(0===(1&l)),u)),f=o.inv(c),d=y(Tx("msgHash",t)),p=o.create(-d*f),g=o.create(i*f),m=e.BASE.multiplyUnsafe(p).add(h.multiplyUnsafe(g));if(m.is0())throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return c(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,o.neg(this.s),this.recovery):this}toBytes(e){if("compact"===e)return cE(o.toBytes(this.r),o.toBytes(this.s));if("der"===e)return aE(OS.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Xv(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Xv(this.toBytes("compact"))}}const f=BS(o,n.allowedPrivateKeyLengths,n.wrapPrivateKey),d={isValidPrivateKey(e){try{return f(e),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const e=a;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=eS(t),s=tS(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=qx(n?Ox(e):Px(e),t-Mx)+Mx;return n?Cx(o,i):Nx(o,i)}(r(tS(e)),e)},precompute(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.BASE).precompute(t,!1)}};function p(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;const r=Tx("key",t).length,i=s.BYTES,a=i+1,l=2*i+1;return n.allowedPrivateKeyLengths||o.BYTES===a?void 0:r===a||r===l}const g=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=Px(e),n=8*e.length-l;return n>0?t>>BigInt(n):t},y=t.bits2int_modN||function(e){return o.create(g(e))},m=Bx(l);function w(e){return _x("num < 2^"+l,e,NS,m),o.toBytes(e)}function b(n,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;if(["recovered","canonical"].some(e=>e in a))throw new Error("sign() legacy options not supported");const{hash:l}=t;let{lowS:u,prehash:d,extraEntropy:p}=a;null==u&&(u=!0),n=Tx("msgHash",n),kS(a),d&&(n=Tx("prehashed msgHash",l(n)));const m=y(n),b=f(i),E=[w(b),w(m)];if(null!=p&&!1!==p){const e=!0===p?r(s.BYTES):p;E.push(Tx("extraEntropy",e))}const A=cE(...E),x=m;return{seed:A,k2sig:function(t){const n=g(t);if(!o.isValidNot0(n))return;const r=o.inv(n),i=e.BASE.multiply(n).toAffine(),s=o.create(i.x);if(s===NS)return;const a=o.create(r*o.create(x+s*b));if(a===NS)return;let l=(i.x===s?0:2)|Number(i.y&CS),f=a;return u&&c(a)&&(f=function(e){return c(e)?o.neg(e):e}(a),l^=1),new h(s,f,l)}}}const v={lowS:t.lowS,prehash:!1},E={lowS:t.lowS,prehash:!1};return e.BASE.precompute(8),Object.freeze({getPublicKey:function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.fromPrivateKey(t).toBytes(n)},getSharedSecret:function(t,n){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!0===p(t))throw new Error("first arg must be private key");if(!1===p(n))throw new Error("second arg must be public key");return e.fromHex(n).multiply(f(t)).toBytes(r)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;const{seed:s,k2sig:a}=b(e,n,r);return function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");const r=e=>new Uint8Array(e),i=e=>Uint8Array.of(e);let s=r(e),o=r(e),a=0;const l=()=>{s.fill(1),o.fill(0),a=0},c=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n(o,s,...t)},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r(0);o=c(i(0),e),s=c(),0!==e.length&&(o=c(i(1),e),s=c())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){s=c();const t=s.slice();n.push(t),e+=s.length}return cE(...n)};return(e,t)=>{let n;for(l(),u(e);!(n=t(h()));)u();return l(),n}}(t.hash.outputLen,o.BYTES,i)(s,a)},verify:function(n,r,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E;const a=n;r=Tx("msgHash",r),i=Tx("publicKey",i),kS(s);const{lowS:l,prehash:c,format:u}=s;if("strict"in s)throw new Error("options.strict was renamed to lowS");if(void 0!==u&&!["compact","der","js"].includes(u))throw new Error('format must be "compact", "der" or "js"');const f="string"==typeof a||Dv(a),d=!f&&!u&&"object"==typeof a&&null!==a&&"bigint"==typeof a.r&&"bigint"==typeof a.s;if(!f&&!d)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let p,g;try{if(d){if(void 0!==u&&"js"!==u)throw new Error("invalid format");p=new h(a.r,a.s)}if(f){try{"compact"!==u&&(p=h.fromDER(a))}catch(xd){if(!(xd instanceof OS.Err))throw xd}!p&&"der"!==u&&(p=h.fromCompact(a))}g=e.fromHex(i)}catch{return!1}if(!p||l&&p.hasHighS())return!1;c&&(r=t.hash(r));const{r:m,s:w}=p,b=y(r),v=o.inv(w),A=o.create(b*v),x=o.create(m*v),S=e.BASE.multiplyUnsafe(A).add(g.multiplyUnsafe(x));return!S.is0()&&o.create(S.x)===m},utils:d,Point:e,Signature:h})}function MS(e){const{CURVE:t,curveOpts:n}=function(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy};return{CURVE:t,curveOpts:{Fp:e.Fp,Fn:Xx(t.n,e.nBitLength),allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes}}}(e);return{CURVE:t,curveOpts:n,ecdsaOpts:{hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN}}}function FS(e){const{CURVE:t,curveOpts:n,ecdsaOpts:r}=MS(e);return function(e,t){return Object.assign({},t,{ProjectivePoint:t.Point,CURVE:e})}(e,DS(US(t,n),r,n))}function zS(e,t){const n=t=>FS({...e,hash:t});return{...n(t),create:n}}const jS={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},VS={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},HS={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},qS=Xx(jS.p),$S=Xx(VS.p),GS=Xx(HS.p),KS=zS({...jS,Fp:qS,lowS:!1},KE);zS({...VS,Fp:$S,lowS:!1},WE),zS({...HS,Fp:GS,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},QE);const QS=KS,WS="base10",JS="base16",YS="base64pad",ZS="base64url",XS="utf8";function eI(){return xb(fE(32),JS)}function tI(e){return xb(Ex(Ab(e,JS)),JS)}function nI(e){return xb(Ex(Ab(e,XS)),JS)}function rI(e){return Ab(`${e}`,WS)}function iI(e){return Number(xb(e,WS))}function sI(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function oI(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=(4-t.length%4)%4;return t+"=".repeat(n)}function aI(e){if(2===iI(e.type))return xb(Qm([e.type,e.sealed]),YS);if(1===iI(e.type)){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return xb(Qm([e.type,e.senderPublicKey,e.iv,e.sealed]),YS)}return xb(Qm([e.type,e.iv,e.sealed]),YS)}function lI(e){const t=Ab((e.encoding||YS)===ZS?oI(e.encoded):e.encoded,YS),n=t.slice(0,1);if(1===iI(n)){const e=33,r=e+12,i=t.slice(1,e),s=t.slice(e,r);return{type:n,sealed:t.slice(r),iv:s,senderPublicKey:i}}if(2===iI(n)){return{type:n,sealed:t.slice(1),iv:fE(12)}}const r=t.slice(1,13);return{type:n,sealed:t.slice(13),iv:r}}function cI(e){const t=e?.type||0;if(1===t){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function uI(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function hI(e){return 2===e.type}function fI(e,t){const[n,r,i]=e.split("."),s=Pb.from(oI(i),"base64");if(64!==s.length)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),l=Ex(`${n}.${r}`),c=function(e){const t=Pb.from(e.x,"base64"),n=Pb.from(e.y,"base64");return Qm([new Uint8Array([4]),t,n])}(t);if(!QS.verify(Qm([o,a]),l,c))throw new Error("Invalid signature");return Og(e).payload}function dI(e){return e?.relay||{protocol:"irn"}}function pI(e){const t=Sb[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}function gI(e){const t={},n="relay"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-");return Object.keys(e).forEach(r=>{if(r.startsWith(n)){const i=r.replace(n,""),s=e[r];t[i]=s}}),t}function yI(e){if(!e.includes("wc:")){const t=gv(e);null!=t&&t.includes("wc:")&&(e=t)}const t=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,r=e.substring(0,t),i=e.substring(t+1,n).split("@"),s=typeof n<"u"?e.substring(n):"",o=new URLSearchParams(s),a={};o.forEach((e,t)=>{a[t]=e});const l="string"==typeof a.methods?a.methods.split(","):void 0;return{protocol:r,topic:mI(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:gI(a),methods:l,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function mI(e){return e.startsWith("//")?e.substring(2):e}function wI(e){const t=new URLSearchParams,n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";const n={};return Object.keys(e).forEach(r=>{const i=r,s="relay"+t+i;e[i]&&(n[s]=e[i])}),n}(e.relay);Object.keys(n).sort().forEach(e=>{t.set(e,n[e])}),t.set("symKey",e.symKey),e.expiryTimestamp&&t.set("expiryTimestamp",e.expiryTimestamp.toString()),e.methods&&t.set("methods",e.methods.join(","));const r=t.toString();return`${e.protocol}:${e.topic}@${e.version}?${r}`}function bI(e,t,n){return`${e}?wc_ev=${n}&topic=${t}`}var vI=Object.defineProperty,EI=Object.defineProperties,AI=Object.getOwnPropertyDescriptors,xI=Object.getOwnPropertySymbols,SI=Object.prototype.hasOwnProperty,II=Object.prototype.propertyIsEnumerable,kI=(e,t,n)=>t in e?vI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PI=(e,t)=>{for(var n in t||(t={}))SI.call(t,n)&&kI(e,n,t[n]);if(xI)for(var n of xI(t))II.call(t,n)&&kI(e,n,t[n]);return e},OI=(e,t)=>EI(e,AI(t));function NI(e){const t=[];return e.forEach(e=>{const[n,r]=e.split(":");t.push(`${n}:${r}`)}),t}function CI(e){return e.includes(":")}function TI(e){return CI(e)?e.split(":")[0]:e}function RI(e){var t,n,r;const i={};if(!FI(e))return i;for(const[s,o]of Object.entries(e)){const e=CI(s)?[s]:o.chains,a=o.methods||[],l=o.events||[],c=TI(s);i[c]=OI(PI({},i[c]),{chains:uv(e,null==(t=i[c])?void 0:t.chains),methods:uv(a,null==(n=i[c])?void 0:n.methods),events:uv(l,null==(r=i[c])?void 0:r.events)})}return i}function _I(e,t){t=t.map(e=>e.replace("did:pkh:",""));const n=function(e){const t={};return e?.forEach(e=>{var n;const[r,i]=e.split(":");t[r]||(t[r]={accounts:[],chains:[],events:[],methods:[]}),t[r].accounts.push(e),null==(n=t[r].chains)||n.push(`${r}:${i}`)}),t}(t);for(const[r,i]of Object.entries(n))i.methods?i.methods=uv(i.methods,e):i.methods=e,i.events=["chainChanged","accountsChanged"];return n}const BI={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},UI={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function LI(e,t){const{message:n,code:r}=UI[e];return{message:t?`${n} ${t}`:n,code:r}}function DI(e,t){const{message:n,code:r}=BI[e];return{message:t?`${n} ${t}`:n,code:r}}function MI(e,t){return!!Array.isArray(e)&&(!(typeof t<"u"&&e.length)||e.every(t))}function FI(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function zI(e){return typeof e>"u"}function jI(e,t){return!(!t||!zI(e))||"string"==typeof e&&!!e.trim().length}function VI(e,t){return!(!t||!zI(e))||"number"==typeof e&&!isNaN(e)}function HI(e){return!(!jI(e,!1)||!e.includes(":"))&&2===e.split(":").length}function qI(e){let t=!0;return MI(e)?e.length&&(t=e.every(e=>jI(e,!1))):t=!1,t}function $I(e,t,n){let r=null;return Object.entries(e).forEach(e=>{let[i,s]=e;if(r)return;const o=function(e,t,n){let r=null;return MI(t)&&t.length?t.forEach(e=>{r||HI(e)||(r=DI("UNSUPPORTED_CHAINS",`${n}, chain ${e} should be a string and conform to "namespace:chainId" format`))}):HI(e)||(r=DI("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}(i,Cb(i,s),`${t} ${n}`);o&&(r=o)}),r}function GI(e,t){let n=null;return MI(e)?e.forEach(e=>{n||function(e){if(jI(e,!1)&&e.includes(":")){const t=e.split(":");if(3===t.length){const e=t[0]+":"+t[1];return!!t[2]&&HI(e)}}return!1}(e)||(n=DI("UNSUPPORTED_ACCOUNTS",`${t}, account ${e} should be a string and conform to "namespace:chainId:address" format`))}):n=DI("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function KI(e,t){let n=null;return Object.values(e).forEach(e=>{if(n)return;const r=function(e,t){let n=null;return qI(e?.methods)?qI(e?.events)||(n=DI("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):n=DI("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),n}(e,`${t}, namespace`);r&&(n=r)}),n}function QI(e,t){let n=null;if(e&&FI(e)){const r=KI(e,t);r&&(n=r);const i=function(e,t){let n=null;return Object.values(e).forEach(e=>{if(n)return;const r=GI(e?.accounts,`${t} namespace`);r&&(n=r)}),n}(e,t);i&&(n=i)}else n=LI("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return n}function WI(e){return jI(e.protocol,!0)}function JI(e){return typeof e<"u"&&null!==typeof e}function YI(e,t){return!(!HI(t)||!function(e){const t=[];return Object.values(e).forEach(e=>{t.push(...NI(e.accounts))}),t}(e).includes(t))}function ZI(e,t,n){return!!jI(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach(e=>{NI(e.accounts).includes(t)&&n.push(...e.methods)}),n}(e,t).includes(n)}function XI(e,t,n){return!!jI(n,!1)&&function(e,t){const n=[];return Object.values(e).forEach(e=>{NI(e.accounts).includes(t)&&n.push(...e.events)}),n}(e,t).includes(n)}function ek(e,t,n){let r=null;const i=function(e){const t={};return Object.keys(e).forEach(n=>{var r;n.includes(":")?t[n]=e[n]:null==(r=e[n].chains)||r.forEach(r=>{t[r]={methods:e[n].methods,events:e[n].events}})}),t}(e),s=function(e){const t={};return Object.keys(e).forEach(n=>{if(n.includes(":"))t[n]=e[n];else{const r=NI(e[n].accounts);r?.forEach(r=>{t[r]={accounts:e[n].accounts.filter(e=>e.includes(`${r}:`)),methods:e[n].methods,events:e[n].events}})}}),t}(t),o=Object.keys(i),a=Object.keys(s),l=tk(Object.keys(e)),c=tk(Object.keys(t)),u=l.filter(e=>!c.includes(e));return u.length&&(r=LI("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${u.toString()}\n      Received: ${Object.keys(t).toString()}`)),ev(o,a)||(r=LI("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.\n      Required: ${o.toString()}\n      Approved: ${a.toString()}`)),Object.keys(t).forEach(e=>{if(!e.includes(":")||r)return;const i=NI(t[e].accounts);i.includes(e)||(r=LI("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${e}\n        Required: ${e}\n        Approved: ${i.toString()}`))}),o.forEach(e=>{r||(ev(i[e].methods,s[e].methods)?ev(i[e].events,s[e].events)||(r=LI("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${e}`)):r=LI("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${e}`))}),r}function tk(e){return[...new Set(e.map(e=>e.includes(":")?e.split(":")[0]:e))]}function nk(){const e=Qb();return new Promise(t=>{switch(e){case Vb:t(Kb()&&navigator?.onLine);break;case zb:t(async function(){if(Gb()&&typeof n.g<"u"&&null!=n.g&&n.g.NetInfo){const e=await(null==n.g?void 0:n.g.NetInfo.fetch());return e?.isConnected}return!0}());break;default:t(!0)}})}function rk(e){switch(Qb()){case Vb:!function(e){!Gb()&&Kb()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}(e);break;case zb:!function(e){Gb()&&typeof n.g<"u"&&null!=n.g&&n.g.NetInfo&&n.g?.NetInfo.addEventListener(t=>e(t?.isConnected))}(e)}}const ik={};class sk{static get(e){return ik[e]}static set(e,t){ik[e]=t}static delete(e){delete ik[e]}}function ok(e){let{publicKey:t,signature:n,payload:r}=e;var i;const s=ak(r.method),o=128|parseInt((null==(i=r.version)?void 0:i.toString())||"4"),a=function(e){const t=Vy.decode(e)[0];return 42===t?0:60===t?2:1}(r.address),l="00"===r.era?new Uint8Array([0]):ak(r.era);if(1!==l.length&&2!==l.length)throw new Error("Invalid era length");const c=parseInt(r.nonce,16),u=new Uint8Array([255&c,c>>8&255]),h=BigInt(`0x${function(e){return e.startsWith("0x")?e.slice(2):e}(r.tip)}`),f=function(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){const t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}if(e<BigInt(1)<<BigInt(30)){const t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}throw new Error("BigInt compact encoding not supported > 2^30")}(h),d=new Uint8Array([0,...t,a,...n,...l,...u,...f,...s]),p=function(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){const t=e<<2|1;return new Uint8Array([255&t,t>>8&255])}if(e<1<<30){const t=e<<2|2;return new Uint8Array([255&t,t>>8&255,t>>16&255,t>>24&255])}throw new Error("Compact encoding > 2^30 not supported")}(d.length+1);return new Uint8Array([...p,o,...d])}function ak(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function lk(e){const t=Uint8Array.from(Pb.from(e.signature,"hex")),n=function(e){const t=Vy.decode(e);if(t.length<33)throw new Error("Too short to contain a public key");return t.slice(1,33)}(e.transaction.address),r=ok({publicKey:n,signature:t,payload:e.transaction});return function(e){const t=ak(e),n=(0,Ib.blake2b)(t,void 0,32);return"0x"+Pb.from(n).toString("hex")}(Pb.from(r).toString("hex"))}const ck="PARSE_ERROR",uk="INVALID_REQUEST",hk="METHOD_NOT_FOUND",fk="INVALID_PARAMS",dk="INTERNAL_ERROR",pk="SERVER_ERROR",gk=[-32700,-32600,-32601,-32602,-32603],yk={[ck]:{code:-32700,message:"Parse error"},[uk]:{code:-32600,message:"Invalid Request"},[hk]:{code:-32601,message:"Method not found"},[fk]:{code:-32602,message:"Invalid params"},[dk]:{code:-32603,message:"Internal error"},[pk]:{code:-32e3,message:"Server error"}},mk=pk;function wk(e){return gk.includes(e)}function bk(e){return Object.keys(yk).includes(e)?yk[e]:yk[mk]}function vk(e){const t=Object.values(yk).find(t=>t.code===e);return t||yk[mk]}var Ek=n(776);function Ak(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return Date.now()*Math.pow(10,e)+Math.floor(Math.random()*Math.pow(10,e))}function xk(){return BigInt(Ak(arguments.length>0&&void 0!==arguments[0]?arguments[0]:6))}function Sk(e,t,n){return{id:n||Ak(),jsonrpc:"2.0",method:e,params:t}}function Ik(e,t){return{id:e,jsonrpc:"2.0",result:t}}function kk(e,t,n){return{id:e,jsonrpc:"2.0",error:Pk(t,n)}}function Pk(e,t){return"undefined"===typeof e?bk(dk):("string"===typeof e&&(e=Object.assign(Object.assign({},bk(pk)),{message:e})),"undefined"!==typeof t&&(e.data=t),wk(e.code)&&(e=vk(e.code)),e)}class Ok{}class Nk extends Ok{constructor(){super()}}class Ck extends Nk{constructor(e){super()}}function Tk(e,t){const n=function(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(t&&t.length)return t[0]}(e);return"undefined"!==typeof n&&new RegExp(t).test(n)}function Rk(e){return Tk(e,"^wss?:")}function _k(e){return"object"===typeof e&&"id"in e&&"jsonrpc"in e&&"2.0"===e.jsonrpc}function Bk(e){return _k(e)&&"method"in e}function Uk(e){return _k(e)&&(Lk(e)||Dk(e))}function Lk(e){return"result"in e}function Dk(e){return"error"in e}class Mk extends Ck{constructor(e){super(e),this.events=new Su.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection;await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(Sk(e.method,e.params||[],e.id||xk().toString()),t)}async requestStrict(e,t){return new Promise(async(n,r)=>{if(!this.connection.connected)try{await this.open()}catch(pt){r(pt)}this.events.on(`${e.id}`,e=>{Dk(e)?r(e.error):n(e.result)});try{await this.connection.send(e,t)}catch(pt){r(pt)}})}setConnection(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection}onPayload(e){this.events.emit("payload",e),Uk(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&3e3===e.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.connection;this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof e&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}function Fk(e){if("string"!==typeof e)throw new Error("Cannot safe json parse value of type "+typeof e);try{return(e=>{const t=e.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(t,(e,t)=>"string"===typeof t&&t.match(/^\d+n$/)?BigInt(t.substring(0,t.length-1)):t)})(e)}catch(YI){return e}}function zk(e){return"string"===typeof e?e:(e=>JSON.stringify(e,(e,t)=>"bigint"===typeof t?t.toString()+"n":t))(e)||""}const jk=e=>e.split("?")[0],Vk=typeof WebSocket<"u"?WebSocket:typeof n.g<"u"&&typeof n.g.WebSocket<"u"?n.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:n(726);class Hk{constructor(e){if(this.url=e,this.events=new Su.EventEmitter,this.registering=!1,!Rk(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;await this.register(e)}async close(){return new Promise((e,t)=>{typeof this.socket>"u"?t(new Error("Connection already closed")):(this.socket.onclose=t=>{this.onClose(t),e()},this.socket.close())})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(zk(e))}catch(tc){this.onError(e.id,tc)}}register(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url;if(!Rk(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const e=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=e||this.events.listenerCount("open")>=e)&&this.events.setMaxListeners(e+1),new Promise((e,t)=>{this.events.once("register_error",e=>{this.resetMaxListeners(),t(e)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return t(new Error("WebSocket connection is missing or invalid"));e(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,r)=>{const i=(0,Ek.isReactNative)()?void 0:{rejectUnauthorized:(o=e,!new RegExp("wss?://localhost(:d{2,5})?").test(o))},s=new Vk(e,[],i);var o;typeof WebSocket<"u"||typeof n.g<"u"&&typeof n.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?s.onerror=e=>{const t=e;r(this.emitError(t.error))}:s.on("error",e=>{r(this.emitError(e))}),s.onopen=()=>{this.onOpen(s),t(s)}})}onOpen(e){e.onmessage=e=>this.onPayload(e),e.onclose=e=>this.onClose(e),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t="string"==typeof e.data?Fk(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),r=kk(e,n.message||n.toString());this.events.emit("payload",r)}parseError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.url;return function(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${t}`):e}(e,jk(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(e){const t=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${jk(this.url)}`));return this.events.emit("register_error",t),t}}var qk=n(569),$k=n(325).hp,Gk=n(224);const Kk="core",Qk=`wc@2:${Kk}:`,Wk="error",Jk={database:":memory:"},Yk="client_ed25519_seed",Zk=ku.ONE_DAY,Xk=ku.SIX_HOURS,eP="wss://relay.walletconnect.org",tP="relayer_message",nP="relayer_message_ack",rP="relayer_connect",iP="relayer_disconnect",sP="relayer_error",oP="relayer_connection_stalled",aP="relayer_publish",lP="payload",cP="connect",uP="disconnect",hP="error",fP="2.21.4",dP={link_mode:"link_mode",relay:"relay"},pP="inbound",gP="outbound",yP="WALLETCONNECT_LINK_MODE_APPS",mP="subscription_created",wP="subscription_deleted",bP="subscription_sync",vP="subscription_resubscribed",EP=(ku.FIVE_SECONDS,{wc_pairingDelete:{req:{ttl:ku.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ku.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ku.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ku.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ku.ONE_DAY,prompt:!1,tag:0},res:{ttl:ku.ONE_DAY,prompt:!1,tag:0}}}),AP="pairing_create",xP="pairing_expire",SP="pairing_delete",IP="pairing_ping",kP="history_created",PP="history_updated",OP="history_deleted",NP="history_sync",CP="expirer_created",TP="expirer_deleted",RP="expirer_expired",_P="expirer_sync",BP="https://verify.walletconnect.org",UP=BP,LP=`${UP}/v3`,DP=["https://verify.walletconnect.com",BP],MP="pairing_started",FP="pairing_uri_validation_success",zP="pairing_uri_not_expired",jP="store_new_pairing",VP="subscribing_pairing_topic",HP="subscribe_pairing_topic_success",qP="existing_pairing",$P="pairing_not_expired",GP="emit_inactive_pairing",KP="emit_session_proposal",QP="no_internet_connection",WP="malformed_pairing_uri",JP="active_pairing_already_exists",YP="subscribe_pairing_topic_failure",ZP="pairing_expired",XP="proposal_listener_not_found",eO="session_approve_started",tO="session_namespaces_validation_success",nO="subscribing_session_topic",rO="subscribe_session_topic_success",iO="publishing_session_approve",sO="session_approve_publish_success",oO="store_session",aO="publishing_session_settle",lO="session_settle_publish_success",cO="no_internet_connection",uO="proposal_expired",hO="subscribe_session_topic_failure",fO="session_approve_publish_failure",dO="session_settle_publish_failure",pO="session_approve_namespace_validation_failure",gO="proposal_not_found",yO="authenticated_session_approve_started",mO="create_authenticated_session_topic",wO="cacaos_verified",bO="store_authenticated_session",vO="subscribing_authenticated_session_topic",EO="subscribe_authenticated_session_topic_success",AO="publishing_authenticated_session_approve",xO="no_internet_connection",SO="invalid_cacao",IO="subscribe_authenticated_session_topic_failure",kO="authenticated_session_approve_publish_failure",PO="authenticated_session_pending_request_not_found";var OO=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==n[o])throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,l=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===l;)r++,t++;for(var s=(e.length-t)*c+1>>>0,o=new Uint8Array(s);e[t];){var u=n[e.charCodeAt(t)];if(255===u)return;for(var h=0,f=s-1;(0!==u||h<i)&&-1!==f;f--,h++)u+=a*o[f]>>>0,o[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var d=s-i;d!==s&&0===o[d];)d++;for(var p=new Uint8Array(r+(s-d)),g=r;d!==s;)p[g++]=o[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,s=t.length;i!==s&&0===t[i];)i++,n++;for(var o=(s-i)*u+1>>>0,c=new Uint8Array(o);i!==s;){for(var h=t[i],f=0,d=o-1;(0!==h||f<r)&&-1!==d;d--,f++)h+=256*c[d]>>>0,c[d]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");r=f,i++}for(var p=o-r;p!==o&&0===c[p];)p++;for(var g=l.repeat(n);p<o;++p)g+=e.charAt(c[p]);return g},decodeUnsafe:h,decode:function(e){var n=h(e);if(n)return n;throw new Error(`Non-${t} character`)}}},NO=OO;const CO=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class TO{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class RO{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return BO(this,e)}}class _O{constructor(e){this.decoders=e}or(e){return BO(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const BO=(e,t)=>new _O({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class UO{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new TO(e,t,n),this.decoder=new RO(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const LO=e=>{let{name:t,prefix:n,encode:r,decode:i}=e;return new UO(t,n,r,i)},DO=e=>{let{prefix:t,name:n,alphabet:r}=e;const{encode:i,decode:s}=NO(r,n);return LO({prefix:t,name:n,encode:i,decode:e=>CO(s(e))})},MO=e=>{let{name:t,prefix:n,bitsPerChar:r,alphabet:i}=e;return LO({prefix:n,name:t,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let s="",o=0,a=0;for(let l=0;l<e.length;++l)for(a=a<<8|e[l],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s})(e,i,r),decode:e=>((e,t,n,r)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;"="===e[s-1];)--s;const o=new Uint8Array(s*n/8|0);let a=0,l=0,c=0;for(let u=0;u<s;++u){const t=i[e[u]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);l=l<<n|t,a+=n,a>=8&&(a-=8,o[c++]=255&l>>a)}if(a>=n||255&l<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,i,r,t)})},FO=LO({prefix:"\0",name:"identity",encode:e=>(e=>(new TextDecoder).decode(e))(e),decode:e=>(e=>(new TextEncoder).encode(e))(e)});var zO=Object.freeze({__proto__:null,identity:FO});const jO=MO({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var VO=Object.freeze({__proto__:null,base2:jO});const HO=MO({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var qO=Object.freeze({__proto__:null,base8:HO});const $O=DO({prefix:"9",name:"base10",alphabet:"0123456789"});var GO=Object.freeze({__proto__:null,base10:$O});const KO=MO({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),QO=MO({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var WO=Object.freeze({__proto__:null,base16:KO,base16upper:QO});const JO=MO({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),YO=MO({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ZO=MO({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),XO=MO({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),eN=MO({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),tN=MO({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),nN=MO({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),rN=MO({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),iN=MO({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var sN=Object.freeze({__proto__:null,base32:JO,base32upper:YO,base32pad:ZO,base32padupper:XO,base32hex:eN,base32hexupper:tN,base32hexpad:nN,base32hexpadupper:rN,base32z:iN});const oN=DO({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),aN=DO({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var lN=Object.freeze({__proto__:null,base36:oN,base36upper:aN});const cN=DO({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),uN=DO({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var hN=Object.freeze({__proto__:null,base58btc:cN,base58flickr:uN});const fN=MO({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),dN=MO({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),pN=MO({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),gN=MO({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var yN=Object.freeze({__proto__:null,base64:fN,base64pad:dN,base64url:pN,base64urlpad:gN});const mN=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),wN=mN.reduce((e,t,n)=>(e[n]=t,e),[]),bN=mN.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);const vN=LO({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=wN[t],"")},decode:function(e){const t=[];for(const n of e){const e=bN[n.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${n}`);t.push(e)}return new Uint8Array(t)}});var EN=Object.freeze({__proto__:null,base256emoji:vN}),AN=function e(t,n,r){n=n||[];for(var i=r=r||0;t>=IN;)n[r++]=255&t|xN,t/=128;for(;t&SN;)n[r++]=255&t|xN,t>>>=7;return n[r]=0|t,e.bytes=r-i+1,n},xN=128,SN=-128,IN=Math.pow(2,31);var kN=function e(t,n){var r,i=0,s=(n=n||0,0),o=n,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[o++],i+=s<28?(r&ON)<<s:(r&ON)*Math.pow(2,s),s+=7}while(r>=PN);return e.bytes=o-n,i},PN=128,ON=127;var NN=Math.pow(2,7),CN=Math.pow(2,14),TN=Math.pow(2,21),RN=Math.pow(2,28),_N=Math.pow(2,35),BN=Math.pow(2,42),UN=Math.pow(2,49),LN=Math.pow(2,56),DN=Math.pow(2,63),MN={encode:AN,decode:kN,encodingLength:function(e){return e<NN?1:e<CN?2:e<TN?3:e<RN?4:e<_N?5:e<BN?6:e<UN?7:e<LN?8:e<DN?9:10}},FN=MN;const zN=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return FN.encode(e,t,n),t},jN=e=>FN.encodingLength(e),VN=(e,t)=>{const n=t.byteLength,r=jN(e),i=r+jN(n),s=new Uint8Array(i+n);return zN(e,s,0),zN(n,s,r),s.set(t,i),new HN(e,n,t,s)};class HN{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}const qN=e=>{let{name:t,code:n,encode:r}=e;return new $N(t,n,r)};class $N{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?VN(this.code,t):t.then(e=>VN(this.code,e))}throw Error("Unknown type, must be binary type")}}const GN=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),KN=qN({name:"sha2-256",code:18,encode:GN("SHA-256")}),QN=qN({name:"sha2-512",code:19,encode:GN("SHA-512")});Object.freeze({__proto__:null,sha256:KN,sha512:QN});const WN=CO,JN={code:0,name:"identity",encode:WN,digest:e=>VN(0,WN(e))};Object.freeze({__proto__:null,identity:JN});new TextEncoder,new TextDecoder;const YN={...zO,...VO,...qO,...GO,...WO,...sN,...lN,...hN,...yN,...EN};function ZN(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function XN(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const eC=XN("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),tC=XN("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{const t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?ZN(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),nC={utf8:eC,"utf-8":eC,hex:YN.base16,latin1:tC,ascii:tC,binary:tC,...YN};var rC=Object.defineProperty,iC=(e,t,n)=>((e,t,n)=>t in e?rC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class sC{constructor(e,t){this.core=e,this.logger=t,iC(this,"keychain",new Map),iC(this,"name","keychain"),iC(this,"version","0.3"),iC(this,"initialized",!1),iC(this,"storagePrefix",Qk),iC(this,"init",async()=>{if(!this.initialized){const e=await this.getKeyChain();typeof e<"u"&&(this.keychain=e),this.initialized=!0}}),iC(this,"has",e=>(this.isInitialized(),this.keychain.has(e))),iC(this,"set",async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()}),iC(this,"get",e=>{this.isInitialized();const t=this.keychain.get(e);if(typeof t>"u"){const{message:t}=LI("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(t)}return t}),iC(this,"del",async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()}),this.core=e,this.logger=Bh(t,this.name)}get context(){return _h(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,tv(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?nv(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=LI("NOT_INITIALIZED",this.name);throw new Error(e)}}}var oC=Object.defineProperty,aC=(e,t,n)=>((e,t,n)=>t in e?oC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class lC{constructor(e,t,n){this.core=e,this.logger=t,aC(this,"name","crypto"),aC(this,"keychain"),aC(this,"randomSessionIdentifier",eI()),aC(this,"initialized",!1),aC(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),aC(this,"hasKeys",e=>(this.isInitialized(),this.keychain.has(e))),aC(this,"getClientId",async()=>{this.isInitialized();return kg(Ng(await this.getClientSeed()).publicKey)}),aC(this,"generateKeyPair",()=>{this.isInitialized();const e=function(){const e=IS.utils.randomPrivateKey(),t=IS.getPublicKey(e);return{privateKey:xb(e,JS),publicKey:xb(t,JS)}}();return this.setPrivateKey(e.publicKey,e.privateKey)}),aC(this,"signJWT",async e=>{this.isInitialized();const t=Ng(await this.getClientSeed()),n=this.randomSessionIdentifier,r=Zk;return await Cg(n,e,r,t)}),aC(this,"generateSharedKey",(e,t,n)=>{this.isInitialized();const r=function(e,t){const n=IS.getSharedSecret(Ab(e,JS),Ab(t,JS));return xb(vx(Ex,n,void 0,void 0,32),JS)}(this.getPrivateKey(e),t);return this.setSymKey(r,n)}),aC(this,"setSymKey",async(e,t)=>{this.isInitialized();const n=t||tI(e);return await this.keychain.set(n,e),n}),aC(this,"deleteKeyPair",async e=>{this.isInitialized(),await this.keychain.del(e)}),aC(this,"deleteSymKey",async e=>{this.isInitialized(),await this.keychain.del(e)}),aC(this,"encode",async(e,t,n)=>{this.isInitialized();const r=cI(n),i=rh(t);if(hI(r))return function(e,t){const n=rI(2),r=fE(12),i=aI({type:n,sealed:Ab(e,XS),iv:r});return t===ZS?sI(i):i}(i,n?.encoding);if(uI(r)){const t=r.senderPublicKey,n=r.receiverPublicKey;e=await this.generateSharedKey(t,n)}const s=this.getSymKey(e),{type:o,senderPublicKey:a}=r;return function(e){const t=rI(typeof e.type<"u"?e.type:0);if(1===iI(t)&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof e.senderPublicKey<"u"?Ab(e.senderPublicKey,JS):void 0,r=typeof e.iv<"u"?Ab(e.iv,JS):fE(12),i=Ab(e.symKey,JS),s=aI({type:t,sealed:gx(i,r).encrypt(Ab(e.message,XS)),iv:r,senderPublicKey:n});return e.encoding===ZS?sI(s):s}({type:o,symKey:s,message:i,senderPublicKey:a,encoding:n?.encoding})}),aC(this,"decode",async(e,t,n)=>{this.isInitialized();const r=function(e,t){const n=lI({encoded:e,encoding:t?.encoding});return cI({type:iI(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?xb(n.senderPublicKey,JS):void 0,receiverPublicKey:t?.receiverPublicKey})}(t,n);if(hI(r)){const e=function(e,t){const{sealed:n}=lI({encoded:e,encoding:t});return xb(n,XS)}(t,n?.encoding);return nh(e)}if(uI(r)){const t=r.receiverPublicKey,n=r.senderPublicKey;e=await this.generateSharedKey(t,n)}try{const r=function(e){const t=Ab(e.symKey,JS),{sealed:n,iv:r}=lI({encoded:e.encoded,encoding:e.encoding}),i=gx(t,r).decrypt(n);if(null===i)throw new Error("Failed to decrypt");return xb(i,XS)}({symKey:this.getSymKey(e),encoded:t,encoding:n?.encoding});return nh(r)}catch(oc){this.logger.error(`Failed to decode message from topic: '${e}', clientId: '${await this.getClientId()}'`),this.logger.error(oc)}}),aC(this,"getPayloadType",function(e){return iI(lI({encoded:e,encoding:arguments.length>1&&void 0!==arguments[1]?arguments[1]:YS}).type)}),aC(this,"getPayloadSenderPublicKey",function(e){const t=lI({encoded:e,encoding:arguments.length>1&&void 0!==arguments[1]?arguments[1]:YS});return t.senderPublicKey?xb(t.senderPublicKey,JS):void 0}),this.core=e,this.logger=Bh(t,this.name),this.keychain=n||new sC(this.core,this.logger)}get context(){return _h(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(Yk)}catch{e=eI(),await this.keychain.set(Yk,e)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=nC[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${e}`):ZN(globalThis.Buffer.from(e,"utf-8"))}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=LI("NOT_INITIALIZED",this.name);throw new Error(e)}}}var cC=Object.defineProperty,uC=Object.defineProperties,hC=Object.getOwnPropertyDescriptors,fC=Object.getOwnPropertySymbols,dC=Object.prototype.hasOwnProperty,pC=Object.prototype.propertyIsEnumerable,gC=(e,t,n)=>t in e?cC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yC=(e,t,n)=>gC(e,"symbol"!=typeof t?t+"":t,n);class mC extends Vh{constructor(e,t){super(e,t),this.logger=e,this.core=t,yC(this,"messages",new Map),yC(this,"messagesWithoutClientAck",new Map),yC(this,"name","messages"),yC(this,"version","0.3"),yC(this,"initialized",!1),yC(this,"storagePrefix",Qk),yC(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const e=await this.getRelayerMessages();typeof e<"u"&&(this.messages=e);const t=await this.getRelayerMessagesWithoutClientAck();typeof t<"u"&&(this.messagesWithoutClientAck=t),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(lc){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(lc)}finally{this.initialized=!0}}}),yC(this,"set",async(e,t,n)=>{this.isInitialized();const r=nI(t);let i=this.messages.get(e);if(typeof i>"u"&&(i={}),typeof i[r]<"u")return r;if(i[r]=t,this.messages.set(e,i),n===pP){const n=this.messagesWithoutClientAck.get(e)||{};this.messagesWithoutClientAck.set(e,((e,t)=>uC(e,hC(t)))(((e,t)=>{for(var n in t||(t={}))dC.call(t,n)&&gC(e,n,t[n]);if(fC)for(var n of fC(t))pC.call(t,n)&&gC(e,n,t[n]);return e})({},n),{[r]:t}))}return await this.persist(),r}),yC(this,"get",e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t}),yC(this,"getWithoutAck",e=>{this.isInitialized();const t={};for(const n of e){const e=this.messagesWithoutClientAck.get(n)||{};t[n]=Object.values(e)}return t}),yC(this,"has",(e,t)=>{this.isInitialized();return typeof this.get(e)[nI(t)]<"u"}),yC(this,"ack",async(e,t)=>{this.isInitialized();const n=this.messagesWithoutClientAck.get(e);if(typeof n>"u")return;delete n[nI(t)],0===Object.keys(n).length?this.messagesWithoutClientAck.delete(e):this.messagesWithoutClientAck.set(e,n),await this.persist()}),yC(this,"del",async e=>{this.isInitialized(),this.messages.delete(e),this.messagesWithoutClientAck.delete(e),await this.persist()}),this.logger=Bh(e,this.name),this.core=t}get context(){return _h(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,tv(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,tv(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?nv(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?nv(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=LI("NOT_INITIALIZED",this.name);throw new Error(e)}}}var wC=Object.defineProperty,bC=Object.defineProperties,vC=Object.getOwnPropertyDescriptors,EC=Object.getOwnPropertySymbols,AC=Object.prototype.hasOwnProperty,xC=Object.prototype.propertyIsEnumerable,SC=(e,t,n)=>t in e?wC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IC=(e,t)=>{for(var n in t||(t={}))AC.call(t,n)&&SC(e,n,t[n]);if(EC)for(var n of EC(t))xC.call(t,n)&&SC(e,n,t[n]);return e},kC=(e,t)=>bC(e,vC(t)),PC=(e,t,n)=>SC(e,"symbol"!=typeof t?t+"":t,n);class OC extends Hh{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,PC(this,"events",new Su.EventEmitter),PC(this,"name","publisher"),PC(this,"queue",new Map),PC(this,"publishTimeout",(0,ku.toMiliseconds)(ku.ONE_MINUTE)),PC(this,"initialPublishTimeout",(0,ku.toMiliseconds)(15*ku.ONE_SECOND)),PC(this,"needsTransportRestart",!1),PC(this,"publish",async(e,t,n)=>{var r;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:n}});const i=n?.ttl||Xk,s=dI(n),o=n?.prompt||!1,a=n?.tag||0,l=n?.id||xk().toString(),c={topic:e,message:t,opts:{ttl:i,relay:s,prompt:o,tag:a,id:l,attestation:n?.attestation,tvf:n?.tvf}},u=`Failed to publish payload, please try again. id:${l} tag:${a}`;try{const r=new Promise(async r=>{const s=e=>{let{id:t}=e;c.opts.id===t&&(this.removeRequestFromQueue(t),this.relayer.events.removeListener(aP,s),r(c))};this.relayer.events.on(aP,s);const u=iv(new Promise((r,s)=>{this.rpcPublish({topic:e,message:t,ttl:i,prompt:o,tag:a,id:l,attestation:n?.attestation,tvf:n?.tvf}).then(r).catch(e=>{this.logger.warn(e,e?.message),s(e)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${l} tag:${a}`);try{await u,this.events.removeListener(aP,s)}catch(h){this.queue.set(l,kC(IC({},c),{attempt:1})),this.logger.warn(h,h?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:l,topic:e,message:t,opts:n}}),await iv(r,this.publishTimeout,u)}catch(cc){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(cc),null!=(r=n?.internal)&&r.throwOnFailedPublish)throw cc}finally{this.queue.delete(l)}}),PC(this,"on",(e,t)=>{this.events.on(e,t)}),PC(this,"once",(e,t)=>{this.events.once(e,t)}),PC(this,"off",(e,t)=>{this.events.off(e,t)}),PC(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.relayer=e,this.logger=Bh(t,this.name),this.registerEventListeners()}get context(){return _h(this.logger)}async rpcPublish(e){var t,n,r,i;const{topic:s,message:o,ttl:a=Xk,prompt:l,tag:c,id:u,attestation:h,tvf:f}=e,d={method:pI(dI().protocol).publish,params:IC({topic:s,message:o,ttl:a,prompt:l,tag:c,attestation:h},f),id:u};zI(null==(t=d.params)?void 0:t.prompt)&&(null==(n=d.params)||delete n.prompt),zI(null==(r=d.params)?void 0:r.tag)&&(null==(i=d.params)||delete i.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:d});const p=await this.relayer.request(d);return this.relayer.events.emit(aP,e),this.logger.debug("Successfully Published Payload"),p}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{const n=e.attempt+1;this.queue.set(t,kC(IC({},e),{attempt:n}));const{topic:r,message:i,opts:s,attestation:o}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${n}`),await this.rpcPublish(kC(IC({},e),{topic:r,message:i,ttl:s.ttl,prompt:s.prompt,tag:s.tag,id:s.id,attestation:o,tvf:s.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Cu,()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit(oP);this.checkQueue()}),this.relayer.on(nP,e=>{this.removeRequestFromQueue(e.id.toString())})}}var NC=Object.defineProperty,CC=(e,t,n)=>((e,t,n)=>t in e?NC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class TC{constructor(){CC(this,"map",new Map),CC(this,"set",(e,t)=>{const n=this.get(e);this.exists(e,t)||this.map.set(e,[...n,t])}),CC(this,"get",e=>this.map.get(e)||[]),CC(this,"exists",(e,t)=>this.get(e).includes(t)),CC(this,"delete",(e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,t))return;const r=n.filter(e=>e!==t);r.length?this.map.set(e,r):this.map.delete(e)}),CC(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var RC=Object.defineProperty,_C=Object.defineProperties,BC=Object.getOwnPropertyDescriptors,UC=Object.getOwnPropertySymbols,LC=Object.prototype.hasOwnProperty,DC=Object.prototype.propertyIsEnumerable,MC=(e,t,n)=>t in e?RC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FC=(e,t)=>{for(var n in t||(t={}))LC.call(t,n)&&MC(e,n,t[n]);if(UC)for(var n of UC(t))DC.call(t,n)&&MC(e,n,t[n]);return e},zC=(e,t)=>_C(e,BC(t)),jC=(e,t,n)=>MC(e,"symbol"!=typeof t?t+"":t,n);class VC extends Gh{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,jC(this,"subscriptions",new Map),jC(this,"topicMap",new TC),jC(this,"events",new Su.EventEmitter),jC(this,"name","subscription"),jC(this,"version","0.3"),jC(this,"pending",new Map),jC(this,"cached",[]),jC(this,"initialized",!1),jC(this,"storagePrefix",Qk),jC(this,"subscribeTimeout",(0,ku.toMiliseconds)(ku.ONE_MINUTE)),jC(this,"initialSubscribeTimeout",(0,ku.toMiliseconds)(15*ku.ONE_SECOND)),jC(this,"clientId"),jC(this,"batchSubscribeTopicsLimit",500),jC(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),jC(this,"subscribe",async(e,t)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{const n=dI(t),r={topic:e,relay:n,transportType:t?.transportType};this.pending.set(e,r);const i=await this.rpcSubscribe(e,n,t);return"string"==typeof i&&(this.onSubscribe(i,r),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}})),i}catch(pt){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(pt),pt}}),jC(this,"unsubscribe",async(e,t)=>{this.isInitialized(),typeof t?.id<"u"?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)}),jC(this,"isSubscribed",e=>new Promise(t=>{t(this.topicMap.topics.includes(e))})),jC(this,"isKnownTopic",e=>new Promise(t=>{t(this.topicMap.topics.includes(e)||this.pending.has(e)||this.cached.some(t=>t.topic===e))})),jC(this,"on",(e,t)=>{this.events.on(e,t)}),jC(this,"once",(e,t)=>{this.events.once(e,t)}),jC(this,"off",(e,t)=>{this.events.off(e,t)}),jC(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),jC(this,"start",async()=>{await this.onConnect()}),jC(this,"stop",async()=>{await this.onDisconnect()}),jC(this,"restart",async()=>{await this.restore(),await this.onRestart()}),jC(this,"checkPending",async()=>{if(0===this.pending.size&&(!this.initialized||!this.relayer.connected))return;const e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}),jC(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Cu,async()=>{await this.checkPending()}),this.events.on(mP,async e=>{const t=mP;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(wP,async e=>{const t=wP;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}),this.relayer=e,this.logger=Bh(t,this.name),this.clientId=""}get context(){return _h(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let n=!1;try{n=this.getSubscription(e).topic===t}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const n=this.topicMap.get(e);await Promise.all(n.map(async n=>await this.unsubscribeById(e,n,t)))}async unsubscribeById(e,t,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}});try{const r=dI(n);await this.restartToComplete({topic:e,id:t,relay:r}),await this.rpcUnsubscribe(e,t,r);const i=DI("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}})}catch(ac){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(ac),ac}}async rpcSubscribe(e,t,n){var r;(!n||n?.transportType===dP.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const i={method:pI(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});const s=null==(r=n?.internal)?void 0:r.throwOnFailedPublish;try{const t=await this.getSubscriptionId(e);if(n?.transportType===dP.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(i).catch(e=>this.logger.warn(e))},(0,ku.toMiliseconds)(ku.ONE_SECOND)),t;const r=new Promise(async t=>{const n=r=>{r.topic===e&&(this.events.removeListener(mP,n),t(r.id))};this.events.on(mP,n);try{const r=await iv(new Promise((e,t)=>{this.relayer.request(i).catch(e=>{this.logger.warn(e,e?.message),t(e)}).then(e)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(mP,n),t(r)}catch{}}),o=await iv(r,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!o&&s)throw new Error(`Subscribing to ${e} failed, please try again`);return o?t:null}catch(rc){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(oP),s)throw rc}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t={method:pI(e[0].relay.protocol).batchSubscribe,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{await await iv(new Promise(e=>{this.relayer.request(t).catch(e=>this.logger.warn(e)).then(e)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(oP)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t={method:pI(e[0].relay.protocol).batchFetchMessages,params:{topics:e.map(e=>e.topic)}};let n;this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{n=await await iv(new Promise((e,n)=>{this.relayer.request(t).catch(e=>{this.logger.warn(e),n(e)}).then(e)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(oP)}return n}rpcUnsubscribe(e,t,n){const r={method:pI(n.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r}),this.relayer.request(r)}onSubscribe(e,t){this.setSubscription(e,zC(FC({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(e=>{this.setSubscription(e.id,FC({},e)),this.pending.delete(e.topic)})}async onUnsubscribe(e,t,n){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,FC({},t)),this.topicMap.set(t.topic,e),this.events.emit(mP,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:t}=LI("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(wP,zC(FC({},n),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(bP)}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<t;n++){const t=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(t)}}this.events.emit(vP)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:e}=LI("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(ec){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(ec)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async e=>zC(FC({},e),{id:await this.getSubscriptionId(e.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await function(e){return new Promise(t=>setTimeout(t,e))}((0,ku.toMiliseconds)(ku.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=LI("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return nI(e+await this.getClientId())}}var HC=Object.defineProperty,qC=Object.getOwnPropertySymbols,$C=Object.prototype.hasOwnProperty,GC=Object.prototype.propertyIsEnumerable,KC=(e,t,n)=>t in e?HC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QC=(e,t)=>{for(var n in t||(t={}))$C.call(t,n)&&KC(e,n,t[n]);if(qC)for(var n of qC(t))GC.call(t,n)&&KC(e,n,t[n]);return e},WC=(e,t,n)=>KC(e,"symbol"!=typeof t?t+"":t,n);class JC extends qh{constructor(e){super(e),WC(this,"protocol","wc"),WC(this,"version",2),WC(this,"core"),WC(this,"logger"),WC(this,"events",new Su.EventEmitter),WC(this,"provider"),WC(this,"messages"),WC(this,"subscriber"),WC(this,"publisher"),WC(this,"name","relayer"),WC(this,"transportExplicitlyClosed",!1),WC(this,"initialized",!1),WC(this,"connectionAttemptInProgress",!1),WC(this,"relayUrl"),WC(this,"projectId"),WC(this,"packageName"),WC(this,"bundleId"),WC(this,"hasExperiencedNetworkDisruption",!1),WC(this,"pingTimeout"),WC(this,"heartBeatTimeout",(0,ku.toMiliseconds)(ku.THIRTY_SECONDS+ku.FIVE_SECONDS)),WC(this,"reconnectTimeout"),WC(this,"connectPromise"),WC(this,"reconnectInProgress",!1),WC(this,"requestsInFlight",[]),WC(this,"connectTimeout",(0,ku.toMiliseconds)(15*ku.ONE_SECOND)),WC(this,"request",async e=>{var t,n;this.logger.debug("Publishing Request Payload");const r=e.id||xk().toString();await this.toEstablishConnection();try{this.logger.trace({id:r,method:e.method,topic:null==(t=e.params)?void 0:t.topic},"relayer.request - publishing...");const i=`${r}:${(null==(n=e.params)?void 0:n.tag)||""}`;this.requestsInFlight.push(i);const s=await this.provider.request(e);return this.requestsInFlight=this.requestsInFlight.filter(e=>e!==i),s}catch(sc){throw this.logger.debug(`Failed to Publish Request: ${r}`),sc}}),WC(this,"resetPingTimeout",()=>{$b()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var e,t,n,r;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),null==(r=null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.terminate)||r.call(n)}catch(sc){this.logger.warn(sc,sc?.message)}},this.heartBeatTimeout))}),WC(this,"onPayloadHandler",e=>{this.onProviderPayload(e),this.resetPingTimeout()}),WC(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \ud83d\udedc"),this.startPingTimeout(),this.events.emit(rP)}),WC(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \ud83d\uded1"),this.requestsInFlight=[],this.onProviderDisconnect()}),WC(this,"onProviderErrorHandler",e=>{this.logger.fatal(`Fatal socket error: ${e.message}`),this.events.emit(sP,e),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),WC(this,"registerProviderListeners",()=>{this.provider.on(lP,this.onPayloadHandler),this.provider.on(cP,this.onConnectHandler),this.provider.on(uP,this.onDisconnectHandler),this.provider.on(hP,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&"string"!=typeof e.logger?Bh(e.logger,this.name):dh()(Rh({level:e.logger||"error"})),this.messages=new mC(this.logger,e.core),this.subscriber=new VC(this,this.logger),this.publisher=new OC(this,this.logger),this.relayUrl=e?.relayUrl||eP,this.projectId=e.projectId,Gb()&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Platform)<"u"&&"android"===(null==n.g?void 0:n.g.Platform.OS)?this.packageName=Wb():Gb()&&typeof n.g<"u"&&typeof(null==n.g?void 0:n.g.Platform)<"u"&&"ios"===(null==n.g?void 0:n.g.Platform.OS)&&(this.bundleId=Wb()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return _h(this.logger)}get connected(){var e,t,n;return 1===(null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.readyState)||!1}get connecting(){var e,t,n;return 0===(null==(n=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:n.readyState)||void 0!==this.connectPromise||!1}async publish(e,t,n){this.isInitialized(),await this.publisher.publish(e,t,n),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:dP.relay},gP)}async subscribe(e,t){var n,r,i;this.isInitialized(),(null==t||!t.transportType||"relay"===t?.transportType)&&await this.toEstablishConnection();const s=typeof(null==(n=t?.internal)?void 0:n.throwOnFailedPublish)>"u"||(null==(r=t?.internal)?void 0:r.throwOnFailedPublish);let o,a=(null==(i=this.subscriber.topicMap.get(e))?void 0:i[0])||"";const l=t=>{t.topic===e&&(this.subscriber.off(mP,l),o())};return await Promise.all([new Promise(e=>{o=e,this.subscriber.on(mP,l)}),new Promise(async(n,r)=>{a=await this.subscriber.subscribe(e,QC({internal:{throwOnFailedPublish:s}},t)).catch(e=>{s&&r(e)})||a,n()})]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await iv(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(this.subscriber.hasAnyTopics){if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,n)=>{await this.connect(e).then(t).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}else this.logger.warn("Starting WS connection skipped because the client has no topics to work with.")}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await nk())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(0===e?.length)return void this.logger.trace("Batch message events is empty. Ignoring...");const t=e.sort((e,t)=>e.publishedAt-t.publishedAt);this.logger.debug(`Batch of ${t.length} message events sorted`);for(const n of t)try{await this.onMessageEvent(n)}catch(ac){this.logger.warn(ac,"Error while processing batch message event: "+ac?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){const{topic:n}=e;if(!t.sessionExists){const e={topic:n,expiry:av(ku.FIVE_MINUTES),relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,e)}this.events.emit(tP,e),await this.recordMessageEvent(e,pP)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(e,t)=>{const n=()=>{t(new Error("Connection interrupted while trying to connect"))};this.provider.once(uP,n),await iv(new Promise((e,t)=>{this.provider.connect().then(e).catch(t)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(e=>{t(e)}).finally(()=>{this.provider.off(uP,n),clearTimeout(this.reconnectTimeout)}),await new Promise(async(e,n)=>{const r=()=>{t(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(uP,r),await this.subscriber.start().then(e).catch(n).finally(()=>{this.provider.off(uP,r)})}),this.hasExperiencedNetworkDisruption=!1,e()})}catch(lc){await this.subscriber.stop();const t=lc;this.logger.warn({},t.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(e=>setTimeout(e,(0,ku.toMiliseconds)(1*t))),t++}}startPingTimeout(){var e,t,n,r,i;if($b())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(i=null==(r=null==(n=this.provider)?void 0:n.connection)?void 0:r.socket)||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(sc){this.logger.warn(sc,sc?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Mk(new Hk(Xb({sdkVersion:fP,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:n,message:r}=e;await this.messages.set(n,r,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:n}=e;if(!n||0===n.length)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;const r=this.messages.has(t,n);return r&&this.logger.warn(`Ignoring duplicate message: ${n}`),r}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Bk(e)){if(!e.method.endsWith("_subscription"))return;const t=e.params,{topic:n,message:r,publishedAt:i,attestation:s}=t.data,o={topic:n,message:r,publishedAt:i,transportType:dP.relay,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(QC({type:"event",event:t.id},o)),this.events.emit(t.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else Uk(e)&&this.events.emit(nP,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,pP),this.events.emit(tP,e))}async acknowledgePayload(e){const t=Ik(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(lP,this.onPayloadHandler),this.provider.off(cP,this.onConnectHandler),this.provider.off(uP,this.onDisconnectHandler),this.provider.off(hP,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await nk();rk(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(e=>this.logger.error(e,e?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Cu,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&function(){var e;return!Kb()||!(0,qg.getDocument)()||"visible"===(null==(e=(0,qg.getDocument)())?void 0:e.visibilityState)}())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(tc){this.logger.warn(tc,tc?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(iP),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,ku.toMiliseconds)(.1)))))}isInitialized(){if(!this.initialized){const{message:e}=LI("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise)return void await this.connectPromise;await this.connect()}}}function YC(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function ZC(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const XC="[object Arguments]",eT="[object Object]";function tT(){}function nT(e){if(!e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}function rT(e,t,n,r,i,s,o){const a=o(e,t,n,r,i,s);if(void 0!==a)return a;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return e===t;case"number":return e===t||Object.is(e,t);case"object":return iT(e,t,s,o)}return iT(e,t,s,o)}function iT(e,t,n,r){if(Object.is(e,t))return!0;let i=ZC(e),s=ZC(t);if(i===XC&&(i=eT),s===XC&&(s=eT),i!==s)return!1;switch(i){case"[object String]":return e.toString()===t.toString();case"[object Number]":return function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}(e.valueOf(),t.valueOf());case"[object Boolean]":case"[object Date]":case"[object Symbol]":return Object.is(e.valueOf(),t.valueOf());case"[object RegExp]":return e.source===t.source&&e.flags===t.flags;case"[object Function]":return e===t}const o=(n=n??new Map).get(e),a=n.get(t);if(null!=o&&null!=a)return o===t;n.set(e,t),n.set(t,e);try{switch(i){case"[object Map]":if(e.size!==t.size)return!1;for(const[i,s]of e.entries())if(!t.has(i)||!rT(s,t.get(i),i,e,t,n,r))return!1;return!0;case"[object Set]":{if(e.size!==t.size)return!1;const i=Array.from(e.values()),s=Array.from(t.values());for(let o=0;o<i.length;o++){const a=i[o],l=s.findIndex(i=>rT(a,i,void 0,e,t,n,r));if(-1===l)return!1;s.splice(l,1)}return!0}case"[object Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":case"[object BigUint64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object BigInt64Array]":case"[object Float32Array]":case"[object Float64Array]":if(typeof $k<"u"&&$k.isBuffer(e)!==$k.isBuffer(t)||e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!rT(e[i],t[i],i,e,t,n,r))return!1;return!0;case"[object ArrayBuffer]":return e.byteLength===t.byteLength&&iT(new Uint8Array(e),new Uint8Array(t),n,r);case"[object DataView]":return e.byteLength===t.byteLength&&e.byteOffset===t.byteOffset&&iT(new Uint8Array(e),new Uint8Array(t),n,r);case"[object Error]":return e.name===t.name&&e.message===t.message;case eT:{if(!(iT(e.constructor,t.constructor,n,r)||nT(e)&&nT(t)))return!1;const i=[...Object.keys(e),...YC(e)],s=[...Object.keys(t),...YC(t)];if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++){const s=i[o],a=e[s];if(!Object.hasOwn(t,s))return!1;if(!rT(a,t[s],s,e,t,n,r))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}function sT(e,t){return function(e,t,n){return rT(e,t,void 0,void 0,void 0,void 0,n)}(e,t,tT)}var oT=Object.defineProperty,aT=Object.getOwnPropertySymbols,lT=Object.prototype.hasOwnProperty,cT=Object.prototype.propertyIsEnumerable,uT=(e,t,n)=>t in e?oT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hT=(e,t)=>{for(var n in t||(t={}))lT.call(t,n)&&uT(e,n,t[n]);if(aT)for(var n of aT(t))cT.call(t,n)&&uT(e,n,t[n]);return e},fT=(e,t,n)=>uT(e,"symbol"!=typeof t?t+"":t,n);class dT extends $h{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Qk,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;super(e,t,n,r),this.core=e,this.logger=t,this.name=n,fT(this,"map",new Map),fT(this,"version","0.3"),fT(this,"cached",[]),fT(this,"initialized",!1),fT(this,"getKey"),fT(this,"storagePrefix",Qk),fT(this,"recentlyDeleted",[]),fT(this,"recentlyDeletedLimit",200),fT(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>{this.getKey&&null!==e&&!zI(e)?this.map.set(this.getKey(e),e):function(e){var t;return null==(t=e?.proposer)?void 0:t.publicKey}(e)?this.map.set(e.id,e):function(e){return e?.topic}(e)&&this.map.set(e.topic,e)}),this.cached=[],this.initialized=!0)}),fT(this,"set",async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())}),fT(this,"get",e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e))),fT(this,"getAll",e=>(this.isInitialized(),e?this.values.filter(t=>Object.keys(e).every(n=>sT(t[n],e[n]))):this.values)),fT(this,"update",async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});const n=hT(hT({},this.getData(e)),t);this.map.set(e,n),await this.persist()}),fT(this,"delete",async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),this.addToRecentlyDeleted(e),await this.persist())}),this.logger=Bh(t,this.name),this.storagePrefix=r,this.getKey=i}get context(){return _h(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:t}=LI("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(t),new Error(t)}const{message:t}=LI("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),new Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:e}=LI("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(ec){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(ec)}}isInitialized(){if(!this.initialized){const{message:e}=LI("NOT_INITIALIZED",this.name);throw new Error(e)}}}var pT=Object.defineProperty,gT=(e,t,n)=>((e,t,n)=>t in e?pT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class yT{constructor(e,t){this.core=e,this.logger=t,gT(this,"name","pairing"),gT(this,"version","0.3"),gT(this,"events",new(Iu())),gT(this,"pairings"),gT(this,"initialized",!1),gT(this,"storagePrefix",Qk),gT(this,"ignoredPayloadTypes",[1]),gT(this,"registeredMethods",[]),gT(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),gT(this,"register",e=>{let{methods:t}=e;this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...t])]}),gT(this,"create",async e=>{this.isInitialized();const t=eI(),n=await this.core.crypto.setSymKey(t),r=av(ku.FIVE_MINUTES),i={protocol:"irn"},s={topic:n,expiry:r,relay:i,active:!1,methods:e?.methods},o=wI({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:t,relay:i,expiryTimestamp:r,methods:e?.methods});return this.events.emit(AP,s),this.core.expirer.set(n,r),await this.pairings.set(n,s),await this.core.relayer.subscribe(n,{transportType:e?.transportType}),{topic:n,uri:o}}),gT(this,"pair",async e=>{this.isInitialized();const t=this.core.eventClient.createEvent({properties:{topic:e?.uri,trace:[MP]}});this.isValidPair(e,t);const{topic:n,symKey:r,relay:i,expiryTimestamp:s,methods:o}=yI(e.uri);let a;if(t.props.properties.topic=n,t.addTrace(FP),t.addTrace(zP),this.pairings.keys.includes(n)){if(a=this.pairings.get(n),t.addTrace(qP),a.active)throw t.setError(JP),new Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);t.addTrace($P)}const l=s||av(ku.FIVE_MINUTES),c={topic:n,relay:i,expiry:l,active:!1,methods:o};this.core.expirer.set(n,l),await this.pairings.set(n,c),t.addTrace(jP),e.activatePairing&&await this.activate({topic:n}),this.events.emit(AP,c),t.addTrace(GP),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(r,n),t.addTrace(VP);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{t.setError(QP)}try{await this.core.relayer.subscribe(n,{relay:i})}catch(Dc){throw t.setError(YP),Dc}return t.addTrace(HP),c}),gT(this,"activate",async e=>{let{topic:t}=e;this.isInitialized();const n=av(ku.FIVE_MINUTES);this.core.expirer.set(t,n),await this.pairings.update(t,{active:!0,expiry:n})}),gT(this,"ping",async e=>{this.isInitialized(),await this.isValidPing(e),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:t}=e;if(this.pairings.keys.includes(t)){const e=await this.sendRequest(t,"wc_pairingPing",{}),{done:n,resolve:r,reject:i}=rv();this.events.once(cv("pairing_ping",e),e=>{let{error:t}=e;t?i(t):r()}),await n()}}),gT(this,"updateExpiry",async e=>{let{topic:t,expiry:n}=e;this.isInitialized(),await this.pairings.update(t,{expiry:n})}),gT(this,"updateMetadata",async e=>{let{topic:t,metadata:n}=e;this.isInitialized(),await this.pairings.update(t,{peerMetadata:n})}),gT(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),gT(this,"disconnect",async e=>{this.isInitialized(),await this.isValidDisconnect(e);const{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",DI("USER_DISCONNECTED")),await this.deletePairing(t))}),gT(this,"formatUriFromPairing",e=>{this.isInitialized();const{topic:t,relay:n,expiry:r,methods:i}=e,s=this.core.crypto.keychain.get(t);return wI({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:s,relay:n,expiryTimestamp:r,methods:i})}),gT(this,"sendRequest",async(e,t,n)=>{const r=Sk(t,n),i=await this.core.crypto.encode(e,r),s=EP[t].req;return this.core.history.set(e,r),this.core.relayer.publish(e,i,s),r.id}),gT(this,"sendResult",async(e,t,n)=>{const r=Ik(e,n),i=await this.core.crypto.encode(t,r),s=(await this.core.history.get(t,e)).request.method,o=EP[s].res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(r)}),gT(this,"sendError",async(e,t,n)=>{const r=kk(e,n),i=await this.core.crypto.encode(t,r),s=(await this.core.history.get(t,e)).request.method,o=EP[s]?EP[s].res:EP.unregistered_method.res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(r)}),gT(this,"deletePairing",async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,DI("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])}),gT(this,"cleanup",async()=>{const e=this.pairings.getAll().filter(e=>lv(e.expiry));await Promise.all(e.map(e=>this.deletePairing(e.topic)))}),gT(this,"onRelayEventRequest",async e=>{const{topic:t,payload:n}=e;switch(n.method){case"wc_pairingPing":return await this.onPairingPingRequest(t,n);case"wc_pairingDelete":return await this.onPairingDeleteRequest(t,n);default:return await this.onUnknownRpcMethodRequest(t,n)}}),gT(this,"onRelayEventResponse",async e=>{const{topic:t,payload:n}=e,r=(await this.core.history.get(t,n.id)).request.method;return"wc_pairingPing"===r?this.onPairingPingResponse(t,n):this.onUnknownRpcMethodResponse(r)}),gT(this,"onPairingPingRequest",async(e,t)=>{const{id:n}=t;try{this.isValidPing({topic:e}),await this.sendResult(n,e,!0),this.events.emit(IP,{id:n,topic:e})}catch(sc){await this.sendError(n,e,sc),this.logger.error(sc)}}),gT(this,"onPairingPingResponse",(e,t)=>{const{id:n}=t;setTimeout(()=>{Lk(t)?this.events.emit(cv("pairing_ping",n),{}):Dk(t)&&this.events.emit(cv("pairing_ping",n),{error:t.error})},500)}),gT(this,"onPairingDeleteRequest",async(e,t)=>{const{id:n}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(SP,{id:n,topic:e})}catch(sc){await this.sendError(n,e,sc),this.logger.error(sc)}}),gT(this,"onUnknownRpcMethodRequest",async(e,t)=>{const{id:n,method:r}=t;try{if(this.registeredMethods.includes(r))return;const t=DI("WC_METHOD_UNSUPPORTED",r);await this.sendError(n,e,t),this.logger.error(t)}catch(rc){await this.sendError(n,e,rc),this.logger.error(rc)}}),gT(this,"onUnknownRpcMethodResponse",e=>{this.registeredMethods.includes(e)||this.logger.error(DI("WC_METHOD_UNSUPPORTED",e))}),gT(this,"isValidPair",(e,t)=>{var n;if(!JI(e)){const{message:n}=LI("MISSING_OR_INVALID",`pair() params: ${e}`);throw t.setError(WP),new Error(n)}if(!function(e){function t(e){try{return typeof new URL(e)<"u"}catch{return!1}}try{if(jI(e,!1))return!!t(e)||t(gv(e))}catch{}return!1}(e.uri)){const{message:n}=LI("MISSING_OR_INVALID",`pair() uri: ${e.uri}`);throw t.setError(WP),new Error(n)}const r=yI(e?.uri);if(null==(n=r?.relay)||!n.protocol){const{message:e}=LI("MISSING_OR_INVALID","pair() uri#relay-protocol");throw t.setError(WP),new Error(e)}if(null==r||!r.symKey){const{message:e}=LI("MISSING_OR_INVALID","pair() uri#symKey");throw t.setError(WP),new Error(e)}if(null!=r&&r.expiryTimestamp&&(0,ku.toMiliseconds)(r?.expiryTimestamp)<Date.now()){t.setError(ZP);const{message:e}=LI("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(e)}}),gT(this,"isValidPing",async e=>{if(!JI(e)){const{message:t}=LI("MISSING_OR_INVALID",`ping() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)}),gT(this,"isValidDisconnect",async e=>{if(!JI(e)){const{message:t}=LI("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidPairingTopic(t)}),gT(this,"isValidPairingTopic",async e=>{if(!jI(e,!1)){const{message:t}=LI("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.pairings.keys.includes(e)){const{message:t}=LI("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(lv(this.pairings.get(e).expiry)){await this.deletePairing(e);const{message:t}=LI("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}),this.core=e,this.logger=Bh(t,this.name),this.pairings=new dT(this.core,this.logger,this.name,this.storagePrefix)}get context(){return _h(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=LI("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(tP,async e=>{const{topic:t,message:n,transportType:r}=e;if(this.pairings.keys.includes(t)&&r!==dP.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const e=await this.core.crypto.decode(t,n);Bk(e)?(this.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e})):Uk(e)&&(await this.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e}),this.core.history.delete(t,e.id)),await this.core.relayer.messages.ack(t,n)}catch(pt){this.logger.error(pt)}})}registerExpirerEvents(){this.core.expirer.on(RP,async e=>{const{topic:t}=ov(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(xP,{topic:t}))})}}var mT=Object.defineProperty,wT=(e,t,n)=>((e,t,n)=>t in e?mT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class bT extends jh{constructor(e,t){super(e,t),this.core=e,this.logger=t,wT(this,"records",new Map),wT(this,"events",new Su.EventEmitter),wT(this,"name","history"),wT(this,"version","0.3"),wT(this,"cached",[]),wT(this,"initialized",!1),wT(this,"storagePrefix",Qk),wT(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.records.set(e.id,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),wT(this,"set",(e,t,n)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:n}),this.records.has(t.id))return;const r={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:n,expiry:av(ku.THIRTY_DAYS)};this.records.set(r.id,r),this.persist(),this.events.emit(kP,r)}),wT(this,"resolve",async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;const t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=Dk(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.persist(),this.events.emit(PP,t))}),wT(this,"get",async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t))),wT(this,"delete",(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach(n=>{if(n.topic===e){if(typeof t<"u"&&n.id!==t)return;this.records.delete(n.id),this.events.emit(OP,n)}}),this.persist()}),wT(this,"exists",async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e)),wT(this,"on",(e,t)=>{this.events.on(e,t)}),wT(this,"once",(e,t)=>{this.events.once(e,t)}),wT(this,"off",(e,t)=>{this.events.off(e,t)}),wT(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=Bh(t,this.name)}get context(){return _h(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const n={topic:t.topic,request:Sk(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:t}=LI("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(NP)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:e}=LI("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(ec){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(ec)}}registerEventListeners(){this.events.on(kP,e=>{const t=kP;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(PP,e=>{const t=PP;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(OP,e=>{const t=OP;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.core.heartbeat.on(Cu,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,ku.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(OP,t,!1),e=!0)}),e&&this.persist()}catch(ec){this.logger.warn(ec)}}isInitialized(){if(!this.initialized){const{message:e}=LI("NOT_INITIALIZED",this.name);throw new Error(e)}}}var vT=Object.defineProperty,ET=(e,t,n)=>((e,t,n)=>t in e?vT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class AT extends Kh{constructor(e,t){super(e,t),this.core=e,this.logger=t,ET(this,"expirations",new Map),ET(this,"events",new Su.EventEmitter),ET(this,"name","expirer"),ET(this,"version","0.3"),ET(this,"cached",[]),ET(this,"initialized",!1),ET(this,"storagePrefix",Qk),ET(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.expirations.set(e.target,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ET(this,"has",e=>{try{const t=this.formatTarget(e);return typeof this.getExpiration(t)<"u"}catch{return!1}}),ET(this,"set",(e,t)=>{this.isInitialized();const n=this.formatTarget(e),r={target:n,expiry:t};this.expirations.set(n,r),this.checkExpiry(n,r),this.events.emit(CP,{target:n,expiration:r})}),ET(this,"get",e=>{this.isInitialized();const t=this.formatTarget(e);return this.getExpiration(t)}),ET(this,"del",e=>{if(this.isInitialized(),this.has(e)){const t=this.formatTarget(e),n=this.getExpiration(t);this.expirations.delete(t),this.events.emit(TP,{target:t,expiration:n})}}),ET(this,"on",(e,t)=>{this.events.on(e,t)}),ET(this,"once",(e,t)=>{this.events.once(e,t)}),ET(this,"off",(e,t)=>{this.events.off(e,t)}),ET(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=Bh(t,this.name)}get context(){return _h(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return function(e){return sv("topic",e)}(e);if("number"==typeof e)return function(e){return sv("id",e)}(e);const{message:t}=LI("UNKNOWN_TYPE","Target type: "+typeof e);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(_P)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:e}=LI("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),new Error(e)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(ec){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(ec)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:t}=LI("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(t),new Error(t)}return t}checkExpiry(e,t){const{expiry:n}=t;(0,ku.toMiliseconds)(n)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(RP,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(Cu,()=>this.checkExpirations()),this.events.on(CP,e=>{const t=CP;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(RP,e=>{const t=RP;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(TP,e=>{const t=TP;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=LI("NOT_INITIALIZED",this.name);throw new Error(e)}}}var xT=Object.defineProperty,ST=(e,t,n)=>((e,t,n)=>t in e?xT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class IT extends Qh{constructor(e,t,n){super(e,t,n),this.core=e,this.logger=t,this.store=n,ST(this,"name","verify-api"),ST(this,"abortController"),ST(this,"isDevEnv"),ST(this,"verifyUrlV3",LP),ST(this,"storagePrefix",Qk),ST(this,"version",2),ST(this,"publicKey"),ST(this,"fetchPromise"),ST(this,"init",async()=>{var e;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,ku.toMiliseconds)(null==(e=this.publicKey)?void 0:e.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),ST(this,"register",async e=>{if(!Kb()||this.isDevEnv)return;const t=window.location.origin,{id:n,decryptedId:r}=e,i=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${t}&id=${n}&decryptedId=${r}`;try{const e=(0,qk.YE)(),t=this.startAbortTimer(5*ku.ONE_SECOND),r=await new Promise((r,s)=>{const o=()=>{window.removeEventListener("message",l),e.body.removeChild(a),s("attestation aborted")};this.abortController.signal.addEventListener("abort",o);const a=e.createElement("iframe");a.src=i,a.style.display="none",a.addEventListener("error",o,{signal:this.abortController.signal});const l=i=>{if(i.data&&"string"==typeof i.data)try{const s=JSON.parse(i.data);if("verify_attestation"===s.type){if(Og(s.attestation).payload.id!==n)return;clearInterval(t),e.body.removeChild(a),this.abortController.signal.removeEventListener("abort",o),window.removeEventListener("message",l),r(null===s.attestation?"":s.attestation)}}catch(s){this.logger.warn(s)}};e.body.appendChild(a),window.addEventListener("message",l,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",r),r}catch(dc){this.logger.warn(dc)}return""}),ST(this,"resolve",async e=>{if(this.isDevEnv)return"";const{attestationId:t,hash:n,encryptedId:r}=e;if(""===t)return void this.logger.debug("resolve: attestationId is empty, skipping");if(t){if(Og(t).payload.id!==r)return;const e=await this.isValidJwtAttestation(t);if(e)return e.isVerified?e:void this.logger.warn("resolve: jwt attestation: origin url not verified")}if(!n)return;const i=this.getVerifyUrl(e?.verifyUrl);return this.fetchAttestation(n,i)}),ST(this,"fetchAttestation",async(e,t)=>{this.logger.debug(`resolving attestation: ${e} from url: ${t}`);const n=this.startAbortTimer(5*ku.ONE_SECOND),r=await fetch(`${t}/attestation/${e}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(n),200===r.status?await r.json():void 0}),ST(this,"getVerifyUrl",e=>{let t=e||UP;return DP.includes(t)||(this.logger.info(`verify url: ${t}, not included in trusted list, assigning default: ${UP}`),t=UP),t}),ST(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const e=this.startAbortTimer(ku.FIVE_SECONDS),t=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(e),await t.json()}catch(ac){this.logger.warn(ac)}}),ST(this,"persistPublicKey",async e=>{this.logger.debug("persisting public key to local storage",e),await this.store.setItem(this.storeKey,e),this.publicKey=e}),ST(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),ST(this,"isValidJwtAttestation",async e=>{const t=await this.getPublicKey();try{if(t)return this.validateAttestation(e,t)}catch(rc){this.logger.error(rc),this.logger.warn("error validating attestation")}const n=await this.fetchAndPersistPublicKey();try{if(n)return this.validateAttestation(e,n)}catch(rc){this.logger.error(rc),this.logger.warn("error validating attestation")}}),ST(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),ST(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async e=>{const t=await this.fetchPublicKey();t&&(await this.persistPublicKey(t),e(t))});const e=await this.fetchPromise;return this.fetchPromise=void 0,e}),ST(this,"validateAttestation",(e,t)=>{const n=fI(e,t.publicKey),r={hasExpired:(0,ku.toMiliseconds)(n.exp)<Date.now(),payload:n};if(r.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:r.payload.origin,isScam:r.payload.isScam,isVerified:r.payload.isVerified}}),this.logger=Bh(t,this.name),this.abortController=new AbortController,this.isDevEnv=pv(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return _h(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,ku.toMiliseconds)(e))}}var kT=Object.defineProperty,PT=(e,t,n)=>((e,t,n)=>t in e?kT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class OT extends Wh{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,PT(this,"context","echo"),PT(this,"registerDeviceToken",async e=>{const{clientId:t,token:n,notificationType:r,enableEncrypted:i=!1}=e,s=`https://echo.walletconnect.com/${this.projectId}/clients`;await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:r,token:n,always_raw:i})})}),this.logger=Bh(t,this.context)}}var NT=Object.defineProperty,CT=Object.getOwnPropertySymbols,TT=Object.prototype.hasOwnProperty,RT=Object.prototype.propertyIsEnumerable,_T=(e,t,n)=>t in e?NT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BT=(e,t)=>{for(var n in t||(t={}))TT.call(t,n)&&_T(e,n,t[n]);if(CT)for(var n of CT(t))RT.call(t,n)&&_T(e,n,t[n]);return e},UT=(e,t,n)=>_T(e,"symbol"!=typeof t?t+"":t,n);class LT extends Jh{constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,t,n),this.core=e,this.logger=t,UT(this,"context","event-client"),UT(this,"storagePrefix",Qk),UT(this,"storageVersion",.1),UT(this,"events",new Map),UT(this,"shouldPersist",!1),UT(this,"init",async()=>{if(!pv())try{const e={eventId:dv(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Zb(this.core.relayer.protocol,this.core.relayer.version,fP)}}};await this.sendEvent([e])}catch(ac){this.logger.warn(ac)}}),UT(this,"createEvent",e=>{const{event:t="ERROR",type:n="",properties:{topic:r,trace:i}}=e,s=dv(),o=this.core.projectId||"",a=Date.now(),l=BT({eventId:s,timestamp:a,props:{event:t,type:n,properties:{topic:r,trace:i}},bundleId:o,domain:this.getAppDomain()},this.setMethods(s));return this.telemetryEnabled&&(this.events.set(s,l),this.shouldPersist=!0),l}),UT(this,"getEvent",e=>{const{eventId:t,topic:n}=e;if(t)return this.events.get(t);const r=Array.from(this.events.values()).find(e=>e.props.properties.topic===n);return r?BT(BT({},r),this.setMethods(r.eventId)):void 0}),UT(this,"deleteEvent",e=>{const{eventId:t}=e;this.events.delete(t),this.shouldPersist=!0}),UT(this,"setEventListeners",()=>{this.core.heartbeat.on(Cu,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(e=>{(0,ku.fromMiliseconds)(Date.now())-(0,ku.fromMiliseconds)(e.timestamp)>86400&&(this.events.delete(e.eventId),this.shouldPersist=!0)})})}),UT(this,"setMethods",e=>({addTrace:t=>this.addTrace(e,t),setError:t=>this.setError(e,t)})),UT(this,"addTrace",(e,t)=>{const n=this.events.get(e);n&&(n.props.properties.trace.push(t),this.events.set(e,n),this.shouldPersist=!0)}),UT(this,"setError",(e,t)=>{const n=this.events.get(e);n&&(n.props.type=t,n.timestamp=Date.now(),this.events.set(e,n),this.shouldPersist=!0)}),UT(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),UT(this,"restore",async()=>{try{const e=await this.core.storage.getItem(this.storageKey)||[];if(!e.length)return;e.forEach(e=>{this.events.set(e.eventId,BT(BT({},e),this.setMethods(e.eventId)))})}catch(ac){this.logger.warn(ac)}}),UT(this,"submit",async()=>{if(!this.telemetryEnabled||0===this.events.size)return;const e=[];for(const[t,n]of this.events)n.props.type&&e.push(n);if(0!==e.length)try{if((await this.sendEvent(e)).ok)for(const t of e)this.events.delete(t.eventId),this.shouldPersist=!0}catch(pt){this.logger.warn(pt)}}),UT(this,"sendEvent",async e=>{const t=this.getAppDomain()?"":"&sp=desktop";return await fetch(`https://pulse.walletconnect.org/batch?projectId=${this.core.projectId}&st=events_sdk&sv=js-${fP}${t}`,{method:"POST",body:JSON.stringify(e)})}),UT(this,"getAppDomain",()=>Yb().url),this.logger=Bh(t,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var DT=Object.defineProperty,MT=Object.getOwnPropertySymbols,FT=Object.prototype.hasOwnProperty,zT=Object.prototype.propertyIsEnumerable,jT=(e,t,n)=>t in e?DT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VT=(e,t)=>{for(var n in t||(t={}))FT.call(t,n)&&jT(e,n,t[n]);if(MT)for(var n of MT(t))zT.call(t,n)&&jT(e,n,t[n]);return e},HT=(e,t,n)=>jT(e,"symbol"!=typeof t?t+"":t,n);class qT extends Mh{constructor(e){var t;super(e),HT(this,"protocol","wc"),HT(this,"version",2),HT(this,"name",Kk),HT(this,"relayUrl"),HT(this,"projectId"),HT(this,"customStoragePrefix"),HT(this,"events",new Su.EventEmitter),HT(this,"logger"),HT(this,"heartbeat"),HT(this,"relayer"),HT(this,"crypto"),HT(this,"storage"),HT(this,"history"),HT(this,"expirer"),HT(this,"pairing"),HT(this,"verify"),HT(this,"echoClient"),HT(this,"linkModeSupportedApps"),HT(this,"eventClient"),HT(this,"initialized",!1),HT(this,"logChunkController"),HT(this,"on",(e,t)=>this.events.on(e,t)),HT(this,"once",(e,t)=>this.events.once(e,t)),HT(this,"off",(e,t)=>this.events.off(e,t)),HT(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),HT(this,"dispatchEnvelope",e=>{let{topic:t,message:n,sessionExists:r}=e;if(!t||!n)return;const i={topic:t,message:n,publishedAt:Date.now(),transportType:dP.link_mode};this.relayer.onLinkMessageEvent(i,{sessionExists:r})});const n=this.getGlobalCore(e?.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(rc){console.warn("Failed to copy global core",rc)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||eP,this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const r=Rh({level:"string"==typeof e?.logger&&e.logger?e.logger:Wk,name:Kk}),{logger:i,chunkLoggerController:s}=Uh({opts:r,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=s,null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var e,t;null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(null==(t=this.logChunkController)||t.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Bh(i,this.name),this.heartbeat=new Tu,this.crypto=new lC(this,this.logger,e?.keychain),this.history=new bT(this,this.logger),this.expirer=new AT(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new hh(VT(VT({},Jk),e?.storageOptions)),this.relayer=new JC({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new yT(this,this.logger),this.verify=new IT(this,this.logger,this.storage),this.echoClient=new OT(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new LT(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const t=new qT(e);await t.initialize();const n=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",n),t}get context(){return _h(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return null==(e=this.logChunkController)?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(yP,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(yP)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(ec){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,ec),this.logger.error(ec.message),ec}}getGlobalCore(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{if(this.isGlobalCoreDisabled())return;const t=`_walletConnectCore_${e}`,n=`${t}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[t]}catch(tc){return void console.warn("Failed to get global WalletConnect core",tc)}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${(null==(t=e.opts)?void 0:t.customStoragePrefix)||""}`;globalThis[n]=e}catch(lc){console.warn("Failed to set global WalletConnect core",lc)}}isGlobalCoreDisabled(){try{return typeof Gk<"u"&&"true"==={NODE_ENV:"production",PUBLIC_URL:"/wallet-viewer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DISABLE_GLOBAL_CORE}catch{return!0}}}const $T=qT,GT="client",KT=`wc@2:${GT}:`,QT=GT,WT="error",JT="WALLETCONNECT_DEEPLINK_CHOICE",YT="Proposal expired",ZT=ku.SEVEN_DAYS,XT={wc_sessionPropose:{req:{ttl:ku.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ku.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ku.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ku.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ku.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ku.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ku.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ku.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ku.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ku.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ku.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ku.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ku.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ku.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ku.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ku.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ku.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ku.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ku.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ku.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ku.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ku.FIVE_MINUTES,prompt:!1,tag:1119}}},eR={min:ku.FIVE_MINUTES,max:ku.SEVEN_DAYS},tR="IDLE",nR="ACTIVE",rR={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},iR=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],sR="wc@1.5:auth:",oR=`${sR}:PUB_KEY`;var aR=Object.defineProperty,lR=Object.defineProperties,cR=Object.getOwnPropertyDescriptors,uR=Object.getOwnPropertySymbols,hR=Object.prototype.hasOwnProperty,fR=Object.prototype.propertyIsEnumerable,dR=(e,t,n)=>t in e?aR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pR=(e,t)=>{for(var n in t||(t={}))hR.call(t,n)&&dR(e,n,t[n]);if(uR)for(var n of uR(t))fR.call(t,n)&&dR(e,n,t[n]);return e},gR=(e,t)=>lR(e,cR(t)),yR=(e,t,n)=>dR(e,"symbol"!=typeof t?t+"":t,n);class mR extends ef{constructor(e){var t;super(e),t=this,yR(this,"name","engine"),yR(this,"events",new(Iu())),yR(this,"initialized",!1),yR(this,"requestQueue",{state:tR,queue:[]}),yR(this,"sessionRequestQueue",{state:tR,queue:[]}),yR(this,"emittedSessionRequests",new yv({limit:500})),yR(this,"requestQueueDelay",ku.ONE_SECOND),yR(this,"expectedPairingMethodMap",new Map),yR(this,"recentlyDeletedMap",new Map),yR(this,"recentlyDeletedLimit",200),yR(this,"relayMessageCache",[]),yR(this,"pendingSessions",new Map),yR(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(XT)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,ku.toMiliseconds)(this.requestQueueDelay)))}),yR(this,"connect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const t=gR(pR({},e),{requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}});await this.isValidConnect(t),t.optionalNamespaces=function(e,t){var n,r,i,s,o,a;const l=RI(e),c=RI(t),u={},h=Object.keys(l).concat(Object.keys(c));for(const f of h)u[f]={chains:uv(null==(n=l[f])?void 0:n.chains,null==(r=c[f])?void 0:r.chains),methods:uv(null==(i=l[f])?void 0:i.methods,null==(s=c[f])?void 0:s.methods),events:uv(null==(o=l[f])?void 0:o.events,null==(a=c[f])?void 0:a.events)};return u}(t.requiredNamespaces,t.optionalNamespaces),t.requiredNamespaces={};const{pairingTopic:n,requiredNamespaces:r,optionalNamespaces:i,sessionProperties:s,scopedProperties:o,relays:a}=t;let l,c=n,u=!1;try{if(c){const e=this.client.core.pairing.pairings.get(c);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),u=e.active}}catch(Ph){throw this.client.logger.error(`connect() -> pairing.get(${c}) failed`),Ph}if(!c||!u){const{topic:e,uri:t}=await this.client.core.pairing.create();c=e,l=t}if(!c){const{message:e}=LI("NO_MATCHING_KEY",`connect() pairing topic: ${c}`);throw new Error(e)}const h=await this.client.core.crypto.generateKeyPair(),f=XT.wc_sessionPropose.req.ttl||ku.FIVE_MINUTES,d=av(f),p=gR(pR(pR({requiredNamespaces:r,optionalNamespaces:i,relays:a??[{protocol:"irn"}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:d,pairingTopic:c},s&&{sessionProperties:s}),o&&{scopedProperties:o}),{id:Ak()}),g=cv("session_connect",p.id),{reject:y,resolve:m,done:w}=rv(f,YT),b=e=>{let{id:t}=e;t===p.id&&(this.client.events.off("proposal_expire",b),this.pendingSessions.delete(p.id),this.events.emit(g,{error:{message:YT,code:0}}))};return this.client.events.on("proposal_expire",b),this.events.once(g,e=>{let{error:t,session:n}=e;this.client.events.off("proposal_expire",b),t?y(t):n&&m(n)}),await this.sendRequest({topic:c,method:"wc_sessionPropose",params:p,throwOnFailedPublish:!0,clientRpcId:p.id}),await this.setProposal(p.id,p),{uri:l,approval:w}}),yR(this,"pair",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(ec){throw this.client.logger.error("pair() failed"),ec}}),yR(this,"approve",async e=>{var t,n,r;const i=this.client.core.eventClient.createEvent({properties:{topic:null==(t=e?.id)?void 0:t.toString(),trace:[eO]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(Ac){throw i.setError(cO),Ac}try{await this.isValidProposalId(e?.id)}catch(Ac){throw this.client.logger.error(`approve() -> proposal.get(${e?.id}) failed`),i.setError(gO),Ac}try{await this.isValidApprove(e)}catch(Ac){throw this.client.logger.error("approve() -> isValidApprove() failed"),i.setError(pO),Ac}const{id:s,relayProtocol:o,namespaces:a,sessionProperties:l,scopedProperties:c,sessionConfig:u}=e,h=this.client.proposal.get(s);this.client.core.eventClient.deleteEvent({eventId:i.eventId});const{pairingTopic:f,proposer:d,requiredNamespaces:p,optionalNamespaces:g}=h;let y=null==(n=this.client.core.eventClient)?void 0:n.getEvent({topic:f});y||(y=null==(r=this.client.core.eventClient)?void 0:r.createEvent({type:eO,properties:{topic:f,trace:[eO,tO]}}));const m=await this.client.core.crypto.generateKeyPair(),w=d.publicKey,b=await this.client.core.crypto.generateSharedKey(m,w),v=pR(pR(pR({relay:{protocol:o??"irn"},namespaces:a,controller:{publicKey:m,metadata:this.client.metadata},expiry:av(ZT)},l&&{sessionProperties:l}),c&&{scopedProperties:c}),u&&{sessionConfig:u}),E=dP.relay;y.addTrace(nO);try{await this.client.core.relayer.subscribe(b,{transportType:E})}catch(Ac){throw y.setError(hO),Ac}y.addTrace(rO);const A=gR(pR({},v),{topic:b,requiredNamespaces:p,optionalNamespaces:g,pairingTopic:f,acknowledged:!1,self:v.controller,peer:{publicKey:d.publicKey,metadata:d.metadata},controller:m,transportType:dP.relay});await this.client.session.set(b,A),y.addTrace(oO);try{y.addTrace(aO),await this.sendRequest({topic:b,method:"wc_sessionSettle",params:v,throwOnFailedPublish:!0}).catch(e=>{throw y?.setError(dO),e}),y.addTrace(lO),y.addTrace(iO),await this.sendResult({id:s,topic:f,result:{relay:{protocol:o??"irn"},responderPublicKey:m},throwOnFailedPublish:!0}).catch(e=>{throw y?.setError(fO),e}),y.addTrace(sO)}catch(Ac){throw this.client.logger.error(Ac),this.client.session.delete(b,DI("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(b),Ac}return this.client.core.eventClient.deleteEvent({eventId:y.eventId}),await this.client.core.pairing.updateMetadata({topic:f,metadata:d.metadata}),await this.deleteProposal(s),await this.client.core.pairing.activate({topic:f}),await this.setExpiry(b,av(ZT)),{topic:b,acknowledged:()=>Promise.resolve(this.client.session.get(b))}}),yR(this,"reject",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(i){throw this.client.logger.error("reject() -> isValidReject() failed"),i}const{id:t,reason:n}=e;let r;try{r=this.client.proposal.get(t).pairingTopic}catch(i){throw this.client.logger.error(`reject() -> proposal.get(${t}) failed`),i}r&&await this.sendError({id:t,topic:r,error:n,rpcOpts:XT.wc_sessionPropose.reject}),await this.deleteProposal(t)}),yR(this,"update",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(dc){throw this.client.logger.error("update() -> isValidUpdate() failed"),dc}const{topic:t,namespaces:n}=e,{done:r,resolve:i,reject:s}=rv(),o=Ak(),a=xk().toString(),l=this.client.session.get(t).namespaces;return this.events.once(cv("session_update",o),e=>{let{error:t}=e;t?s(t):i()}),await this.client.session.update(t,{namespaces:n}),await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:n},throwOnFailedPublish:!0,clientRpcId:o,relayRpcId:a}).catch(e=>{this.client.logger.error(e),this.client.session.update(t,{namespaces:l}),s(e)}),{acknowledged:r}}),yR(this,"extend",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(rc){throw this.client.logger.error("extend() -> isValidExtend() failed"),rc}const{topic:t}=e,n=Ak(),{done:r,resolve:i,reject:s}=rv();return this.events.once(cv("session_extend",n),e=>{let{error:t}=e;t?s(t):i()}),await this.setExpiry(t,av(ZT)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:n,throwOnFailedPublish:!0}).catch(e=>{s(e)}),{acknowledged:r}}),yR(this,"request",async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(vc){throw this.client.logger.error("request() -> isValidRequest() failed"),vc}const{chainId:t,request:n,topic:r,expiry:i=XT.wc_sessionRequest.req.ttl}=e,s=this.client.session.get(r);s?.transportType===dP.relay&&await this.confirmOnlineStateOrThrow();const o=Ak(),a=xk().toString(),{done:l,resolve:c,reject:u}=rv(i,"Request expired. Please try again.");this.events.once(cv("session_request",o),e=>{let{error:t,result:n}=e;t?u(t):c(n)});const h="wc_sessionRequest",f=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);if(f)return await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:r,method:h,params:{request:gR(pR({},n),{expiryTimestamp:av(i)}),chainId:t},expiry:i,throwOnFailedPublish:!0,appLink:f}).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:r,request:n,chainId:t,id:o}),await l();const d={request:gR(pR({},n),{expiryTimestamp:av(i)}),chainId:t};return await Promise.all([new Promise(async e=>{await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:r,method:h,params:d,expiry:i,throwOnFailedPublish:!0,tvf:this.getTVFParams(o,d)}).catch(e=>u(e)),this.client.events.emit("session_request_sent",{topic:r,request:n,chainId:t,id:o}),e()}),new Promise(async e=>{var t;if(null==(t=s.sessionConfig)||!t.disableDeepLink){const e=await async function(e,t){let n="";try{if(Kb()&&(n=localStorage.getItem(t),n))return n;n=await e.getItem(t)}catch(i){console.error(i)}return n}(this.client.core.storage,JT);await hv({id:o,topic:r,wcDeepLink:e})}e()}),l()]).then(e=>e[2])}),yR(this,"respond",async e=>{this.isInitialized(),await this.isValidRespond(e);const{topic:t,response:n}=e,{id:r}=n,i=this.client.session.get(t);i.transportType===dP.relay&&await this.confirmOnlineStateOrThrow();const s=this.getAppLinkIfEnabled(i.peer.metadata,i.transportType);Lk(n)?await this.sendResult({id:r,topic:t,result:n.result,throwOnFailedPublish:!0,appLink:s}):Dk(n)&&await this.sendError({id:r,topic:t,error:n.error,appLink:s}),this.cleanupAfterResponse(e)}),yR(this,"ping",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(ac){throw this.client.logger.error("ping() -> isValidPing() failed"),ac}const{topic:t}=e;if(this.client.session.keys.includes(t)){const e=Ak(),n=xk().toString(),{done:r,resolve:i,reject:s}=rv();this.events.once(cv("session_ping",e),e=>{let{error:t}=e;t?s(t):i()}),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:e,relayRpcId:n}),r()])}else this.client.core.pairing.pairings.keys.includes(t)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:t}))}),yR(this,"emit",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);const{topic:t,event:n,chainId:r}=e,i=xk().toString(),s=Ak();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:n,chainId:r},throwOnFailedPublish:!0,relayRpcId:i,clientRpcId:s})}),yR(this,"disconnect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);const{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:DI("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else{if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:e}=LI("MISMATCHED_TOPIC",`Session or pairing topic not found: ${t}`);throw new Error(e)}await this.client.core.pairing.disconnect({topic:t})}}),yR(this,"find",e=>(this.isInitialized(),this.client.session.getAll().filter(t=>function(e,t){const{requiredNamespaces:n}=t,r=Object.keys(e.namespaces),i=Object.keys(n);let s=!0;return!!ev(i,r)&&(r.forEach(t=>{const{accounts:r,methods:i,events:o}=e.namespaces[t],a=NI(r),l=n[t];(!ev(Cb(t,l),a)||!ev(l.methods,i)||!ev(l.events,o))&&(s=!1)}),s)}(t,e)))),yR(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),yR(this,"authenticate",async(e,t)=>{var n;this.isInitialized(),this.isValidAuthenticate(e);const r=t&&this.client.core.linkModeSupportedApps.includes(t)&&(null==(n=this.client.metadata.redirect)?void 0:n.linkMode),i=r?dP.link_mode:dP.relay;i===dP.relay&&await this.confirmOnlineStateOrThrow();const{chains:s,statement:o="",uri:a,domain:l,nonce:c,type:u,exp:h,nbf:f,methods:d=[],expiry:p}=e,g=[...e.resources||[]],{topic:y,uri:m}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:i});this.client.logger.info({message:"Generated new pairing",pairing:{topic:y,uri:m}});const w=await this.client.core.crypto.generateKeyPair(),b=tI(w);if(await Promise.all([this.client.auth.authKeys.set(oR,{responseTopic:b,publicKey:w}),this.client.auth.pairingTopics.set(b,{topic:b,pairingTopic:y})]),await this.client.core.relayer.subscribe(b,{transportType:i}),this.client.logger.info(`sending request to new pairing topic: ${y}`),d.length>0){const{namespace:e}=Nb(s[0]);let t=RA(e,"request",d);MA(g)&&(t=BA(t,g.pop())),g.push(t)}const v=p&&p>XT.wc_sessionAuthenticate.req.ttl?p:XT.wc_sessionAuthenticate.req.ttl,E={authPayload:{type:u??"caip122",chains:s,statement:o,aud:a,domain:l,version:"1",nonce:c,iat:(new Date).toISOString(),exp:h,nbf:f,resources:g},requester:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:av(v)},A={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:s,methods:[...new Set(["personal_sign",...d])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:y,proposer:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:av(XT.wc_sessionPropose.req.ttl),id:Ak()},{done:x,resolve:S,reject:I}=rv(v,"Request expired"),k=Ak(),P=cv("session_connect",A.id),O=cv("session_request",k),N=async e=>{let{error:t,session:n}=e;this.events.off(O,C),t?I(t):n&&S({session:n})},C=async e=>{var n,r,s;if(await this.deletePendingAuthRequest(k,{message:"fulfilled",code:0}),e.error){const t=DI("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return e.error.code===t.code?void 0:(this.events.off(P,N),I(e.error.message))}await this.deleteProposal(A.id),this.events.off(P,N);const{cacaos:o,responder:a}=e.result,l=[],c=[];for(const t of o){await kA({cacao:t,projectId:this.client.core.projectId})||(this.client.logger.error(t,"Signature verification failed"),I(DI("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:e}=t,n=MA(e.resources),r=[SA(e.iss)],i=IA(e.iss);if(n){const e=LA(n),t=DA(n);l.push(...e),r.push(...t)}for(const t of r)c.push(`${t}:${i}`)}const u=await this.client.core.crypto.generateSharedKey(w,a.publicKey);let h;l.length>0&&(h={topic:u,acknowledged:!0,self:{publicKey:w,metadata:this.client.metadata},peer:a,controller:a.publicKey,expiry:av(ZT),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:y,namespaces:_I([...new Set(l)],[...new Set(c)]),transportType:i},await this.client.core.relayer.subscribe(u,{transportType:i}),await this.client.session.set(u,h),y&&await this.client.core.pairing.updateMetadata({topic:y,metadata:a.metadata}),h=this.client.session.get(u)),null!=(n=this.client.metadata.redirect)&&n.linkMode&&null!=(r=a.metadata.redirect)&&r.linkMode&&null!=(s=a.metadata.redirect)&&s.universal&&t&&(this.client.core.addLinkModeSupportedApp(a.metadata.redirect.universal),this.client.session.update(u,{transportType:dP.link_mode})),S({auths:o,session:h})};let T;this.events.once(P,N),this.events.once(O,C);try{if(r){const e=Sk("wc_sessionAuthenticate",E,k);this.client.core.history.set(y,e);const n=await this.client.core.crypto.encode("",e,{type:2,encoding:ZS});T=bI(t,y,n)}else await Promise.all([this.sendRequest({topic:y,method:"wc_sessionAuthenticate",params:E,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:k}),this.sendRequest({topic:y,method:"wc_sessionPropose",params:A,expiry:XT.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:A.id})])}catch(Oc){throw this.events.off(P,N),this.events.off(O,C),Oc}return await this.setProposal(A.id,A),await this.setAuthRequest(k,{request:gR(pR({},E),{verifyContext:{}}),pairingTopic:y,transportType:i}),{uri:T??m,response:x}}),yR(this,"approveSessionAuthenticate",async e=>{const{id:t,auths:n}=e,r=this.client.core.eventClient.createEvent({properties:{topic:t.toString(),trace:[yO]}});try{this.isInitialized()}catch(vc){throw r.setError(xO),vc}const i=this.getPendingAuthRequest(t);if(!i)throw r.setError(PO),new Error(`Could not find pending auth request with id ${t}`);const s=i.transportType||dP.relay;s===dP.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),l=tI(o),c={type:1,receiverPublicKey:o,senderPublicKey:a},u=[],h=[];for(const p of n){if(!await kA({cacao:p,projectId:this.client.core.projectId})){r.setError(SO);const e=DI("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:t,topic:l,error:e,encodeOpts:c}),new Error(e.message)}r.addTrace(wO);const{p:e}=p,n=MA(e.resources),i=[SA(e.iss)],s=IA(e.iss);if(n){const e=LA(n),t=DA(n);u.push(...e),i.push(...t)}for(const t of i)h.push(`${t}:${s}`)}const f=await this.client.core.crypto.generateSharedKey(a,o);let d;if(r.addTrace(mO),u?.length>0){d={topic:f,acknowledged:!0,self:{publicKey:a,metadata:this.client.metadata},peer:{publicKey:o,metadata:i.requester.metadata},controller:o,expiry:av(ZT),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:i.pairingTopic,namespaces:_I([...new Set(u)],[...new Set(h)]),transportType:s},r.addTrace(vO);try{await this.client.core.relayer.subscribe(f,{transportType:s})}catch(vc){throw r.setError(IO),vc}r.addTrace(EO),await this.client.session.set(f,d),r.addTrace(bO),await this.client.core.pairing.updateMetadata({topic:i.pairingTopic,metadata:i.requester.metadata})}r.addTrace(AO);try{await this.sendResult({topic:l,id:t,result:{cacaos:n,responder:{publicKey:a,metadata:this.client.metadata}},encodeOpts:c,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(i.requester.metadata,s)})}catch(vc){throw r.setError(kO),vc}return await this.client.auth.requests.delete(t,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:i.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:r.eventId}),{session:d}}),yR(this,"rejectSessionAuthenticate",async e=>{this.isInitialized();const{id:t,reason:n}=e,r=this.getPendingAuthRequest(t);if(!r)throw new Error(`Could not find pending auth request with id ${t}`);r.transportType===dP.relay&&await this.confirmOnlineStateOrThrow();const i=r.requester.publicKey,s=await this.client.core.crypto.generateKeyPair(),o=tI(i),a={type:1,receiverPublicKey:i,senderPublicKey:s};await this.sendError({id:t,topic:o,error:n,encodeOpts:a,rpcOpts:XT.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(r.requester.metadata,r.transportType)}),await this.client.auth.requests.delete(t,{message:"rejected",code:0}),await this.deleteProposal(t)}),yR(this,"formatAuthMessage",e=>{this.isInitialized();const{request:t,iss:n}=e;return PA(t,n)}),yR(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{const e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(tc){this.client.logger.error(tc)}},50)}),yR(this,"cleanupDuplicatePairings",async e=>{if(e.pairingTopic)try{const t=this.client.core.pairing.pairings.get(e.pairingTopic),n=this.client.core.pairing.pairings.getAll().filter(n=>{var r,i;return(null==(r=n.peerMetadata)?void 0:r.url)&&(null==(i=n.peerMetadata)?void 0:i.url)===e.peer.metadata.url&&n.topic&&n.topic!==t.topic});if(0===n.length)return;this.client.logger.info(`Cleaning up ${n.length} duplicate pairing(s)`),await Promise.all(n.map(e=>this.client.core.pairing.disconnect({topic:e.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(ec){this.client.logger.error(ec)}}),yR(this,"deleteSession",async e=>{var t;const{topic:n,expirerHasDeleted:r=!1,emitEvent:i=!0,id:s=0}=e,{self:o}=this.client.session.get(n);await this.client.core.relayer.unsubscribe(n),await this.client.session.delete(n,DI("USER_DISCONNECTED")),this.addToRecentlyDeleted(n,"session"),this.client.core.crypto.keychain.has(o.publicKey)&&await this.client.core.crypto.deleteKeyPair(o.publicKey),this.client.core.crypto.keychain.has(n)&&await this.client.core.crypto.deleteSymKey(n),r||this.client.core.expirer.del(n),this.client.core.storage.removeItem(JT).catch(e=>this.client.logger.warn(e)),this.getPendingSessionRequests().forEach(e=>{e.topic===n&&this.deletePendingSessionRequest(e.id,DI("USER_DISCONNECTED"))}),n===(null==(t=this.sessionRequestQueue.queue[0])?void 0:t.topic)&&(this.sessionRequestQueue.state=tR),i&&this.client.events.emit("session_delete",{id:s,topic:n})}),yR(this,"deleteProposal",async(e,t)=>{if(t)try{const t=this.client.proposal.get(e),n=this.client.core.eventClient.getEvent({topic:t.pairingTopic});n?.setError(uO)}catch{}await Promise.all([this.client.proposal.delete(e,DI("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal")}),yR(this,"deletePendingSessionRequest",async function(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];await Promise.all([t.client.pendingRequest.delete(e,n),r?Promise.resolve():t.client.core.expirer.del(e)]),t.addToRecentlyDeleted(e,"request"),t.sessionRequestQueue.queue=t.sessionRequestQueue.queue.filter(t=>t.id!==e),r&&(t.sessionRequestQueue.state=tR,t.client.events.emit("session_request_expire",{id:e}))}),yR(this,"deletePendingAuthRequest",async function(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];await Promise.all([t.client.auth.requests.delete(e,n),r?Promise.resolve():t.client.core.expirer.del(e)])}),yR(this,"setExpiry",async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))}),yR(this,"setProposal",async(e,t)=>{this.client.core.expirer.set(e,av(XT.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)}),yR(this,"setAuthRequest",async(e,t)=>{const{request:n,pairingTopic:r,transportType:i=dP.relay}=t;this.client.core.expirer.set(e,n.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:n.authPayload,requester:n.requester,expiryTimestamp:n.expiryTimestamp,id:e,pairingTopic:r,verifyContext:n.verifyContext,transportType:i})}),yR(this,"setPendingSessionRequest",async e=>{const{id:t,topic:n,params:r,verifyContext:i}=e,s=r.request.expiryTimestamp||av(XT.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,s),await this.client.pendingRequest.set(t,{id:t,topic:n,params:r,verifyContext:i})}),yR(this,"sendRequest",async e=>{const{topic:t,method:r,params:i,expiry:s,relayRpcId:o,clientRpcId:a,throwOnFailedPublish:l,appLink:c,tvf:u}=e,h=Sk(r,i,a);let f;const d=!!c;try{const e=d?ZS:YS;f=await this.client.core.crypto.encode(t,h,{encoding:e})}catch(y){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${t} failed`),y}let p;if(iR.includes(r)){const e=nI(JSON.stringify(h)),t=nI(f);p=await this.client.core.verify.register({id:t,decryptedId:e})}const g=XT[r].req;if(g.attestation=p,s&&(g.ttl=s),o&&(g.id=o),this.client.core.history.set(t,h),d){const e=bI(c,t,f);await n.g.Linking.openURL(e,this.client.name)}else{const e=XT[r].req;s&&(e.ttl=s),o&&(e.id=o),e.tvf=gR(pR({},u),{correlationId:h.id}),l?(e.internal=gR(pR({},e.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(t,f,e)):this.client.core.relayer.publish(t,f,e).catch(e=>this.client.logger.error(e))}return h.id}),yR(this,"sendResult",async e=>{const{id:t,topic:r,result:i,throwOnFailedPublish:s,encodeOpts:o,appLink:a}=e,l=Ik(t,i);let c;const u=a&&typeof(null==n.g?void 0:n.g.Linking)<"u";try{const e=u?ZS:YS;c=await this.client.core.crypto.encode(r,l,gR(pR({},o||{}),{encoding:e}))}catch(d){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${r} failed`),d}let h,f;try{h=await this.client.core.history.get(r,t);const e=h.request;try{f=this.getTVFParams(t,e.params,i)}catch(p){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${p?.message}`)}}catch(d){throw this.client.logger.error(`sendResult() -> history.get(${r}, ${t}) failed`),d}if(u){const e=bI(a,r,c);await n.g.Linking.openURL(e,this.client.name)}else{const e=h.request.method,n=XT[e].res;n.tvf=gR(pR({},f),{correlationId:t}),s?(n.internal=gR(pR({},n.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,c,n)):this.client.core.relayer.publish(r,c,n).catch(e=>this.client.logger.error(e))}await this.client.core.history.resolve(l)}),yR(this,"sendError",async e=>{const{id:t,topic:r,error:i,encodeOpts:s,rpcOpts:o,appLink:a}=e,l=kk(t,i);let c;const u=a&&typeof(null==n.g?void 0:n.g.Linking)<"u";try{const e=u?ZS:YS;c=await this.client.core.crypto.encode(r,l,gR(pR({},s||{}),{encoding:e}))}catch(uc){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${r} failed`),uc}let h;try{h=await this.client.core.history.get(r,t)}catch(uc){throw this.client.logger.error(`sendError() -> history.get(${r}, ${t}) failed`),uc}if(u){const e=bI(a,r,c);await n.g.Linking.openURL(e,this.client.name)}else{const e=h.request.method,t=o||XT[e].res;this.client.core.relayer.publish(r,c,t)}await this.client.core.history.resolve(l)}),yR(this,"cleanup",async()=>{const e=[],t=[];this.client.session.getAll().forEach(t=>{let n=!1;lv(t.expiry)&&(n=!0),this.client.core.crypto.keychain.has(t.topic)||(n=!0),n&&e.push(t.topic)}),this.client.proposal.getAll().forEach(e=>{lv(e.expiryTimestamp)&&t.push(e.id)}),await Promise.all([...e.map(e=>this.deleteSession({topic:e})),...t.map(e=>this.deleteProposal(e))])}),yR(this,"onProviderMessageEvent",async e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):await this.onRelayMessage(e)}),yR(this,"onRelayEventRequest",async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()}),yR(this,"processRequestsQueue",async()=>{if(this.requestQueue.state!==nR){for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=nR;const e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e)}catch(ec){this.client.logger.warn(ec)}}this.requestQueue.state=tR}else this.client.logger.info("Request queue already active, skipping...")}),yR(this,"processRequest",async e=>{const{topic:t,payload:n,attestation:r,transportType:i,encryptedId:s}=e,o=n.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:o}))switch(o){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:t,payload:n,attestation:r,encryptedId:s});case"wc_sessionSettle":return await this.onSessionSettleRequest(t,n);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(t,n);case"wc_sessionExtend":return await this.onSessionExtendRequest(t,n);case"wc_sessionPing":return await this.onSessionPingRequest(t,n);case"wc_sessionDelete":return await this.onSessionDeleteRequest(t,n);case"wc_sessionRequest":return await this.onSessionRequest({topic:t,payload:n,attestation:r,encryptedId:s,transportType:i});case"wc_sessionEvent":return await this.onSessionEventRequest(t,n);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:t,payload:n,attestation:r,encryptedId:s,transportType:i});default:return this.client.logger.info(`Unsupported request method ${o}`)}}),yR(this,"onRelayEventResponse",async e=>{const{topic:t,payload:n,transportType:r}=e,i=(await this.client.core.history.get(t,n.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(t,n,r);case"wc_sessionSettle":return this.onSessionSettleResponse(t,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,n);case"wc_sessionExtend":return this.onSessionExtendResponse(t,n);case"wc_sessionPing":return this.onSessionPingResponse(t,n);case"wc_sessionRequest":return this.onSessionRequestResponse(t,n);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(t,n);default:return this.client.logger.info(`Unsupported response method ${i}`)}}),yR(this,"onRelayEventUnknownPayload",e=>{const{topic:t}=e,{message:n}=LI("MISSING_OR_INVALID",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw new Error(n)}),yR(this,"shouldIgnorePairingRequest",e=>{const{topic:t,requestMethod:n}=e,r=this.expectedPairingMethodMap.get(t);return!(!r||r.includes(n))&&!!(r.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),yR(this,"onSessionProposeRequest",async e=>{const{topic:t,payload:n,attestation:r,encryptedId:i}=e,{params:s,id:o}=n;try{const e=this.client.core.eventClient.getEvent({topic:t});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),e?.setError(XP)),this.isValidConnect(pR({},n.params));const a=s.expiryTimestamp||av(XT.wc_sessionPropose.req.ttl),l=pR({id:o,pairingTopic:t,expiryTimestamp:a,attestation:r,encryptedId:i},s);await this.setProposal(o,l);const c=await this.getVerifyContext({attestationId:r,hash:nI(JSON.stringify(n)),encryptedId:i,metadata:l.proposer.metadata});e?.addTrace(KP),this.client.events.emit("session_proposal",{id:o,params:l,verifyContext:c})}catch(nc){await this.sendError({id:o,topic:t,error:nc,rpcOpts:XT.wc_sessionPropose.autoReject}),this.client.logger.error(nc)}}),yR(this,"onSessionProposeResponse",async(e,t,n)=>{const{id:r}=t;if(Lk(t)){const{result:i}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});const s=this.client.proposal.get(r);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s});const o=s.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:o});const a=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:a});const l=await this.client.core.crypto.generateSharedKey(o,a);this.pendingSessions.set(r,{sessionTopic:l,pairingTopic:e,proposalId:r,publicKey:o});const c=await this.client.core.relayer.subscribe(l,{transportType:n});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:c}),await this.client.core.pairing.activate({topic:e})}else if(Dk(t)){await this.deleteProposal(r);const e=cv("session_connect",r);if(0===this.events.listenerCount(e))throw new Error(`emitting ${e} without any listeners, 954`);this.events.emit(e,{error:t.error})}}),yR(this,"onSessionSettleRequest",async(e,t)=>{const{id:n,params:r}=t;try{this.isValidSessionSettleRequest(r);const{relay:n,controller:i,expiry:s,namespaces:o,sessionProperties:a,scopedProperties:l,sessionConfig:c}=t.params,u=[...this.pendingSessions.values()].find(t=>t.sessionTopic===e);if(!u)return this.client.logger.error(`Pending session not found for topic ${e}`);const h=this.client.proposal.get(u.proposalId),f=gR(pR(pR(pR({topic:e,relay:n,expiry:s,namespaces:o,acknowledged:!0,pairingTopic:u.pairingTopic,requiredNamespaces:h.requiredNamespaces,optionalNamespaces:h.optionalNamespaces,controller:i.publicKey,self:{publicKey:u.publicKey,metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},a&&{sessionProperties:a}),l&&{scopedProperties:l}),c&&{sessionConfig:c}),{transportType:dP.relay});await this.client.session.set(f.topic,f),await this.setExpiry(f.topic,f.expiry),await this.client.core.pairing.updateMetadata({topic:u.pairingTopic,metadata:f.peer.metadata}),this.client.events.emit("session_connect",{session:f}),this.events.emit(cv("session_connect",u.proposalId),{session:f}),this.pendingSessions.delete(u.proposalId),this.deleteProposal(u.proposalId,!1),this.cleanupDuplicatePairings(f),await this.sendResult({id:t.id,topic:e,result:!0})}catch(i){await this.sendError({id:n,topic:e,error:i}),this.client.logger.error(i)}}),yR(this,"onSessionSettleResponse",async(e,t)=>{const{id:n}=t;Lk(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit(cv("session_approve",n),{})):Dk(t)&&(await this.client.session.delete(e,DI("USER_DISCONNECTED")),this.events.emit(cv("session_approve",n),{error:t.error}))}),yR(this,"onSessionUpdateRequest",async(e,t)=>{const{params:n,id:r}=t;try{const t=`${e}_session_update`,i=sk.get(t);if(i&&this.isRequestOutOfSync(i,r))return this.client.logger.warn(`Discarding out of sync request - ${r}`),void this.sendError({id:r,topic:e,error:DI("INVALID_UPDATE_REQUEST")});this.isValidUpdate(pR({topic:e},n));try{sk.set(t,r),await this.client.session.update(e,{namespaces:n.namespaces}),await this.sendResult({id:r,topic:e,result:!0})}catch(rc){throw sk.delete(t),rc}this.client.events.emit("session_update",{id:r,topic:e,params:n})}catch(i){await this.sendError({id:r,topic:e,error:i}),this.client.logger.error(i)}}),yR(this,"isRequestOutOfSync",(e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3)),yR(this,"onSessionUpdateResponse",(e,t)=>{const{id:n}=t,r=cv("session_update",n);if(0===this.events.listenerCount(r))throw new Error(`emitting ${r} without any listeners`);Lk(t)?this.events.emit(cv("session_update",n),{}):Dk(t)&&this.events.emit(cv("session_update",n),{error:t.error})}),yR(this,"onSessionExtendRequest",async(e,t)=>{const{id:n}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,av(ZT)),await this.sendResult({id:n,topic:e,result:!0}),this.client.events.emit("session_extend",{id:n,topic:e})}catch(lc){await this.sendError({id:n,topic:e,error:lc}),this.client.logger.error(lc)}}),yR(this,"onSessionExtendResponse",(e,t)=>{const{id:n}=t,r=cv("session_extend",n);if(0===this.events.listenerCount(r))throw new Error(`emitting ${r} without any listeners`);Lk(t)?this.events.emit(cv("session_extend",n),{}):Dk(t)&&this.events.emit(cv("session_extend",n),{error:t.error})}),yR(this,"onSessionPingRequest",async(e,t)=>{const{id:n}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:n,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:n,topic:e})}catch(lc){await this.sendError({id:n,topic:e,error:lc}),this.client.logger.error(lc)}}),yR(this,"onSessionPingResponse",(e,t)=>{const{id:n}=t,r=cv("session_ping",n);setTimeout(()=>{if(0===this.events.listenerCount(r))throw new Error(`emitting ${r} without any listeners 2176`);Lk(t)?this.events.emit(cv("session_ping",n),{}):Dk(t)&&this.events.emit(cv("session_ping",n),{error:t.error})},500)}),yR(this,"onSessionDeleteRequest",async(e,t)=>{const{id:n}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),Promise.all([new Promise(t=>{this.client.core.relayer.once(aP,async()=>{t(await this.deleteSession({topic:e,id:n}))})}),this.sendResult({id:n,topic:e,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:DI("USER_DISCONNECTED")})]).catch(e=>this.client.logger.error(e))}catch(lc){this.client.logger.error(lc)}}),yR(this,"onSessionRequest",async e=>{var t,n,r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:l}=e,{id:c,params:u}=s;try{await this.isValidRequest(pR({topic:i},u));const e=this.client.session.get(i),s={id:c,topic:i,params:u,verifyContext:await this.getVerifyContext({attestationId:o,hash:nI(JSON.stringify(Sk("wc_sessionRequest",u,c))),encryptedId:a,metadata:e.peer.metadata,transportType:l})};await this.setPendingSessionRequest(s),l===dP.link_mode&&null!=(t=e.peer.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(null==(n=e.peer.metadata.redirect)?void 0:n.universal),null!=(r=this.client.signConfig)&&r.disableRequestQueue?this.emitSessionRequest(s):(this.addSessionRequestToSessionRequestQueue(s),this.processSessionRequestQueue())}catch(uc){await this.sendError({id:c,topic:i,error:uc}),this.client.logger.error(uc)}}),yR(this,"onSessionRequestResponse",(e,t)=>{const{id:n}=t,r=cv("session_request",n);if(0===this.events.listenerCount(r))throw new Error(`emitting ${r} without any listeners`);Lk(t)?this.events.emit(cv("session_request",n),{result:t.result}):Dk(t)&&this.events.emit(cv("session_request",n),{error:t.error})}),yR(this,"onSessionEventRequest",async(e,t)=>{const{id:n,params:r}=t;try{const t=`${e}_session_event_${r.event.name}`,i=sk.get(t);if(i&&this.isRequestOutOfSync(i,n))return void this.client.logger.info(`Discarding out of sync request - ${n}`);this.isValidEmit(pR({topic:e},r)),this.client.events.emit("session_event",{id:n,topic:e,params:r}),sk.set(t,n)}catch(i){await this.sendError({id:n,topic:e,error:i}),this.client.logger.error(i)}}),yR(this,"onSessionAuthenticateResponse",(e,t)=>{const{id:n}=t;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),Lk(t)?this.events.emit(cv("session_request",n),{result:t.result}):Dk(t)&&this.events.emit(cv("session_request",n),{error:t.error})}),yR(this,"onSessionAuthenticateRequest",async e=>{var t;const{topic:n,payload:r,attestation:i,encryptedId:s,transportType:o}=e;try{const{requester:e,authPayload:a,expiryTimestamp:l}=r.params,c=await this.getVerifyContext({attestationId:i,hash:nI(JSON.stringify(r)),encryptedId:s,metadata:e.metadata,transportType:o}),u={requester:e,pairingTopic:n,id:r.id,authPayload:a,verifyContext:c,expiryTimestamp:l};await this.setAuthRequest(r.id,{request:u,pairingTopic:n,transportType:o}),o===dP.link_mode&&null!=(t=e.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(e.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:n,params:r.params,id:r.id,verifyContext:c})}catch(nc){this.client.logger.error(nc);const t=r.params.requester.publicKey,i=await this.client.core.crypto.generateKeyPair(),s=this.getAppLinkIfEnabled(r.params.requester.metadata,o),a={type:1,receiverPublicKey:t,senderPublicKey:i};await this.sendError({id:r.id,topic:n,error:nc,encodeOpts:a,rpcOpts:XT.wc_sessionAuthenticate.autoReject,appLink:s})}}),yR(this,"addSessionRequestToSessionRequestQueue",e=>{this.sessionRequestQueue.queue.push(e)}),yR(this,"cleanupAfterResponse",e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=tR,this.processSessionRequestQueue()},(0,ku.toMiliseconds)(this.requestQueueDelay))}),yR(this,"cleanupPendingSentRequestsForTopic",e=>{let{topic:t,error:n}=e;const r=this.client.core.history.pending;r.length>0&&r.filter(e=>e.topic===t&&"wc_sessionRequest"===e.request.method).forEach(e=>{const t=cv("session_request",e.request.id);if(0===this.events.listenerCount(t))throw new Error(`emitting ${t} without any listeners`);this.events.emit(cv("session_request",e.request.id),{error:n})})}),yR(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===nR)return void this.client.logger.info("session request queue is already active.");const e=this.sessionRequestQueue.queue[0];if(e)try{this.emitSessionRequest(e)}catch(ec){this.client.logger.error(ec)}else this.client.logger.info("session request queue is empty.")}),yR(this,"emitSessionRequest",e=>{this.emittedSessionRequests.has(e.id)?this.client.logger.warn({id:e.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${e.id}`):(this.sessionRequestQueue.state=nR,this.emittedSessionRequests.add(e.id),this.client.events.emit("session_request",e))}),yR(this,"onPairingCreated",e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;const t=this.client.proposal.getAll().find(t=>t.pairingTopic===e.topic);t&&this.onSessionProposeRequest({topic:e.topic,payload:Sk("wc_sessionPropose",gR(pR({},t),{requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties,scopedProperties:t.scopedProperties}),t.id),attestation:t.attestation,encryptedId:t.encryptedId})}),yR(this,"isValidConnect",async e=>{if(!JI(e)){const{message:t}=LI("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw new Error(t)}const{pairingTopic:t,requiredNamespaces:n,optionalNamespaces:r,sessionProperties:i,scopedProperties:s,relays:o}=e;if(zI(t)||await this.isValidPairingTopic(t),!function(e,t){let n=!1;return t&&!e?n=!0:e&&MI(e)&&e.length&&e.forEach(e=>{n=WI(e)}),n}(o,!0)){const{message:e}=LI("MISSING_OR_INVALID",`connect() relays: ${o}`);throw new Error(e)}if(!zI(n)&&0!==FI(n)){const e="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(e):this.client.logger.warn(e),this.validateNamespaces(n,"requiredNamespaces")}if(!zI(r)&&0!==FI(r)&&this.validateNamespaces(r,"optionalNamespaces"),zI(i)||this.validateSessionProps(i,"sessionProperties"),!zI(s)){this.validateSessionProps(s,"scopedProperties");const e=Object.keys(n||{}).concat(Object.keys(r||{}));if(!Object.keys(s).every(t=>e.includes(t.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(s)}, required/optional namespaces: ${JSON.stringify(e)}`)}}),yR(this,"validateNamespaces",(e,t)=>{const n=function(e,t,n){let r=null;if(e&&FI(e)){const i=KI(e,t);i&&(r=i);const s=$I(e,t,n);s&&(r=s)}else r=LI("MISSING_OR_INVALID",`${t}, ${n} should be an object with data`);return r}(e,"connect()",t);if(n)throw new Error(n.message)}),yR(this,"isValidApprove",async e=>{if(!JI(e))throw new Error(LI("MISSING_OR_INVALID",`approve() params: ${e}`).message);const{id:t,namespaces:n,relayProtocol:r,sessionProperties:i,scopedProperties:s}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);const o=this.client.proposal.get(t),a=QI(n,"approve()");if(a)throw new Error(a.message);const l=ek(o.requiredNamespaces,n,"approve()");if(l)throw new Error(l.message);if(!jI(r,!0)){const{message:e}=LI("MISSING_OR_INVALID",`approve() relayProtocol: ${r}`);throw new Error(e)}if(zI(i)||this.validateSessionProps(i,"sessionProperties"),!zI(s)){this.validateSessionProps(s,"scopedProperties");const e=new Set(Object.keys(n));if(!Object.keys(s).every(t=>e.has(t.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(s)}, approved namespaces: ${Array.from(e).join(", ")}`)}}),yR(this,"isValidReject",async e=>{if(!JI(e)){const{message:t}=LI("MISSING_OR_INVALID",`reject() params: ${e}`);throw new Error(t)}const{id:t,reason:n}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!function(e){return!(!e||"object"!=typeof e||!e.code||!VI(e.code,!1)||!e.message||!jI(e.message,!1))}(n)){const{message:e}=LI("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(n)}`);throw new Error(e)}}),yR(this,"isValidSessionSettleRequest",e=>{if(!JI(e)){const{message:t}=LI("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw new Error(t)}const{relay:t,controller:n,namespaces:r,expiry:i}=e;if(!WI(t)){const{message:e}=LI("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(e)}const s=function(e,t){let n=null;return jI(e?.publicKey,!1)||(n=LI("MISSING_OR_INVALID",`${t} controller public key should be a string`)),n}(n,"onSessionSettleRequest()");if(s)throw new Error(s.message);const o=QI(r,"onSessionSettleRequest()");if(o)throw new Error(o.message);if(lv(i)){const{message:e}=LI("EXPIRED","onSessionSettleRequest()");throw new Error(e)}}),yR(this,"isValidUpdate",async e=>{if(!JI(e)){const{message:t}=LI("MISSING_OR_INVALID",`update() params: ${e}`);throw new Error(t)}const{topic:t,namespaces:n}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const r=this.client.session.get(t),i=QI(n,"update()");if(i)throw new Error(i.message);const s=ek(r.requiredNamespaces,n,"update()");if(s)throw new Error(s.message)}),yR(this,"isValidExtend",async e=>{if(!JI(e)){const{message:t}=LI("MISSING_OR_INVALID",`extend() params: ${e}`);throw new Error(t)}const{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)}),yR(this,"isValidRequest",async e=>{if(!JI(e)){const{message:t}=LI("MISSING_OR_INVALID",`request() params: ${e}`);throw new Error(t)}const{topic:t,request:n,chainId:r,expiry:i}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);const{namespaces:s}=this.client.session.get(t);if(!YI(s,r)){const{message:e}=LI("MISSING_OR_INVALID",`request() chainId: ${r}`);throw new Error(e)}if(!function(e){return!(zI(e)||!jI(e.method,!1))}(n)){const{message:e}=LI("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw new Error(e)}if(!ZI(s,r,n.method)){const{message:e}=LI("MISSING_OR_INVALID",`request() method: ${n.method}`);throw new Error(e)}if(i&&!function(e,t){return VI(e,!1)&&e<=t.max&&e>=t.min}(i,eR)){const{message:e}=LI("MISSING_OR_INVALID",`request() expiry: ${i}. Expiry must be a number (in seconds) between ${eR.min} and ${eR.max}`);throw new Error(e)}}),yR(this,"isValidRespond",async e=>{var t;if(!JI(e)){const{message:t}=LI("MISSING_OR_INVALID",`respond() params: ${e}`);throw new Error(t)}const{topic:n,response:r}=e;try{await this.isValidSessionTopic(n)}catch(i){throw null!=(t=e?.response)&&t.id&&this.cleanupAfterResponse(e),i}if(!function(e){return!(zI(e)||zI(e.result)&&zI(e.error)||!VI(e.id,!1)||!jI(e.jsonrpc,!1))}(r)){const{message:e}=LI("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(r)}`);throw new Error(e)}}),yR(this,"isValidPing",async e=>{if(!JI(e)){const{message:t}=LI("MISSING_OR_INVALID",`ping() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),yR(this,"isValidEmit",async e=>{if(!JI(e)){const{message:t}=LI("MISSING_OR_INVALID",`emit() params: ${e}`);throw new Error(t)}const{topic:t,event:n,chainId:r}=e;await this.isValidSessionTopic(t);const{namespaces:i}=this.client.session.get(t);if(!YI(i,r)){const{message:e}=LI("MISSING_OR_INVALID",`emit() chainId: ${r}`);throw new Error(e)}if(!function(e){return!(zI(e)||!jI(e.name,!1))}(n)){const{message:e}=LI("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(e)}if(!XI(i,r,n.name)){const{message:e}=LI("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(e)}}),yR(this,"isValidDisconnect",async e=>{if(!JI(e)){const{message:t}=LI("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw new Error(t)}const{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),yR(this,"isValidAuthenticate",e=>{const{chains:t,uri:n,domain:r,nonce:i}=e;if(!Array.isArray(t)||0===t.length)throw new Error("chains is required and must be a non-empty array");if(!jI(n,!1))throw new Error("uri is required parameter");if(!jI(r,!1))throw new Error("domain is required parameter");if(!jI(i,!1))throw new Error("nonce is required parameter");if([...new Set(t.map(e=>Nb(e).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:s}=Nb(t[0]);if("eip155"!==s)throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),yR(this,"getVerifyContext",async e=>{const{attestationId:t,hash:n,encryptedId:r,metadata:i,transportType:s}=e,o={verified:{verifyUrl:i.verifyUrl||UP,validation:"UNKNOWN",origin:i.url||""}};try{if(s===dP.link_mode){const e=this.getAppLinkIfEnabled(i,s);return o.verified.validation=e&&new URL(e).origin===new URL(i.url).origin?"VALID":"INVALID",o}const e=await this.client.core.verify.resolve({attestationId:t,hash:n,encryptedId:r,verifyUrl:i.verifyUrl});e&&(o.verified.origin=e.origin,o.verified.isScam=e.isScam,o.verified.validation=e.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(nc){this.client.logger.warn(nc)}return this.client.logger.debug(`Verify context: ${JSON.stringify(o)}`),o}),yR(this,"validateSessionProps",(e,t)=>{Object.values(e).forEach((n,r)=>{if(null==n){const{message:i}=LI("MISSING_OR_INVALID",`${t} must contain an existing value for each key. Received: ${n} for key ${Object.keys(e)[r]}`);throw new Error(i)}})}),yR(this,"getPendingAuthRequest",e=>{const t=this.client.auth.requests.get(e);return"object"==typeof t?t:void 0}),yR(this,"addToRecentlyDeleted",(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let e=0;const t=this.recentlyDeletedLimit/2;for(const n of this.recentlyDeletedMap.keys()){if(e++>=t)break;this.recentlyDeletedMap.delete(n)}}}),yR(this,"checkRecentlyDeleted",e=>{const t=this.recentlyDeletedMap.get(e);if(t){const{message:n}=LI("MISSING_OR_INVALID",`Record was recently deleted - ${t}: ${e}`);throw new Error(n)}}),yR(this,"isLinkModeEnabled",(e,t)=>{var r,i,s,o,a,l,c,u,h;return!(!e||t!==dP.link_mode)&&(!0===(null==(i=null==(r=this.client.metadata)?void 0:r.redirect)?void 0:i.linkMode)&&void 0!==(null==(o=null==(s=this.client.metadata)?void 0:s.redirect)?void 0:o.universal)&&""!==(null==(l=null==(a=this.client.metadata)?void 0:a.redirect)?void 0:l.universal)&&void 0!==(null==(c=e?.redirect)?void 0:c.universal)&&""!==(null==(u=e?.redirect)?void 0:u.universal)&&!0===(null==(h=e?.redirect)?void 0:h.linkMode)&&this.client.core.linkModeSupportedApps.includes(e.redirect.universal)&&typeof(null==n.g?void 0:n.g.Linking)<"u")}),yR(this,"getAppLinkIfEnabled",(e,t)=>{var n;return this.isLinkModeEnabled(e,t)?null==(n=e?.redirect)?void 0:n.universal:void 0}),yR(this,"handleLinkModeMessage",e=>{let{url:t}=e;if(!t||!t.includes("wc_ev")||!t.includes("topic"))return;const n=fv(t,"topic")||"",r=decodeURIComponent(fv(t,"wc_ev")||""),i=this.client.session.keys.includes(n);i&&this.client.session.update(n,{transportType:dP.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:r,sessionExists:i})}),yR(this,"registerLinkModeListeners",async()=>{var e;if(pv()||Gb()&&null!=(e=this.client.metadata.redirect)&&e.linkMode){const e=null==n.g?void 0:n.g.Linking;if(typeof e<"u"){e.addEventListener("url",this.handleLinkModeMessage,this.client.name);const t=await e.getInitialURL();t&&setTimeout(()=>{this.handleLinkModeMessage({url:t})},50)}}}),yR(this,"getTVFParams",(e,t,n)=>{var r,i,s;if(null==(r=t.request)||!r.method)return{};const o={correlationId:e,rpcMethods:[t.request.method],chainId:t.chainId};try{const e=this.extractTxHashesFromResult(t.request,n);o.txHashes=e,o.contractAddresses=this.isValidContractData(t.request.params)?[null==(s=null==(i=t.request.params)?void 0:i[0])?void 0:s.to]:[]}catch(nc){this.client.logger.warn("Error getting TVF params",nc)}return o}),yR(this,"isValidContractData",e=>{var t;if(!e)return!1;try{const n=e?.data||(null==(t=e?.[0])?void 0:t.data);if(!n.startsWith("0x"))return!1;const r=n.slice(2);return!!/^[0-9a-fA-F]*$/.test(r)&&r.length%2===0}catch{}return!1}),yR(this,"extractTxHashesFromResult",(e,t)=>{var n;try{if(!t)return[];const r=e.method,i=rR[r];if("sui_signTransaction"===r)return[cA(t.transactionBytes)];if("near_signTransaction"===r)return[uA(t)];if("near_signTransactions"===r)return t.map(e=>uA(e));if("xrpl_signTransactionFor"===r||"xrpl_signTransaction"===r)return[null==(n=t.tx_json)?void 0:n.hash];if("polkadot_signTransaction"===r)return[lk({transaction:e.params.transactionPayload,signature:t.signature})];if("algo_signTxn"===r)return MI(t)?t.map(e=>hA(e)):[hA(t)];if("cosmos_signDirect"===r)return[dA(t)];if("string"==typeof t)return[t];const s=t[i.key];if(MI(s))return"solana_signAllTransactions"===r?s.map(e=>function(e){const t=atob(e),n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);const r=n[0];if(0===r)throw new Error("No signatures found");const i=1+64*r;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Pb.from(e,"base64").slice(1,65);return Vy.encode(s)}(e)):s;if("string"==typeof s)return[s]}catch(lc){this.client.logger.warn("Error extracting tx hashes from result",lc)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,t=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,r]of Object.entries(t))for(const e of r)try{await this.onProviderMessageEvent({topic:n,message:e,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${e}`)}}catch(sc){this.client.logger.warn("processPendingMessageEvents failed",sc)}}isInitialized(){if(!this.initialized){const{message:e}=LI("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(tP,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:t,message:n,attestation:r,transportType:i}=e,{publicKey:s}=this.client.auth.authKeys.keys.includes(oR)?this.client.auth.authKeys.get(oR):{responseTopic:void 0,publicKey:void 0};try{const e=await this.client.core.crypto.decode(t,n,{receiverPublicKey:s,encoding:i===dP.link_mode?ZS:YS});Bk(e)?(this.client.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e,attestation:r,transportType:i,encryptedId:nI(n)})):Uk(e)?(await this.client.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e,transportType:i}),this.client.core.history.delete(t,e.id)):await this.onRelayEventUnknownPayload({topic:t,payload:e,transportType:i}),await this.client.core.relayer.messages.ack(t,n)}catch(pt){this.client.logger.error(pt)}}registerExpirerEvents(){this.client.core.expirer.on(RP,async e=>{const{topic:t,id:n}=ov(e.target);return n&&this.client.pendingRequest.keys.includes(n)?await this.deletePendingSessionRequest(n,LI("EXPIRED"),!0):n&&this.client.auth.requests.keys.includes(n)?await this.deletePendingAuthRequest(n,LI("EXPIRED"),!0):void(t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n})))})}registerPairingEvents(){this.client.core.pairing.events.on(AP,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(SP,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!jI(e,!1)){const{message:t}=LI("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=LI("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(lv(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=LI("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!jI(e,!1)){const{message:t}=LI("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:t}=LI("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(lv(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:t}=LI("EXPIRED",`session topic: ${e}`);throw new Error(t)}if(!this.client.core.crypto.keychain.has(e)){const{message:t}=LI("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else{if(!this.client.core.pairing.pairings.keys.includes(e)){if(jI(e,!1)){const{message:t}=LI("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}{const{message:t}=LI("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}this.isValidPairingTopic(e)}}async isValidProposalId(e){if(!function(e){return"number"==typeof e}(e)){const{message:t}=LI("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=LI("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(lv(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:t}=LI("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}}class wR extends dT{constructor(e,t){super(e,t,"proposal",KT),this.core=e,this.logger=t}}class bR extends dT{constructor(e,t){super(e,t,"session",KT),this.core=e,this.logger=t}}class vR extends dT{constructor(e,t){super(e,t,"request",KT,e=>e.id),this.core=e,this.logger=t}}class ER extends dT{constructor(e,t){super(e,t,"authKeys",sR,()=>oR),this.core=e,this.logger=t}}class AR extends dT{constructor(e,t){super(e,t,"pairingTopics",sR),this.core=e,this.logger=t}}class xR extends dT{constructor(e,t){super(e,t,"requests",sR,e=>e.id),this.core=e,this.logger=t}}var SR=Object.defineProperty,IR=(e,t,n)=>((e,t,n)=>t in e?SR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class kR{constructor(e,t){this.core=e,this.logger=t,IR(this,"authKeys"),IR(this,"pairingTopics"),IR(this,"requests"),this.authKeys=new ER(this.core,this.logger),this.pairingTopics=new AR(this.core,this.logger),this.requests=new xR(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var PR=Object.defineProperty,OR=(e,t,n)=>((e,t,n)=>t in e?PR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class NR extends Xh{constructor(e){super(e),OR(this,"protocol","wc"),OR(this,"version",2),OR(this,"name",QT),OR(this,"metadata"),OR(this,"core"),OR(this,"logger"),OR(this,"events",new Su.EventEmitter),OR(this,"engine"),OR(this,"session"),OR(this,"proposal"),OR(this,"pendingRequest"),OR(this,"auth"),OR(this,"signConfig"),OR(this,"on",(e,t)=>this.events.on(e,t)),OR(this,"once",(e,t)=>this.events.once(e,t)),OR(this,"off",(e,t)=>this.events.off(e,t)),OR(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),OR(this,"removeAllListeners",e=>this.events.removeAllListeners(e)),OR(this,"connect",async e=>{try{return await this.engine.connect(e)}catch(ac){throw this.logger.error(ac.message),ac}}),OR(this,"pair",async e=>{try{return await this.engine.pair(e)}catch(ac){throw this.logger.error(ac.message),ac}}),OR(this,"approve",async e=>{try{return await this.engine.approve(e)}catch(ac){throw this.logger.error(ac.message),ac}}),OR(this,"reject",async e=>{try{return await this.engine.reject(e)}catch(ac){throw this.logger.error(ac.message),ac}}),OR(this,"update",async e=>{try{return await this.engine.update(e)}catch(ac){throw this.logger.error(ac.message),ac}}),OR(this,"extend",async e=>{try{return await this.engine.extend(e)}catch(ac){throw this.logger.error(ac.message),ac}}),OR(this,"request",async e=>{try{return await this.engine.request(e)}catch(ac){throw this.logger.error(ac.message),ac}}),OR(this,"respond",async e=>{try{return await this.engine.respond(e)}catch(ac){throw this.logger.error(ac.message),ac}}),OR(this,"ping",async e=>{try{return await this.engine.ping(e)}catch(ac){throw this.logger.error(ac.message),ac}}),OR(this,"emit",async e=>{try{return await this.engine.emit(e)}catch(ac){throw this.logger.error(ac.message),ac}}),OR(this,"disconnect",async e=>{try{return await this.engine.disconnect(e)}catch(ac){throw this.logger.error(ac.message),ac}}),OR(this,"find",e=>{try{return this.engine.find(e)}catch(ac){throw this.logger.error(ac.message),ac}}),OR(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(ec){throw this.logger.error(ec.message),ec}}),OR(this,"authenticate",async(e,t)=>{try{return await this.engine.authenticate(e,t)}catch(lc){throw this.logger.error(lc.message),lc}}),OR(this,"formatAuthMessage",e=>{try{return this.engine.formatAuthMessage(e)}catch(ac){throw this.logger.error(ac.message),ac}}),OR(this,"approveSessionAuthenticate",async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch(ac){throw this.logger.error(ac.message),ac}}),OR(this,"rejectSessionAuthenticate",async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch(ac){throw this.logger.error(ac.message),ac}}),this.name=e?.name||QT,this.metadata=Jb(e?.metadata),this.signConfig=e?.signConfig;const t=typeof e?.logger<"u"&&"string"!=typeof e?.logger?e.logger:dh()(Rh({level:e?.logger||WT}));this.core=e?.core||new $T(e),this.logger=Bh(t,this.name),this.session=new bR(this.core,this.logger),this.proposal=new wR(this.core,this.logger),this.pendingRequest=new vR(this.core,this.logger),this.engine=new mR(this),this.auth=new kR(this.core,this.logger)}static async init(e){const t=new NR(e);return await t.initialize(),t}get context(){return _h(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(sc){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(sc.message),sc}}}const CR=bR,TR=NR;var RR,_R={exports:{}},BR="object"==typeof Reflect?Reflect:null,UR=BR&&"function"==typeof BR.apply?BR.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};RR=BR&&"function"==typeof BR.ownKeys?BR.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var LR=Number.isNaN||function(e){return e!==e};function DR(){DR.init.call(this)}_R.exports=DR,_R.exports.once=function(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,s),r(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}KR(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&KR(e,"error",t,n)}(e,i,{once:!0})})},DR.EventEmitter=DR,DR.prototype._events=void 0,DR.prototype._eventsCount=0,DR.prototype._maxListeners=void 0;var MR=10;function FR(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function zR(e){return void 0===e._maxListeners?DR.defaultMaxListeners:e._maxListeners}function jR(e,t,n,r){var i,s,o;if(FR(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),void 0===o)o=s[t]=n,++e._eventsCount;else if("function"==typeof o?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=zR(e))>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,function(e){console&&console.warn&&console.warn(e)}(a)}return e}function VR(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function HR(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=VR.bind(r);return i.listener=n,r.wrapFn=i,i}function qR(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):GR(i,i.length)}function $R(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function GR(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function KR(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(s){r.once&&e.removeEventListener(t,i),n(s)})}}Object.defineProperty(DR,"defaultMaxListeners",{enumerable:!0,get:function(){return MR},set:function(e){if("number"!=typeof e||e<0||LR(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");MR=e}}),DR.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},DR.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||LR(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},DR.prototype.getMaxListeners=function(){return zR(this)},DR.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[e];if(void 0===a)return!1;if("function"==typeof a)UR(a,this,t);else{var l=a.length,c=GR(a,l);for(n=0;n<l;++n)UR(c[n],this,t)}return!0},DR.prototype.addListener=function(e,t){return jR(this,e,t,!1)},DR.prototype.on=DR.prototype.addListener,DR.prototype.prependListener=function(e,t){return jR(this,e,t,!0)},DR.prototype.once=function(e,t){return FR(t),this.on(e,HR(this,e,t)),this},DR.prototype.prependOnceListener=function(e,t){return FR(t),this.prependListener(e,HR(this,e,t)),this},DR.prototype.removeListener=function(e,t){var n,r,i,s,o;if(FR(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},DR.prototype.off=DR.prototype.removeListener,DR.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},DR.prototype.listeners=function(e){return qR(this,e,!0)},DR.prototype.rawListeners=function(e){return qR(this,e,!1)},DR.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):$R.call(e,t)},DR.prototype.listenerCount=$R,DR.prototype.eventNames=function(){return this._eventsCount>0?RR(this._events):[]};const QR="WalletKit";_R.exports;class WR{constructor(e){this.opts=e}}class JR{constructor(e){this.client=e}}var YR=Object.defineProperty,ZR=Object.defineProperties,XR=Object.getOwnPropertyDescriptors,e_=Object.getOwnPropertySymbols,t_=Object.prototype.hasOwnProperty,n_=Object.prototype.propertyIsEnumerable,r_=(e,t,n)=>t in e?YR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class i_ extends JR{constructor(e){super(e),this.init=async()=>{this.signClient=await TR.init({core:this.client.core,metadata:this.client.metadata,signConfig:this.client.signConfig}),this.signClient.core.eventClient.init().catch(e=>{this.client.logger.warn(e)})},this.pair=async e=>{await this.client.core.pairing.pair(e)},this.approveSession=async e=>{const{topic:t,acknowledged:n}=await this.signClient.approve(((e,t)=>ZR(e,XR(t)))(((e,t)=>{for(var n in t||(t={}))t_.call(t,n)&&r_(e,n,t[n]);if(e_)for(var n of e_(t))n_.call(t,n)&&r_(e,n,t[n]);return e})({},e),{id:e.id,namespaces:e.namespaces,sessionProperties:e.sessionProperties,sessionConfig:e.sessionConfig}));return await n(),this.signClient.session.get(t)},this.rejectSession=async e=>await this.signClient.reject(e),this.updateSession=async e=>await this.signClient.update(e),this.extendSession=async e=>await this.signClient.extend(e),this.respondSessionRequest=async e=>await this.signClient.respond(e),this.disconnectSession=async e=>await this.signClient.disconnect(e),this.emitSessionEvent=async e=>await this.signClient.emit(e),this.getActiveSessions=()=>this.signClient.session.getAll().reduce((e,t)=>(e[t.topic]=t,e),{}),this.getPendingSessionProposals=()=>this.signClient.proposal.getAll(),this.getPendingSessionRequests=()=>this.signClient.getPendingSessionRequests(),this.approveSessionAuthenticate=async e=>await this.signClient.approveSessionAuthenticate(e),this.rejectSessionAuthenticate=async e=>await this.signClient.rejectSessionAuthenticate(e),this.formatAuthMessage=e=>this.signClient.formatAuthMessage(e),this.registerDeviceToken=e=>this.client.core.echoClient.registerDeviceToken(e),this.on=(e,t)=>(this.setEvent(e,"off"),this.setEvent(e,"on"),this.client.events.on(e,t)),this.once=(e,t)=>(this.setEvent(e,"off"),this.setEvent(e,"once"),this.client.events.once(e,t)),this.off=(e,t)=>(this.setEvent(e,"off"),this.client.events.off(e,t)),this.removeListener=(e,t)=>(this.setEvent(e,"removeListener"),this.client.events.removeListener(e,t)),this.onSessionRequest=e=>{this.client.events.emit("session_request",e)},this.onSessionProposal=e=>{this.client.events.emit("session_proposal",e)},this.onSessionDelete=e=>{this.client.events.emit("session_delete",e)},this.onProposalExpire=e=>{this.client.events.emit("proposal_expire",e)},this.onSessionRequestExpire=e=>{this.client.events.emit("session_request_expire",e)},this.onSessionRequestAuthenticate=e=>{this.client.events.emit("session_authenticate",e)},this.setEvent=(e,t)=>{switch(e){case"session_request":this.signClient.events[t]("session_request",this.onSessionRequest);break;case"session_proposal":this.signClient.events[t]("session_proposal",this.onSessionProposal);break;case"session_delete":this.signClient.events[t]("session_delete",this.onSessionDelete);break;case"proposal_expire":this.signClient.events[t]("proposal_expire",this.onProposalExpire);break;case"session_request_expire":this.signClient.events[t]("session_request_expire",this.onSessionRequestExpire);break;case"session_authenticate":this.signClient.events[t]("session_authenticate",this.onSessionRequestAuthenticate)}},this.signClient={}}}const s_={decryptMessage:async e=>{const t={core:new $T({storageOptions:e.storageOptions,storage:e.storage})};await t.core.crypto.init();const n=t.core.crypto.decode(e.topic,e.encryptedMessage);return t.core=null,n},getMetadata:async e=>{const t={core:new $T({storageOptions:e.storageOptions,storage:e.storage}),sessionStore:null};t.sessionStore=new CR(t.core,t.core.logger),await t.sessionStore.init();const n=t.sessionStore.get(e.topic),r=n?.peer.metadata;return t.core=null,t.sessionStore=null,r}},o_=class extends WR{constructor(e){super(e),this.events=new _R.exports,this.on=(e,t)=>this.engine.on(e,t),this.once=(e,t)=>this.engine.once(e,t),this.off=(e,t)=>this.engine.off(e,t),this.removeListener=(e,t)=>this.engine.removeListener(e,t),this.pair=async e=>{try{return await this.engine.pair(e)}catch(ec){throw this.logger.error(ec.message),ec}},this.approveSession=async e=>{try{return await this.engine.approveSession(e)}catch(ec){throw this.logger.error(ec.message),ec}},this.rejectSession=async e=>{try{return await this.engine.rejectSession(e)}catch(ec){throw this.logger.error(ec.message),ec}},this.updateSession=async e=>{try{return await this.engine.updateSession(e)}catch(ec){throw this.logger.error(ec.message),ec}},this.extendSession=async e=>{try{return await this.engine.extendSession(e)}catch(ec){throw this.logger.error(ec.message),ec}},this.respondSessionRequest=async e=>{try{return await this.engine.respondSessionRequest(e)}catch(ec){throw this.logger.error(ec.message),ec}},this.disconnectSession=async e=>{try{return await this.engine.disconnectSession(e)}catch(ec){throw this.logger.error(ec.message),ec}},this.emitSessionEvent=async e=>{try{return await this.engine.emitSessionEvent(e)}catch(ec){throw this.logger.error(ec.message),ec}},this.getActiveSessions=()=>{try{return this.engine.getActiveSessions()}catch(tc){throw this.logger.error(tc.message),tc}},this.getPendingSessionProposals=()=>{try{return this.engine.getPendingSessionProposals()}catch(tc){throw this.logger.error(tc.message),tc}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(tc){throw this.logger.error(tc.message),tc}},this.registerDeviceToken=e=>{try{return this.engine.registerDeviceToken(e)}catch(ec){throw this.logger.error(ec.message),ec}},this.approveSessionAuthenticate=e=>{try{return this.engine.approveSessionAuthenticate(e)}catch(ec){throw this.logger.error(ec.message),ec}},this.rejectSessionAuthenticate=e=>{try{return this.engine.rejectSessionAuthenticate(e)}catch(ec){throw this.logger.error(ec.message),ec}},this.formatAuthMessage=e=>{try{return this.engine.formatAuthMessage(e)}catch(ec){throw this.logger.error(ec.message),ec}},this.metadata=e.metadata,this.name=e.name||QR,this.signConfig=e.signConfig,this.core=e.core,this.logger=this.core.logger,this.engine=new i_(this)}static async init(e){const t=new o_(e);return await t.initialize(),t}async initialize(){this.logger.trace("Initialized");try{await this.engine.init(),this.logger.info("WalletKit Initialization Success")}catch(pt){throw this.logger.info("WalletKit Initialization Failure"),this.logger.error(pt.message),pt}}};let a_=o_;a_.notifications=s_;const l_=a_,c_=new $T({projectId:"d5f50ebd4d80d847a5cccd500a37079f"}),u_={name:"JUSDC Wallet Viewer",description:"Multichain explorer for JUSDC tokens",url:"https://jusdc-official.github.io/wallet-viewer",icons:["https://gateway.pinata.cloud/ipfs/QmaEE6jZ8E8cCQ73yA7cdSyCzAjMHEdy5RgXpgmKQn2kMp"]};function h_(){const[e,t]=(0,y.useState)(null),[n,r]=(0,y.useState)(null),[i,s]=(0,y.useState)(""),o=e=>{switch(parseInt(e)){case 1:return"Ethereum";case 137:return"Polygon";case 8453:return"Base";default:return"Unknown"}},a=async()=>{try{const e=await async function(){return await l_.init({core:c_,metadata:u_})}(),{accounts:n,chainId:i}=await e.connect({chains:["eip155:1","eip155:137","eip155:8453"]}),a=e.getProvider(),l=new Xl(a),c=await l.getSigner(),u=xu[i];if(!u)return void alert(`Unsupported chain ID: ${i}`);t(c),r(u),s(o(i))}catch(e){console.error("\ud83d\udd34 Wallet connection error:",e),alert("\u274c Wallet connection failed.")}};return(0,y.useEffect)(()=>{a()},[]),(0,Zc.jsxs)("div",{style:{fontFamily:"Inter, sans-serif",background:"#fafafa",minHeight:"100vh"},children:[(0,Zc.jsx)(Xc,{chainName:i,signer:e,connectWallet:a}),(0,Zc.jsx)(eu,{}),(0,Zc.jsx)(tu,{chain:i}),(0,Zc.jsx)(nu,{chainId:null===n||void 0===n?void 0:n.chainId,setChainId:e=>{r(xu[e]),s(o(e)),a()},connectWallet:a}),n&&e?(0,Zc.jsxs)(Zc.Fragment,{children:[(0,Zc.jsx)(vu,{tokens:n.tokens,signer:e,chainName:i}),(0,Zc.jsx)(Eu,{tokens:n.tokens,signer:e})]}):(0,Zc.jsx)(Eu,{connectWallet:a}),(0,Zc.jsx)(Au,{}),(0,Zc.jsx)(Jc,{position:"bottom-right",toastOptions:{style:{background:"#333",color:"#fff",fontSize:"0.9rem",borderRadius:"6px"},success:{icon:"\u2705"},error:{icon:"\u274c"}}})]})}var f_,d_=n(119),p_=n.t(d_,2);function g_(){return g_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g_.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(f_||(f_={}));const y_="popstate";function m_(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function w_(e,t){return{usr:e.state,key:e.key,idx:t}}function b_(e,t,n,r){return void 0===n&&(n=null),g_({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?E_(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function v_(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function E_(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function A_(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=f_.Pop,l=null,c=u();function u(){return(o.state||{idx:null}).idx}function h(){a=f_.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:d.location,delta:t})}function f(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:v_(e);return n=n.replace(/ $/,"%20"),m_(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,o.replaceState(g_({},o.state,{idx:c}),""));let d={get action(){return a},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(y_,h),l=e,()=>{i.removeEventListener(y_,h),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=f_.Push;let r=b_(d.location,e,t);n&&n(r,e),c=u()+1;let h=w_(r,c),f=d.createHref(r);try{o.pushState(h,"",f)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(f)}s&&l&&l({action:a,location:d.location,delta:1})},replace:function(e,t){a=f_.Replace;let r=b_(d.location,e,t);n&&n(r,e),c=u();let i=w_(r,c),h=d.createHref(r);o.replaceState(i,"",h),s&&l&&l({action:a,location:d.location,delta:0})},go:e=>o.go(e)};return d}var x_;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(x_||(x_={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function S_(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}Error;const I_=["post","put","patch","delete"],k_=(new Set(I_),["get",...I_]);new Set(k_),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function P_(){return P_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P_.apply(this,arguments)}const O_=y.createContext(null);const N_=y.createContext(null);function C_(){return null!=y.useContext(N_)}y.Component;function T_(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}m.startTransition;function R_(e){let{basename:t="/",children:n=null,location:r,navigationType:i=f_.Pop,navigator:s,static:o=!1,future:a}=e;C_()&&m_(!1);let l=t.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:l,navigator:s,static:o,future:P_({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);"string"===typeof r&&(r=E_(r));let{pathname:u="/",search:h="",hash:f="",state:d=null,key:p="default"}=r,g=y.useMemo(()=>{let e=S_(u,l);return null==e?null:{location:{pathname:e,search:h,hash:f,state:d,key:p},navigationType:i}},[l,u,h,f,d,p,i]);return null==g?null:y.createElement(O_.Provider,{value:c},y.createElement(N_.Provider,{children:n,value:g}))}new Promise(()=>{});y.Component;new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(ec){}new Map;const __=m.startTransition;p_.flushSync,m.useId;function B_(e){let{basename:t,children:n,future:r,window:i}=e,s=y.useRef();var o;null==s.current&&(s.current=(void 0===(o={window:i,v5Compat:!0})&&(o={}),A_(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return b_("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:v_(t)},null,o)));let a=s.current,[l,c]=y.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},h=y.useCallback(e=>{u&&__?__(()=>c(e)):c(e)},[c,u]);return y.useLayoutEffect(()=>a.listen(h),[a,h]),y.useEffect(()=>T_(r),[r]),y.createElement(R_,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var U_,L_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(U_||(U_={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(L_||(L_={}));w.createRoot(document.getElementById("root")).render((0,Zc.jsx)(B_,{basename:"/wallet-viewer",children:(0,Zc.jsx)(y.StrictMode,{children:(0,Zc.jsx)(h_,{})})}))})()})();